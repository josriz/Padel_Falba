function Yh(i,r){for(var n=0;n<r.length;n++){const o=r[n];if(typeof o!="string"&&!Array.isArray(o)){for(const l in o)if(l!=="default"&&!(l in i)){const u=Object.getOwnPropertyDescriptor(o,l);u&&Object.defineProperty(i,l,u.get?u:{enumerable:!0,get:()=>o[l]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function Fl(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function og(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var r=i.default;if(typeof r=="function"){var n=function o(){var l=!1;try{l=this instanceof o}catch{}return l?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};n.prototype=r.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(i).forEach(function(o){var l=Object.getOwnPropertyDescriptor(i,o);Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:function(){return i[o]}})}),n}var dl={exports:{}},_s={},hl={exports:{}},ie={};var eh;function ag(){if(eh)return ie;eh=1;var i=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function k(C){return C===null||typeof C!="object"?null:(C=w&&C[w]||C["@@iterator"],typeof C=="function"?C:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,N={};function _(C,U,se){this.props=C,this.context=U,this.refs=N,this.updater=se||j}_.prototype.isReactComponent={},_.prototype.setState=function(C,U){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,U,"setState")},_.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function A(){}A.prototype=_.prototype;function $(C,U,se){this.props=C,this.context=U,this.refs=N,this.updater=se||j}var R=$.prototype=new A;R.constructor=$,E(R,_.prototype),R.isPureReactComponent=!0;var B=Array.isArray,Z=Object.prototype.hasOwnProperty,ne={current:null},oe={key:!0,ref:!0,__self:!0,__source:!0};function Se(C,U,se){var le,ce={},de=null,ve=null;if(U!=null)for(le in U.ref!==void 0&&(ve=U.ref),U.key!==void 0&&(de=""+U.key),U)Z.call(U,le)&&!oe.hasOwnProperty(le)&&(ce[le]=U[le]);var fe=arguments.length-2;if(fe===1)ce.children=se;else if(1<fe){for(var be=Array(fe),ot=0;ot<fe;ot++)be[ot]=arguments[ot+2];ce.children=be}if(C&&C.defaultProps)for(le in fe=C.defaultProps,fe)ce[le]===void 0&&(ce[le]=fe[le]);return{$$typeof:i,type:C,key:de,ref:ve,props:ce,_owner:ne.current}}function ae(C,U){return{$$typeof:i,type:C.type,key:U,ref:C.ref,props:C.props,_owner:C._owner}}function Ae(C){return typeof C=="object"&&C!==null&&C.$$typeof===i}function Sr(C){var U={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(se){return U[se]})}var Rt=/\/+/g;function it(C,U){return typeof C=="object"&&C!==null&&C.key!=null?Sr(""+C.key):U.toString(36)}function xt(C,U,se,le,ce){var de=typeof C;(de==="undefined"||de==="boolean")&&(C=null);var ve=!1;if(C===null)ve=!0;else switch(de){case"string":case"number":ve=!0;break;case"object":switch(C.$$typeof){case i:case r:ve=!0}}if(ve)return ve=C,ce=ce(ve),C=le===""?"."+it(ve,0):le,B(ce)?(se="",C!=null&&(se=C.replace(Rt,"$&/")+"/"),xt(ce,U,se,"",function(ot){return ot})):ce!=null&&(Ae(ce)&&(ce=ae(ce,se+(!ce.key||ve&&ve.key===ce.key?"":(""+ce.key).replace(Rt,"$&/")+"/")+C)),U.push(ce)),1;if(ve=0,le=le===""?".":le+":",B(C))for(var fe=0;fe<C.length;fe++){de=C[fe];var be=le+it(de,fe);ve+=xt(de,U,se,be,ce)}else if(be=k(C),typeof be=="function")for(C=be.call(C),fe=0;!(de=C.next()).done;)de=de.value,be=le+it(de,fe++),ve+=xt(de,U,se,be,ce);else if(de==="object")throw U=String(C),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return ve}function At(C,U,se){if(C==null)return C;var le=[],ce=0;return xt(C,le,"","",function(de){return U.call(se,de,ce++)}),le}function Xe(C){if(C._status===-1){var U=C._result;U=U(),U.then(function(se){(C._status===0||C._status===-1)&&(C._status=1,C._result=se)},function(se){(C._status===0||C._status===-1)&&(C._status=2,C._result=se)}),C._status===-1&&(C._status=0,C._result=U)}if(C._status===1)return C._result.default;throw C._result}var Ce={current:null},F={transition:null},te={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:F,ReactCurrentOwner:ne};function q(){throw Error("act(...) is not supported in production builds of React.")}return ie.Children={map:At,forEach:function(C,U,se){At(C,function(){U.apply(this,arguments)},se)},count:function(C){var U=0;return At(C,function(){U++}),U},toArray:function(C){return At(C,function(U){return U})||[]},only:function(C){if(!Ae(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},ie.Component=_,ie.Fragment=n,ie.Profiler=l,ie.PureComponent=$,ie.StrictMode=o,ie.Suspense=m,ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,ie.act=q,ie.cloneElement=function(C,U,se){if(C==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+C+".");var le=E({},C.props),ce=C.key,de=C.ref,ve=C._owner;if(U!=null){if(U.ref!==void 0&&(de=U.ref,ve=ne.current),U.key!==void 0&&(ce=""+U.key),C.type&&C.type.defaultProps)var fe=C.type.defaultProps;for(be in U)Z.call(U,be)&&!oe.hasOwnProperty(be)&&(le[be]=U[be]===void 0&&fe!==void 0?fe[be]:U[be])}var be=arguments.length-2;if(be===1)le.children=se;else if(1<be){fe=Array(be);for(var ot=0;ot<be;ot++)fe[ot]=arguments[ot+2];le.children=fe}return{$$typeof:i,type:C.type,key:ce,ref:de,props:le,_owner:ve}},ie.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},C.Provider={$$typeof:u,_context:C},C.Consumer=C},ie.createElement=Se,ie.createFactory=function(C){var U=Se.bind(null,C);return U.type=C,U},ie.createRef=function(){return{current:null}},ie.forwardRef=function(C){return{$$typeof:p,render:C}},ie.isValidElement=Ae,ie.lazy=function(C){return{$$typeof:y,_payload:{_status:-1,_result:C},_init:Xe}},ie.memo=function(C,U){return{$$typeof:g,type:C,compare:U===void 0?null:U}},ie.startTransition=function(C){var U=F.transition;F.transition={};try{C()}finally{F.transition=U}},ie.unstable_act=q,ie.useCallback=function(C,U){return Ce.current.useCallback(C,U)},ie.useContext=function(C){return Ce.current.useContext(C)},ie.useDebugValue=function(){},ie.useDeferredValue=function(C){return Ce.current.useDeferredValue(C)},ie.useEffect=function(C,U){return Ce.current.useEffect(C,U)},ie.useId=function(){return Ce.current.useId()},ie.useImperativeHandle=function(C,U,se){return Ce.current.useImperativeHandle(C,U,se)},ie.useInsertionEffect=function(C,U){return Ce.current.useInsertionEffect(C,U)},ie.useLayoutEffect=function(C,U){return Ce.current.useLayoutEffect(C,U)},ie.useMemo=function(C,U){return Ce.current.useMemo(C,U)},ie.useReducer=function(C,U,se){return Ce.current.useReducer(C,U,se)},ie.useRef=function(C){return Ce.current.useRef(C)},ie.useState=function(C){return Ce.current.useState(C)},ie.useSyncExternalStore=function(C,U,se){return Ce.current.useSyncExternalStore(C,U,se)},ie.useTransition=function(){return Ce.current.useTransition()},ie.version="18.3.1",ie}var th;function Vl(){return th||(th=1,hl.exports=ag()),hl.exports}var rh;function lg(){if(rh)return _s;rh=1;var i=Vl(),r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function d(p,m,g){var y,w={},k=null,j=null;g!==void 0&&(k=""+g),m.key!==void 0&&(k=""+m.key),m.ref!==void 0&&(j=m.ref);for(y in m)o.call(m,y)&&!u.hasOwnProperty(y)&&(w[y]=m[y]);if(p&&p.defaultProps)for(y in m=p.defaultProps,m)w[y]===void 0&&(w[y]=m[y]);return{$$typeof:r,type:p,key:k,ref:j,props:w,_owner:l.current}}return _s.Fragment=n,_s.jsx=d,_s.jsxs=d,_s}var nh;function ug(){return nh||(nh=1,dl.exports=lg()),dl.exports}var f=ug(),I=Vl();const Jt=Fl(I),cg=Yh({__proto__:null,default:Jt},[I]);var qi={},fl={exports:{}},st={},pl={exports:{}},ml={};var sh;function dg(){return sh||(sh=1,(function(i){function r(F,te){var q=F.length;F.push(te);e:for(;0<q;){var C=q-1>>>1,U=F[C];if(0<l(U,te))F[C]=te,F[q]=U,q=C;else break e}}function n(F){return F.length===0?null:F[0]}function o(F){if(F.length===0)return null;var te=F[0],q=F.pop();if(q!==te){F[0]=q;e:for(var C=0,U=F.length,se=U>>>1;C<se;){var le=2*(C+1)-1,ce=F[le],de=le+1,ve=F[de];if(0>l(ce,q))de<U&&0>l(ve,ce)?(F[C]=ve,F[de]=q,C=de):(F[C]=ce,F[le]=q,C=le);else if(de<U&&0>l(ve,q))F[C]=ve,F[de]=q,C=de;else break e}}return te}function l(F,te){var q=F.sortIndex-te.sortIndex;return q!==0?q:F.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();i.unstable_now=function(){return d.now()-p}}var m=[],g=[],y=1,w=null,k=3,j=!1,E=!1,N=!1,_=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(F){for(var te=n(g);te!==null;){if(te.callback===null)o(g);else if(te.startTime<=F)o(g),te.sortIndex=te.expirationTime,r(m,te);else break;te=n(g)}}function B(F){if(N=!1,R(F),!E)if(n(m)!==null)E=!0,Xe(Z);else{var te=n(g);te!==null&&Ce(B,te.startTime-F)}}function Z(F,te){E=!1,N&&(N=!1,A(Se),Se=-1),j=!0;var q=k;try{for(R(te),w=n(m);w!==null&&(!(w.expirationTime>te)||F&&!Sr());){var C=w.callback;if(typeof C=="function"){w.callback=null,k=w.priorityLevel;var U=C(w.expirationTime<=te);te=i.unstable_now(),typeof U=="function"?w.callback=U:w===n(m)&&o(m),R(te)}else o(m);w=n(m)}if(w!==null)var se=!0;else{var le=n(g);le!==null&&Ce(B,le.startTime-te),se=!1}return se}finally{w=null,k=q,j=!1}}var ne=!1,oe=null,Se=-1,ae=5,Ae=-1;function Sr(){return!(i.unstable_now()-Ae<ae)}function Rt(){if(oe!==null){var F=i.unstable_now();Ae=F;var te=!0;try{te=oe(!0,F)}finally{te?it():(ne=!1,oe=null)}}else ne=!1}var it;if(typeof $=="function")it=function(){$(Rt)};else if(typeof MessageChannel<"u"){var xt=new MessageChannel,At=xt.port2;xt.port1.onmessage=Rt,it=function(){At.postMessage(null)}}else it=function(){_(Rt,0)};function Xe(F){oe=F,ne||(ne=!0,it())}function Ce(F,te){Se=_(function(){F(i.unstable_now())},te)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(F){F.callback=null},i.unstable_continueExecution=function(){E||j||(E=!0,Xe(Z))},i.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<F?Math.floor(1e3/F):5},i.unstable_getCurrentPriorityLevel=function(){return k},i.unstable_getFirstCallbackNode=function(){return n(m)},i.unstable_next=function(F){switch(k){case 1:case 2:case 3:var te=3;break;default:te=k}var q=k;k=te;try{return F()}finally{k=q}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(F,te){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var q=k;k=F;try{return te()}finally{k=q}},i.unstable_scheduleCallback=function(F,te,q){var C=i.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?C+q:C):q=C,F){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=q+U,F={id:y++,callback:te,priorityLevel:F,startTime:q,expirationTime:U,sortIndex:-1},q>C?(F.sortIndex=q,r(g,F),n(m)===null&&F===n(g)&&(N?(A(Se),Se=-1):N=!0,Ce(B,q-C))):(F.sortIndex=U,r(m,F),E||j||(E=!0,Xe(Z))),F},i.unstable_shouldYield=Sr,i.unstable_wrapCallback=function(F){var te=k;return function(){var q=k;k=te;try{return F.apply(this,arguments)}finally{k=q}}}})(ml)),ml}var ih;function hg(){return ih||(ih=1,pl.exports=dg()),pl.exports}var oh;function fg(){if(oh)return st;oh=1;var i=Vl(),r=hg();function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function u(e,t){d(e,t),d(e+"Capture",t)}function d(e,t){for(l[e]=t,e=0;e<t.length;e++)o.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},w={};function k(e){return m.call(w,e)?!0:m.call(y,e)?!1:g.test(e)?w[e]=!0:(y[e]=!0,!1)}function j(e,t,s,a){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function E(e,t,s,a){if(t===null||typeof t>"u"||j(e,t,s,a))return!0;if(a)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function N(e,t,s,a,c,h,v){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=h,this.removeEmptyString=v}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_[e]=new N(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_[t]=new N(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){_[e]=new N(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_[e]=new N(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_[e]=new N(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){_[e]=new N(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){_[e]=new N(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){_[e]=new N(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){_[e]=new N(e,5,!1,e.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function $(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(A,$);_[t]=new N(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(A,$);_[t]=new N(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(A,$);_[t]=new N(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){_[e]=new N(e,1,!1,e.toLowerCase(),null,!1,!1)}),_.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){_[e]=new N(e,1,!1,e.toLowerCase(),null,!0,!0)});function R(e,t,s,a){var c=_.hasOwnProperty(t)?_[t]:null;(c!==null?c.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(E(t,s,c,a)&&(s=null),a||c===null?k(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):c.mustUseProperty?e[c.propertyName]=s===null?c.type===3?!1:"":s:(t=c.attributeName,a=c.attributeNamespace,s===null?e.removeAttribute(t):(c=c.type,s=c===3||c===4&&s===!0?"":""+s,a?e.setAttributeNS(a,t,s):e.setAttribute(t,s))))}var B=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Z=Symbol.for("react.element"),ne=Symbol.for("react.portal"),oe=Symbol.for("react.fragment"),Se=Symbol.for("react.strict_mode"),ae=Symbol.for("react.profiler"),Ae=Symbol.for("react.provider"),Sr=Symbol.for("react.context"),Rt=Symbol.for("react.forward_ref"),it=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),At=Symbol.for("react.memo"),Xe=Symbol.for("react.lazy"),Ce=Symbol.for("react.offscreen"),F=Symbol.iterator;function te(e){return e===null||typeof e!="object"?null:(e=F&&e[F]||e["@@iterator"],typeof e=="function"?e:null)}var q=Object.assign,C;function U(e){if(C===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);C=t&&t[1]||""}return`
`+C+e}var se=!1;function le(e,t){if(!e||se)return"";se=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(P){var a=P}Reflect.construct(e,[],t)}else{try{t.call()}catch(P){a=P}e.call(t.prototype)}else{try{throw Error()}catch(P){a=P}e()}}catch(P){if(P&&a&&typeof P.stack=="string"){for(var c=P.stack.split(`
`),h=a.stack.split(`
`),v=c.length-1,x=h.length-1;1<=v&&0<=x&&c[v]!==h[x];)x--;for(;1<=v&&0<=x;v--,x--)if(c[v]!==h[x]){if(v!==1||x!==1)do if(v--,x--,0>x||c[v]!==h[x]){var b=`
`+c[v].replace(" at new "," at ");return e.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",e.displayName)),b}while(1<=v&&0<=x);break}}}finally{se=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?U(e):""}function ce(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=le(e.type,!1),e;case 11:return e=le(e.type.render,!1),e;case 1:return e=le(e.type,!0),e;default:return""}}function de(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case oe:return"Fragment";case ne:return"Portal";case ae:return"Profiler";case Se:return"StrictMode";case it:return"Suspense";case xt:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Sr:return(e.displayName||"Context")+".Consumer";case Ae:return(e._context.displayName||"Context")+".Provider";case Rt:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case At:return t=e.displayName||null,t!==null?t:de(e.type)||"Memo";case Xe:t=e._payload,e=e._init;try{return de(e(t))}catch{}}return null}function ve(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return de(t);case 8:return t===Se?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function fe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ot(e){var t=be(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,h=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(v){a=""+v,h.call(this,v)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $s(e){e._valueTracker||(e._valueTracker=ot(e))}function ou(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),a="";return e&&(a=be(e)?e.checked?"true":"false":e.value),e=a,e!==s?(t.setValue(e),!0):!1}function Ls(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function yo(e,t){var s=t.checked;return q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function au(e,t){var s=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;s=fe(t.value!=null?t.value:s),e._wrapperState={initialChecked:a,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function lu(e,t){t=t.checked,t!=null&&R(e,"checked",t,!1)}function wo(e,t){lu(e,t);var s=fe(t.value),a=t.type;if(s!=null)a==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xo(e,t.type,s):t.hasOwnProperty("defaultValue")&&xo(e,t.type,fe(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function uu(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function xo(e,t,s){(t!=="number"||Ls(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Ln=Array.isArray;function qr(e,t,s,a){if(e=e.options,t){t={};for(var c=0;c<s.length;c++)t["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=t.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&a&&(e[s].defaultSelected=!0)}else{for(s=""+fe(s),t=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,a&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function _o(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(n(91));return q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function cu(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(n(92));if(Ln(s)){if(1<s.length)throw Error(n(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:fe(s)}}function du(e,t){var s=fe(t.value),a=fe(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),a!=null&&(e.defaultValue=""+a)}function hu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function fu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?fu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Us,pu=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,a,c){MSApp.execUnsafeLocalFunction(function(){return e(t,s,a,c)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Us=Us||document.createElement("div"),Us.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Us.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Un(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var Dn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cp=["Webkit","ms","Moz","O"];Object.keys(Dn).forEach(function(e){cp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Dn[t]=Dn[e]})});function mu(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||Dn.hasOwnProperty(e)&&Dn[e]?(""+t).trim():t+"px"}function gu(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var a=s.indexOf("--")===0,c=mu(s,t[s],a);s==="float"&&(s="cssFloat"),a?e.setProperty(s,c):e[s]=c}}var dp=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ko(e,t){if(t){if(dp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(n(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(n(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(n(61))}if(t.style!=null&&typeof t.style!="object")throw Error(n(62))}}function So(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jo=null;function Eo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var No=null,Hr=null,Kr=null;function vu(e){if(e=os(e)){if(typeof No!="function")throw Error(n(280));var t=e.stateNode;t&&(t=oi(t),No(e.stateNode,e.type,t))}}function yu(e){Hr?Kr?Kr.push(e):Kr=[e]:Hr=e}function wu(){if(Hr){var e=Hr,t=Kr;if(Kr=Hr=null,vu(e),t)for(e=0;e<t.length;e++)vu(t[e])}}function xu(e,t){return e(t)}function _u(){}var Co=!1;function bu(e,t,s){if(Co)return e(t,s);Co=!0;try{return xu(e,t,s)}finally{Co=!1,(Hr!==null||Kr!==null)&&(_u(),wu())}}function zn(e,t){var s=e.stateNode;if(s===null)return null;var a=oi(s);if(a===null)return null;s=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(n(231,t,typeof s));return s}var Oo=!1;if(p)try{var Mn={};Object.defineProperty(Mn,"passive",{get:function(){Oo=!0}}),window.addEventListener("test",Mn,Mn),window.removeEventListener("test",Mn,Mn)}catch{Oo=!1}function hp(e,t,s,a,c,h,v,x,b){var P=Array.prototype.slice.call(arguments,3);try{t.apply(s,P)}catch(D){this.onError(D)}}var Bn=!1,Ds=null,zs=!1,To=null,fp={onError:function(e){Bn=!0,Ds=e}};function pp(e,t,s,a,c,h,v,x,b){Bn=!1,Ds=null,hp.apply(fp,arguments)}function mp(e,t,s,a,c,h,v,x,b){if(pp.apply(this,arguments),Bn){if(Bn){var P=Ds;Bn=!1,Ds=null}else throw Error(n(198));zs||(zs=!0,To=P)}}function jr(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function ku(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Su(e){if(jr(e)!==e)throw Error(n(188))}function gp(e){var t=e.alternate;if(!t){if(t=jr(e),t===null)throw Error(n(188));return t!==e?null:e}for(var s=e,a=t;;){var c=s.return;if(c===null)break;var h=c.alternate;if(h===null){if(a=c.return,a!==null){s=a;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===s)return Su(c),e;if(h===a)return Su(c),t;h=h.sibling}throw Error(n(188))}if(s.return!==a.return)s=c,a=h;else{for(var v=!1,x=c.child;x;){if(x===s){v=!0,s=c,a=h;break}if(x===a){v=!0,a=c,s=h;break}x=x.sibling}if(!v){for(x=h.child;x;){if(x===s){v=!0,s=h,a=c;break}if(x===a){v=!0,a=h,s=c;break}x=x.sibling}if(!v)throw Error(n(189))}}if(s.alternate!==a)throw Error(n(190))}if(s.tag!==3)throw Error(n(188));return s.stateNode.current===s?e:t}function ju(e){return e=gp(e),e!==null?Eu(e):null}function Eu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Eu(e);if(t!==null)return t;e=e.sibling}return null}var Nu=r.unstable_scheduleCallback,Cu=r.unstable_cancelCallback,vp=r.unstable_shouldYield,yp=r.unstable_requestPaint,Te=r.unstable_now,wp=r.unstable_getCurrentPriorityLevel,Po=r.unstable_ImmediatePriority,Ou=r.unstable_UserBlockingPriority,Ms=r.unstable_NormalPriority,xp=r.unstable_LowPriority,Tu=r.unstable_IdlePriority,Bs=null,It=null;function _p(e){if(It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(Bs,e,void 0,(e.current.flags&128)===128)}catch{}}var _t=Math.clz32?Math.clz32:Sp,bp=Math.log,kp=Math.LN2;function Sp(e){return e>>>=0,e===0?32:31-(bp(e)/kp|0)|0}var Fs=64,Vs=4194304;function Fn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ws(e,t){var s=e.pendingLanes;if(s===0)return 0;var a=0,c=e.suspendedLanes,h=e.pingedLanes,v=s&268435455;if(v!==0){var x=v&~c;x!==0?a=Fn(x):(h&=v,h!==0&&(a=Fn(h)))}else v=s&~c,v!==0?a=Fn(v):h!==0&&(a=Fn(h));if(a===0)return 0;if(t!==0&&t!==a&&(t&c)===0&&(c=a&-a,h=t&-t,c>=h||c===16&&(h&4194240)!==0))return t;if((a&4)!==0&&(a|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)s=31-_t(t),c=1<<s,a|=e[s],t&=~c;return a}function jp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ep(e,t){for(var s=e.suspendedLanes,a=e.pingedLanes,c=e.expirationTimes,h=e.pendingLanes;0<h;){var v=31-_t(h),x=1<<v,b=c[v];b===-1?((x&s)===0||(x&a)!==0)&&(c[v]=jp(x,t)):b<=t&&(e.expiredLanes|=x),h&=~x}}function Ro(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Pu(){var e=Fs;return Fs<<=1,(Fs&4194240)===0&&(Fs=64),e}function Ao(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function Vn(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_t(t),e[t]=s}function Np(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<s;){var c=31-_t(s),h=1<<c;t[c]=0,a[c]=-1,e[c]=-1,s&=~h}}function Io(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var a=31-_t(s),c=1<<a;c&t|e[a]&t&&(e[a]|=t),s&=~c}}var pe=0;function Ru(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Au,$o,Iu,$u,Lu,Lo=!1,qs=[],Xt=null,Zt=null,er=null,Wn=new Map,qn=new Map,tr=[],Cp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uu(e,t){switch(e){case"focusin":case"focusout":Xt=null;break;case"dragenter":case"dragleave":Zt=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":Wn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qn.delete(t.pointerId)}}function Hn(e,t,s,a,c,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:s,eventSystemFlags:a,nativeEvent:h,targetContainers:[c]},t!==null&&(t=os(t),t!==null&&$o(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Op(e,t,s,a,c){switch(t){case"focusin":return Xt=Hn(Xt,e,t,s,a,c),!0;case"dragenter":return Zt=Hn(Zt,e,t,s,a,c),!0;case"mouseover":return er=Hn(er,e,t,s,a,c),!0;case"pointerover":var h=c.pointerId;return Wn.set(h,Hn(Wn.get(h)||null,e,t,s,a,c)),!0;case"gotpointercapture":return h=c.pointerId,qn.set(h,Hn(qn.get(h)||null,e,t,s,a,c)),!0}return!1}function Du(e){var t=Er(e.target);if(t!==null){var s=jr(t);if(s!==null){if(t=s.tag,t===13){if(t=ku(s),t!==null){e.blockedOn=t,Lu(e.priority,function(){Iu(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Do(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var a=new s.constructor(s.type,s);jo=a,s.target.dispatchEvent(a),jo=null}else return t=os(s),t!==null&&$o(t),e.blockedOn=s,!1;t.shift()}return!0}function zu(e,t,s){Hs(e)&&s.delete(t)}function Tp(){Lo=!1,Xt!==null&&Hs(Xt)&&(Xt=null),Zt!==null&&Hs(Zt)&&(Zt=null),er!==null&&Hs(er)&&(er=null),Wn.forEach(zu),qn.forEach(zu)}function Kn(e,t){e.blockedOn===t&&(e.blockedOn=null,Lo||(Lo=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Tp)))}function Gn(e){function t(c){return Kn(c,e)}if(0<qs.length){Kn(qs[0],e);for(var s=1;s<qs.length;s++){var a=qs[s];a.blockedOn===e&&(a.blockedOn=null)}}for(Xt!==null&&Kn(Xt,e),Zt!==null&&Kn(Zt,e),er!==null&&Kn(er,e),Wn.forEach(t),qn.forEach(t),s=0;s<tr.length;s++)a=tr[s],a.blockedOn===e&&(a.blockedOn=null);for(;0<tr.length&&(s=tr[0],s.blockedOn===null);)Du(s),s.blockedOn===null&&tr.shift()}var Gr=B.ReactCurrentBatchConfig,Ks=!0;function Pp(e,t,s,a){var c=pe,h=Gr.transition;Gr.transition=null;try{pe=1,Uo(e,t,s,a)}finally{pe=c,Gr.transition=h}}function Rp(e,t,s,a){var c=pe,h=Gr.transition;Gr.transition=null;try{pe=4,Uo(e,t,s,a)}finally{pe=c,Gr.transition=h}}function Uo(e,t,s,a){if(Ks){var c=Do(e,t,s,a);if(c===null)ta(e,t,a,Gs,s),Uu(e,a);else if(Op(c,e,t,s,a))a.stopPropagation();else if(Uu(e,a),t&4&&-1<Cp.indexOf(e)){for(;c!==null;){var h=os(c);if(h!==null&&Au(h),h=Do(e,t,s,a),h===null&&ta(e,t,a,Gs,s),h===c)break;c=h}c!==null&&a.stopPropagation()}else ta(e,t,a,null,s)}}var Gs=null;function Do(e,t,s,a){if(Gs=null,e=Eo(a),e=Er(e),e!==null)if(t=jr(e),t===null)e=null;else if(s=t.tag,s===13){if(e=ku(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gs=e,null}function Mu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wp()){case Po:return 1;case Ou:return 4;case Ms:case xp:return 16;case Tu:return 536870912;default:return 16}default:return 16}}var rr=null,zo=null,Js=null;function Bu(){if(Js)return Js;var e,t=zo,s=t.length,a,c="value"in rr?rr.value:rr.textContent,h=c.length;for(e=0;e<s&&t[e]===c[e];e++);var v=s-e;for(a=1;a<=v&&t[s-a]===c[h-a];a++);return Js=c.slice(e,1<a?1-a:void 0)}function Qs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ys(){return!0}function Fu(){return!1}function at(e){function t(s,a,c,h,v){this._reactName=s,this._targetInst=c,this.type=a,this.nativeEvent=h,this.target=v,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(s=e[x],this[x]=s?s(h):h[x]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Ys:Fu,this.isPropagationStopped=Fu,this}return q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ys)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ys)},persist:function(){},isPersistent:Ys}),t}var Jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mo=at(Jr),Jn=q({},Jr,{view:0,detail:0}),Ap=at(Jn),Bo,Fo,Qn,Xs=q({},Jn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qn&&(Qn&&e.type==="mousemove"?(Bo=e.screenX-Qn.screenX,Fo=e.screenY-Qn.screenY):Fo=Bo=0,Qn=e),Bo)},movementY:function(e){return"movementY"in e?e.movementY:Fo}}),Vu=at(Xs),Ip=q({},Xs,{dataTransfer:0}),$p=at(Ip),Lp=q({},Jn,{relatedTarget:0}),Vo=at(Lp),Up=q({},Jr,{animationName:0,elapsedTime:0,pseudoElement:0}),Dp=at(Up),zp=q({},Jr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Mp=at(zp),Bp=q({},Jr,{data:0}),Wu=at(Bp),Fp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Wp[e])?!!t[e]:!1}function Wo(){return qp}var Hp=q({},Jn,{key:function(e){if(e.key){var t=Fp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Qs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Vp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wo,charCode:function(e){return e.type==="keypress"?Qs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Kp=at(Hp),Gp=q({},Xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qu=at(Gp),Jp=q({},Jn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wo}),Qp=at(Jp),Yp=q({},Jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xp=at(Yp),Zp=q({},Xs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),em=at(Zp),tm=[9,13,27,32],qo=p&&"CompositionEvent"in window,Yn=null;p&&"documentMode"in document&&(Yn=document.documentMode);var rm=p&&"TextEvent"in window&&!Yn,Hu=p&&(!qo||Yn&&8<Yn&&11>=Yn),Ku=" ",Gu=!1;function Ju(e,t){switch(e){case"keyup":return tm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qr=!1;function nm(e,t){switch(e){case"compositionend":return Qu(t);case"keypress":return t.which!==32?null:(Gu=!0,Ku);case"textInput":return e=t.data,e===Ku&&Gu?null:e;default:return null}}function sm(e,t){if(Qr)return e==="compositionend"||!qo&&Ju(e,t)?(e=Bu(),Js=zo=rr=null,Qr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Hu&&t.locale!=="ko"?null:t.data;default:return null}}var im={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!im[e.type]:t==="textarea"}function Xu(e,t,s,a){yu(a),t=ni(t,"onChange"),0<t.length&&(s=new Mo("onChange","change",null,s,a),e.push({event:s,listeners:t}))}var Xn=null,Zn=null;function om(e){gc(e,0)}function Zs(e){var t=tn(e);if(ou(t))return e}function am(e,t){if(e==="change")return t}var Zu=!1;if(p){var Ho;if(p){var Ko="oninput"in document;if(!Ko){var ec=document.createElement("div");ec.setAttribute("oninput","return;"),Ko=typeof ec.oninput=="function"}Ho=Ko}else Ho=!1;Zu=Ho&&(!document.documentMode||9<document.documentMode)}function tc(){Xn&&(Xn.detachEvent("onpropertychange",rc),Zn=Xn=null)}function rc(e){if(e.propertyName==="value"&&Zs(Zn)){var t=[];Xu(t,Zn,e,Eo(e)),bu(om,t)}}function lm(e,t,s){e==="focusin"?(tc(),Xn=t,Zn=s,Xn.attachEvent("onpropertychange",rc)):e==="focusout"&&tc()}function um(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zs(Zn)}function cm(e,t){if(e==="click")return Zs(t)}function dm(e,t){if(e==="input"||e==="change")return Zs(t)}function hm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bt=typeof Object.is=="function"?Object.is:hm;function es(e,t){if(bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var c=s[a];if(!m.call(t,c)||!bt(e[c],t[c]))return!1}return!0}function nc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sc(e,t){var s=nc(e);e=0;for(var a;s;){if(s.nodeType===3){if(a=e+s.textContent.length,e<=t&&a>=t)return{node:s,offset:t-e};e=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=nc(s)}}function ic(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ic(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function oc(){for(var e=window,t=Ls();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Ls(e.document)}return t}function Go(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function fm(e){var t=oc(),s=e.focusedElem,a=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&ic(s.ownerDocument.documentElement,s)){if(a!==null&&Go(s)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var c=s.textContent.length,h=Math.min(a.start,c);a=a.end===void 0?h:Math.min(a.end,c),!e.extend&&h>a&&(c=a,a=h,h=c),c=sc(s,h);var v=sc(s,a);c&&v&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==v.node||e.focusOffset!==v.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),e.removeAllRanges(),h>a?(e.addRange(t),e.extend(v.node,v.offset)):(t.setEnd(v.node,v.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pm=p&&"documentMode"in document&&11>=document.documentMode,Yr=null,Jo=null,ts=null,Qo=!1;function ac(e,t,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Qo||Yr==null||Yr!==Ls(a)||(a=Yr,"selectionStart"in a&&Go(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),ts&&es(ts,a)||(ts=a,a=ni(Jo,"onSelect"),0<a.length&&(t=new Mo("onSelect","select",null,t,s),e.push({event:t,listeners:a}),t.target=Yr)))}function ei(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Xr={animationend:ei("Animation","AnimationEnd"),animationiteration:ei("Animation","AnimationIteration"),animationstart:ei("Animation","AnimationStart"),transitionend:ei("Transition","TransitionEnd")},Yo={},lc={};p&&(lc=document.createElement("div").style,"AnimationEvent"in window||(delete Xr.animationend.animation,delete Xr.animationiteration.animation,delete Xr.animationstart.animation),"TransitionEvent"in window||delete Xr.transitionend.transition);function ti(e){if(Yo[e])return Yo[e];if(!Xr[e])return e;var t=Xr[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in lc)return Yo[e]=t[s];return e}var uc=ti("animationend"),cc=ti("animationiteration"),dc=ti("animationstart"),hc=ti("transitionend"),fc=new Map,pc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nr(e,t){fc.set(e,t),u(t,[e])}for(var Xo=0;Xo<pc.length;Xo++){var Zo=pc[Xo],mm=Zo.toLowerCase(),gm=Zo[0].toUpperCase()+Zo.slice(1);nr(mm,"on"+gm)}nr(uc,"onAnimationEnd"),nr(cc,"onAnimationIteration"),nr(dc,"onAnimationStart"),nr("dblclick","onDoubleClick"),nr("focusin","onFocus"),nr("focusout","onBlur"),nr(hc,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vm=new Set("cancel close invalid load scroll toggle".split(" ").concat(rs));function mc(e,t,s){var a=e.type||"unknown-event";e.currentTarget=s,mp(a,t,void 0,e),e.currentTarget=null}function gc(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var a=e[s],c=a.event;a=a.listeners;e:{var h=void 0;if(t)for(var v=a.length-1;0<=v;v--){var x=a[v],b=x.instance,P=x.currentTarget;if(x=x.listener,b!==h&&c.isPropagationStopped())break e;mc(c,x,P),h=b}else for(v=0;v<a.length;v++){if(x=a[v],b=x.instance,P=x.currentTarget,x=x.listener,b!==h&&c.isPropagationStopped())break e;mc(c,x,P),h=b}}}if(zs)throw e=To,zs=!1,To=null,e}function xe(e,t){var s=t[aa];s===void 0&&(s=t[aa]=new Set);var a=e+"__bubble";s.has(a)||(vc(t,e,2,!1),s.add(a))}function ea(e,t,s){var a=0;t&&(a|=4),vc(s,e,a,t)}var ri="_reactListening"+Math.random().toString(36).slice(2);function ns(e){if(!e[ri]){e[ri]=!0,o.forEach(function(s){s!=="selectionchange"&&(vm.has(s)||ea(s,!1,e),ea(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ri]||(t[ri]=!0,ea("selectionchange",!1,t))}}function vc(e,t,s,a){switch(Mu(t)){case 1:var c=Pp;break;case 4:c=Rp;break;default:c=Uo}s=c.bind(null,t,s,e),c=void 0,!Oo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),a?c!==void 0?e.addEventListener(t,s,{capture:!0,passive:c}):e.addEventListener(t,s,!0):c!==void 0?e.addEventListener(t,s,{passive:c}):e.addEventListener(t,s,!1)}function ta(e,t,s,a,c){var h=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var v=a.tag;if(v===3||v===4){var x=a.stateNode.containerInfo;if(x===c||x.nodeType===8&&x.parentNode===c)break;if(v===4)for(v=a.return;v!==null;){var b=v.tag;if((b===3||b===4)&&(b=v.stateNode.containerInfo,b===c||b.nodeType===8&&b.parentNode===c))return;v=v.return}for(;x!==null;){if(v=Er(x),v===null)return;if(b=v.tag,b===5||b===6){a=h=v;continue e}x=x.parentNode}}a=a.return}bu(function(){var P=h,D=Eo(s),z=[];e:{var L=fc.get(e);if(L!==void 0){var V=Mo,K=e;switch(e){case"keypress":if(Qs(s)===0)break e;case"keydown":case"keyup":V=Kp;break;case"focusin":K="focus",V=Vo;break;case"focusout":K="blur",V=Vo;break;case"beforeblur":case"afterblur":V=Vo;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=Vu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=$p;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=Qp;break;case uc:case cc:case dc:V=Dp;break;case hc:V=Xp;break;case"scroll":V=Ap;break;case"wheel":V=em;break;case"copy":case"cut":case"paste":V=Mp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=qu}var G=(t&4)!==0,Pe=!G&&e==="scroll",O=G?L!==null?L+"Capture":null:L;G=[];for(var S=P,T;S!==null;){T=S;var M=T.stateNode;if(T.tag===5&&M!==null&&(T=M,O!==null&&(M=zn(S,O),M!=null&&G.push(ss(S,M,T)))),Pe)break;S=S.return}0<G.length&&(L=new V(L,K,null,s,D),z.push({event:L,listeners:G}))}}if((t&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",V=e==="mouseout"||e==="pointerout",L&&s!==jo&&(K=s.relatedTarget||s.fromElement)&&(Er(K)||K[Mt]))break e;if((V||L)&&(L=D.window===D?D:(L=D.ownerDocument)?L.defaultView||L.parentWindow:window,V?(K=s.relatedTarget||s.toElement,V=P,K=K?Er(K):null,K!==null&&(Pe=jr(K),K!==Pe||K.tag!==5&&K.tag!==6)&&(K=null)):(V=null,K=P),V!==K)){if(G=Vu,M="onMouseLeave",O="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(G=qu,M="onPointerLeave",O="onPointerEnter",S="pointer"),Pe=V==null?L:tn(V),T=K==null?L:tn(K),L=new G(M,S+"leave",V,s,D),L.target=Pe,L.relatedTarget=T,M=null,Er(D)===P&&(G=new G(O,S+"enter",K,s,D),G.target=T,G.relatedTarget=Pe,M=G),Pe=M,V&&K)t:{for(G=V,O=K,S=0,T=G;T;T=Zr(T))S++;for(T=0,M=O;M;M=Zr(M))T++;for(;0<S-T;)G=Zr(G),S--;for(;0<T-S;)O=Zr(O),T--;for(;S--;){if(G===O||O!==null&&G===O.alternate)break t;G=Zr(G),O=Zr(O)}G=null}else G=null;V!==null&&yc(z,L,V,G,!1),K!==null&&Pe!==null&&yc(z,Pe,K,G,!0)}}e:{if(L=P?tn(P):window,V=L.nodeName&&L.nodeName.toLowerCase(),V==="select"||V==="input"&&L.type==="file")var J=am;else if(Yu(L))if(Zu)J=dm;else{J=um;var Y=lm}else(V=L.nodeName)&&V.toLowerCase()==="input"&&(L.type==="checkbox"||L.type==="radio")&&(J=cm);if(J&&(J=J(e,P))){Xu(z,J,s,D);break e}Y&&Y(e,L,P),e==="focusout"&&(Y=L._wrapperState)&&Y.controlled&&L.type==="number"&&xo(L,"number",L.value)}switch(Y=P?tn(P):window,e){case"focusin":(Yu(Y)||Y.contentEditable==="true")&&(Yr=Y,Jo=P,ts=null);break;case"focusout":ts=Jo=Yr=null;break;case"mousedown":Qo=!0;break;case"contextmenu":case"mouseup":case"dragend":Qo=!1,ac(z,s,D);break;case"selectionchange":if(pm)break;case"keydown":case"keyup":ac(z,s,D)}var X;if(qo)e:{switch(e){case"compositionstart":var re="onCompositionStart";break e;case"compositionend":re="onCompositionEnd";break e;case"compositionupdate":re="onCompositionUpdate";break e}re=void 0}else Qr?Ju(e,s)&&(re="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(re="onCompositionStart");re&&(Hu&&s.locale!=="ko"&&(Qr||re!=="onCompositionStart"?re==="onCompositionEnd"&&Qr&&(X=Bu()):(rr=D,zo="value"in rr?rr.value:rr.textContent,Qr=!0)),Y=ni(P,re),0<Y.length&&(re=new Wu(re,e,null,s,D),z.push({event:re,listeners:Y}),X?re.data=X:(X=Qu(s),X!==null&&(re.data=X)))),(X=rm?nm(e,s):sm(e,s))&&(P=ni(P,"onBeforeInput"),0<P.length&&(D=new Wu("onBeforeInput","beforeinput",null,s,D),z.push({event:D,listeners:P}),D.data=X))}gc(z,t)})}function ss(e,t,s){return{instance:e,listener:t,currentTarget:s}}function ni(e,t){for(var s=t+"Capture",a=[];e!==null;){var c=e,h=c.stateNode;c.tag===5&&h!==null&&(c=h,h=zn(e,s),h!=null&&a.unshift(ss(e,h,c)),h=zn(e,t),h!=null&&a.push(ss(e,h,c))),e=e.return}return a}function Zr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function yc(e,t,s,a,c){for(var h=t._reactName,v=[];s!==null&&s!==a;){var x=s,b=x.alternate,P=x.stateNode;if(b!==null&&b===a)break;x.tag===5&&P!==null&&(x=P,c?(b=zn(s,h),b!=null&&v.unshift(ss(s,b,x))):c||(b=zn(s,h),b!=null&&v.push(ss(s,b,x)))),s=s.return}v.length!==0&&e.push({event:t,listeners:v})}var ym=/\r\n?/g,wm=/\u0000|\uFFFD/g;function wc(e){return(typeof e=="string"?e:""+e).replace(ym,`
`).replace(wm,"")}function si(e,t,s){if(t=wc(t),wc(e)!==t&&s)throw Error(n(425))}function ii(){}var ra=null,na=null;function sa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ia=typeof setTimeout=="function"?setTimeout:void 0,xm=typeof clearTimeout=="function"?clearTimeout:void 0,xc=typeof Promise=="function"?Promise:void 0,_m=typeof queueMicrotask=="function"?queueMicrotask:typeof xc<"u"?function(e){return xc.resolve(null).then(e).catch(bm)}:ia;function bm(e){setTimeout(function(){throw e})}function oa(e,t){var s=t,a=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"){if(a===0){e.removeChild(c),Gn(t);return}a--}else s!=="$"&&s!=="$?"&&s!=="$!"||a++;s=c}while(s);Gn(t)}function sr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _c(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var en=Math.random().toString(36).slice(2),$t="__reactFiber$"+en,is="__reactProps$"+en,Mt="__reactContainer$"+en,aa="__reactEvents$"+en,km="__reactListeners$"+en,Sm="__reactHandles$"+en;function Er(e){var t=e[$t];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Mt]||s[$t]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=_c(e);e!==null;){if(s=e[$t])return s;e=_c(e)}return t}e=s,s=e.parentNode}return null}function os(e){return e=e[$t]||e[Mt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function tn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(n(33))}function oi(e){return e[is]||null}var la=[],rn=-1;function ir(e){return{current:e}}function _e(e){0>rn||(e.current=la[rn],la[rn]=null,rn--)}function ye(e,t){rn++,la[rn]=e.current,e.current=t}var or={},qe=ir(or),Ze=ir(!1),Nr=or;function nn(e,t){var s=e.type.contextTypes;if(!s)return or;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var c={},h;for(h in s)c[h]=t[h];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=c),c}function et(e){return e=e.childContextTypes,e!=null}function ai(){_e(Ze),_e(qe)}function bc(e,t,s){if(qe.current!==or)throw Error(n(168));ye(qe,t),ye(Ze,s)}function kc(e,t,s){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return s;a=a.getChildContext();for(var c in a)if(!(c in t))throw Error(n(108,ve(e)||"Unknown",c));return q({},s,a)}function li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||or,Nr=qe.current,ye(qe,e),ye(Ze,Ze.current),!0}function Sc(e,t,s){var a=e.stateNode;if(!a)throw Error(n(169));s?(e=kc(e,t,Nr),a.__reactInternalMemoizedMergedChildContext=e,_e(Ze),_e(qe),ye(qe,e)):_e(Ze),ye(Ze,s)}var Bt=null,ui=!1,ua=!1;function jc(e){Bt===null?Bt=[e]:Bt.push(e)}function jm(e){ui=!0,jc(e)}function ar(){if(!ua&&Bt!==null){ua=!0;var e=0,t=pe;try{var s=Bt;for(pe=1;e<s.length;e++){var a=s[e];do a=a(!0);while(a!==null)}Bt=null,ui=!1}catch(c){throw Bt!==null&&(Bt=Bt.slice(e+1)),Nu(Po,ar),c}finally{pe=t,ua=!1}}return null}var sn=[],on=0,ci=null,di=0,pt=[],mt=0,Cr=null,Ft=1,Vt="";function Or(e,t){sn[on++]=di,sn[on++]=ci,ci=e,di=t}function Ec(e,t,s){pt[mt++]=Ft,pt[mt++]=Vt,pt[mt++]=Cr,Cr=e;var a=Ft;e=Vt;var c=32-_t(a)-1;a&=~(1<<c),s+=1;var h=32-_t(t)+c;if(30<h){var v=c-c%5;h=(a&(1<<v)-1).toString(32),a>>=v,c-=v,Ft=1<<32-_t(t)+c|s<<c|a,Vt=h+e}else Ft=1<<h|s<<c|a,Vt=e}function ca(e){e.return!==null&&(Or(e,1),Ec(e,1,0))}function da(e){for(;e===ci;)ci=sn[--on],sn[on]=null,di=sn[--on],sn[on]=null;for(;e===Cr;)Cr=pt[--mt],pt[mt]=null,Vt=pt[--mt],pt[mt]=null,Ft=pt[--mt],pt[mt]=null}var lt=null,ut=null,ke=!1,kt=null;function Nc(e,t){var s=wt(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function Cc(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,lt=e,ut=sr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,lt=e,ut=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=Cr!==null?{id:Ft,overflow:Vt}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=wt(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,lt=e,ut=null,!0):!1;default:return!1}}function ha(e){return(e.mode&1)!==0&&(e.flags&128)===0}function fa(e){if(ke){var t=ut;if(t){var s=t;if(!Cc(e,t)){if(ha(e))throw Error(n(418));t=sr(s.nextSibling);var a=lt;t&&Cc(e,t)?Nc(a,s):(e.flags=e.flags&-4097|2,ke=!1,lt=e)}}else{if(ha(e))throw Error(n(418));e.flags=e.flags&-4097|2,ke=!1,lt=e}}}function Oc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;lt=e}function hi(e){if(e!==lt)return!1;if(!ke)return Oc(e),ke=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!sa(e.type,e.memoizedProps)),t&&(t=ut)){if(ha(e))throw Tc(),Error(n(418));for(;t;)Nc(e,t),t=sr(t.nextSibling)}if(Oc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){ut=sr(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}ut=null}}else ut=lt?sr(e.stateNode.nextSibling):null;return!0}function Tc(){for(var e=ut;e;)e=sr(e.nextSibling)}function an(){ut=lt=null,ke=!1}function pa(e){kt===null?kt=[e]:kt.push(e)}var Em=B.ReactCurrentBatchConfig;function as(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(n(309));var a=s.stateNode}if(!a)throw Error(n(147,e));var c=a,h=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===h?t.ref:(t=function(v){var x=c.refs;v===null?delete x[h]:x[h]=v},t._stringRef=h,t)}if(typeof e!="string")throw Error(n(284));if(!s._owner)throw Error(n(290,e))}return e}function fi(e,t){throw e=Object.prototype.toString.call(t),Error(n(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Pc(e){var t=e._init;return t(e._payload)}function Rc(e){function t(O,S){if(e){var T=O.deletions;T===null?(O.deletions=[S],O.flags|=16):T.push(S)}}function s(O,S){if(!e)return null;for(;S!==null;)t(O,S),S=S.sibling;return null}function a(O,S){for(O=new Map;S!==null;)S.key!==null?O.set(S.key,S):O.set(S.index,S),S=S.sibling;return O}function c(O,S){return O=mr(O,S),O.index=0,O.sibling=null,O}function h(O,S,T){return O.index=T,e?(T=O.alternate,T!==null?(T=T.index,T<S?(O.flags|=2,S):T):(O.flags|=2,S)):(O.flags|=1048576,S)}function v(O){return e&&O.alternate===null&&(O.flags|=2),O}function x(O,S,T,M){return S===null||S.tag!==6?(S=il(T,O.mode,M),S.return=O,S):(S=c(S,T),S.return=O,S)}function b(O,S,T,M){var J=T.type;return J===oe?D(O,S,T.props.children,M,T.key):S!==null&&(S.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===Xe&&Pc(J)===S.type)?(M=c(S,T.props),M.ref=as(O,S,T),M.return=O,M):(M=Ui(T.type,T.key,T.props,null,O.mode,M),M.ref=as(O,S,T),M.return=O,M)}function P(O,S,T,M){return S===null||S.tag!==4||S.stateNode.containerInfo!==T.containerInfo||S.stateNode.implementation!==T.implementation?(S=ol(T,O.mode,M),S.return=O,S):(S=c(S,T.children||[]),S.return=O,S)}function D(O,S,T,M,J){return S===null||S.tag!==7?(S=Ur(T,O.mode,M,J),S.return=O,S):(S=c(S,T),S.return=O,S)}function z(O,S,T){if(typeof S=="string"&&S!==""||typeof S=="number")return S=il(""+S,O.mode,T),S.return=O,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Z:return T=Ui(S.type,S.key,S.props,null,O.mode,T),T.ref=as(O,null,S),T.return=O,T;case ne:return S=ol(S,O.mode,T),S.return=O,S;case Xe:var M=S._init;return z(O,M(S._payload),T)}if(Ln(S)||te(S))return S=Ur(S,O.mode,T,null),S.return=O,S;fi(O,S)}return null}function L(O,S,T,M){var J=S!==null?S.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return J!==null?null:x(O,S,""+T,M);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Z:return T.key===J?b(O,S,T,M):null;case ne:return T.key===J?P(O,S,T,M):null;case Xe:return J=T._init,L(O,S,J(T._payload),M)}if(Ln(T)||te(T))return J!==null?null:D(O,S,T,M,null);fi(O,T)}return null}function V(O,S,T,M,J){if(typeof M=="string"&&M!==""||typeof M=="number")return O=O.get(T)||null,x(S,O,""+M,J);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Z:return O=O.get(M.key===null?T:M.key)||null,b(S,O,M,J);case ne:return O=O.get(M.key===null?T:M.key)||null,P(S,O,M,J);case Xe:var Y=M._init;return V(O,S,T,Y(M._payload),J)}if(Ln(M)||te(M))return O=O.get(T)||null,D(S,O,M,J,null);fi(S,M)}return null}function K(O,S,T,M){for(var J=null,Y=null,X=S,re=S=0,Be=null;X!==null&&re<T.length;re++){X.index>re?(Be=X,X=null):Be=X.sibling;var he=L(O,X,T[re],M);if(he===null){X===null&&(X=Be);break}e&&X&&he.alternate===null&&t(O,X),S=h(he,S,re),Y===null?J=he:Y.sibling=he,Y=he,X=Be}if(re===T.length)return s(O,X),ke&&Or(O,re),J;if(X===null){for(;re<T.length;re++)X=z(O,T[re],M),X!==null&&(S=h(X,S,re),Y===null?J=X:Y.sibling=X,Y=X);return ke&&Or(O,re),J}for(X=a(O,X);re<T.length;re++)Be=V(X,O,re,T[re],M),Be!==null&&(e&&Be.alternate!==null&&X.delete(Be.key===null?re:Be.key),S=h(Be,S,re),Y===null?J=Be:Y.sibling=Be,Y=Be);return e&&X.forEach(function(gr){return t(O,gr)}),ke&&Or(O,re),J}function G(O,S,T,M){var J=te(T);if(typeof J!="function")throw Error(n(150));if(T=J.call(T),T==null)throw Error(n(151));for(var Y=J=null,X=S,re=S=0,Be=null,he=T.next();X!==null&&!he.done;re++,he=T.next()){X.index>re?(Be=X,X=null):Be=X.sibling;var gr=L(O,X,he.value,M);if(gr===null){X===null&&(X=Be);break}e&&X&&gr.alternate===null&&t(O,X),S=h(gr,S,re),Y===null?J=gr:Y.sibling=gr,Y=gr,X=Be}if(he.done)return s(O,X),ke&&Or(O,re),J;if(X===null){for(;!he.done;re++,he=T.next())he=z(O,he.value,M),he!==null&&(S=h(he,S,re),Y===null?J=he:Y.sibling=he,Y=he);return ke&&Or(O,re),J}for(X=a(O,X);!he.done;re++,he=T.next())he=V(X,O,re,he.value,M),he!==null&&(e&&he.alternate!==null&&X.delete(he.key===null?re:he.key),S=h(he,S,re),Y===null?J=he:Y.sibling=he,Y=he);return e&&X.forEach(function(ig){return t(O,ig)}),ke&&Or(O,re),J}function Pe(O,S,T,M){if(typeof T=="object"&&T!==null&&T.type===oe&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Z:e:{for(var J=T.key,Y=S;Y!==null;){if(Y.key===J){if(J=T.type,J===oe){if(Y.tag===7){s(O,Y.sibling),S=c(Y,T.props.children),S.return=O,O=S;break e}}else if(Y.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===Xe&&Pc(J)===Y.type){s(O,Y.sibling),S=c(Y,T.props),S.ref=as(O,Y,T),S.return=O,O=S;break e}s(O,Y);break}else t(O,Y);Y=Y.sibling}T.type===oe?(S=Ur(T.props.children,O.mode,M,T.key),S.return=O,O=S):(M=Ui(T.type,T.key,T.props,null,O.mode,M),M.ref=as(O,S,T),M.return=O,O=M)}return v(O);case ne:e:{for(Y=T.key;S!==null;){if(S.key===Y)if(S.tag===4&&S.stateNode.containerInfo===T.containerInfo&&S.stateNode.implementation===T.implementation){s(O,S.sibling),S=c(S,T.children||[]),S.return=O,O=S;break e}else{s(O,S);break}else t(O,S);S=S.sibling}S=ol(T,O.mode,M),S.return=O,O=S}return v(O);case Xe:return Y=T._init,Pe(O,S,Y(T._payload),M)}if(Ln(T))return K(O,S,T,M);if(te(T))return G(O,S,T,M);fi(O,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,S!==null&&S.tag===6?(s(O,S.sibling),S=c(S,T),S.return=O,O=S):(s(O,S),S=il(T,O.mode,M),S.return=O,O=S),v(O)):s(O,S)}return Pe}var ln=Rc(!0),Ac=Rc(!1),pi=ir(null),mi=null,un=null,ma=null;function ga(){ma=un=mi=null}function va(e){var t=pi.current;_e(pi),e._currentValue=t}function ya(e,t,s){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===s)break;e=e.return}}function cn(e,t){mi=e,ma=un=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(tt=!0),e.firstContext=null)}function gt(e){var t=e._currentValue;if(ma!==e)if(e={context:e,memoizedValue:t,next:null},un===null){if(mi===null)throw Error(n(308));un=e,mi.dependencies={lanes:0,firstContext:e}}else un=un.next=e;return t}var Tr=null;function wa(e){Tr===null?Tr=[e]:Tr.push(e)}function Ic(e,t,s,a){var c=t.interleaved;return c===null?(s.next=s,wa(t)):(s.next=c.next,c.next=s),t.interleaved=s,Wt(e,a)}function Wt(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var lr=!1;function xa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $c(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ur(e,t,s){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(ue&2)!==0){var c=a.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),a.pending=t,Wt(e,s)}return c=a.interleaved,c===null?(t.next=t,wa(a)):(t.next=c.next,c.next=t),a.interleaved=t,Wt(e,s)}function gi(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,s|=a,t.lanes=s,Io(e,s)}}function Lc(e,t){var s=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var c=null,h=null;if(s=s.firstBaseUpdate,s!==null){do{var v={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};h===null?c=h=v:h=h.next=v,s=s.next}while(s!==null);h===null?c=h=t:h=h.next=t}else c=h=t;s={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:a.shared,effects:a.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function vi(e,t,s,a){var c=e.updateQueue;lr=!1;var h=c.firstBaseUpdate,v=c.lastBaseUpdate,x=c.shared.pending;if(x!==null){c.shared.pending=null;var b=x,P=b.next;b.next=null,v===null?h=P:v.next=P,v=b;var D=e.alternate;D!==null&&(D=D.updateQueue,x=D.lastBaseUpdate,x!==v&&(x===null?D.firstBaseUpdate=P:x.next=P,D.lastBaseUpdate=b))}if(h!==null){var z=c.baseState;v=0,D=P=b=null,x=h;do{var L=x.lane,V=x.eventTime;if((a&L)===L){D!==null&&(D=D.next={eventTime:V,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var K=e,G=x;switch(L=t,V=s,G.tag){case 1:if(K=G.payload,typeof K=="function"){z=K.call(V,z,L);break e}z=K;break e;case 3:K.flags=K.flags&-65537|128;case 0:if(K=G.payload,L=typeof K=="function"?K.call(V,z,L):K,L==null)break e;z=q({},z,L);break e;case 2:lr=!0}}x.callback!==null&&x.lane!==0&&(e.flags|=64,L=c.effects,L===null?c.effects=[x]:L.push(x))}else V={eventTime:V,lane:L,tag:x.tag,payload:x.payload,callback:x.callback,next:null},D===null?(P=D=V,b=z):D=D.next=V,v|=L;if(x=x.next,x===null){if(x=c.shared.pending,x===null)break;L=x,x=L.next,L.next=null,c.lastBaseUpdate=L,c.shared.pending=null}}while(!0);if(D===null&&(b=z),c.baseState=b,c.firstBaseUpdate=P,c.lastBaseUpdate=D,t=c.shared.interleaved,t!==null){c=t;do v|=c.lane,c=c.next;while(c!==t)}else h===null&&(c.shared.lanes=0);Ar|=v,e.lanes=v,e.memoizedState=z}}function Uc(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],c=a.callback;if(c!==null){if(a.callback=null,a=s,typeof c!="function")throw Error(n(191,c));c.call(a)}}}var ls={},Lt=ir(ls),us=ir(ls),cs=ir(ls);function Pr(e){if(e===ls)throw Error(n(174));return e}function _a(e,t){switch(ye(cs,t),ye(us,e),ye(Lt,ls),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:bo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=bo(t,e)}_e(Lt),ye(Lt,t)}function dn(){_e(Lt),_e(us),_e(cs)}function Dc(e){Pr(cs.current);var t=Pr(Lt.current),s=bo(t,e.type);t!==s&&(ye(us,e),ye(Lt,s))}function ba(e){us.current===e&&(_e(Lt),_e(us))}var je=ir(0);function yi(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ka=[];function Sa(){for(var e=0;e<ka.length;e++)ka[e]._workInProgressVersionPrimary=null;ka.length=0}var wi=B.ReactCurrentDispatcher,ja=B.ReactCurrentBatchConfig,Rr=0,Ee=null,Le=null,ze=null,xi=!1,ds=!1,hs=0,Nm=0;function He(){throw Error(n(321))}function Ea(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!bt(e[s],t[s]))return!1;return!0}function Na(e,t,s,a,c,h){if(Rr=h,Ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,wi.current=e===null||e.memoizedState===null?Pm:Rm,e=s(a,c),ds){h=0;do{if(ds=!1,hs=0,25<=h)throw Error(n(301));h+=1,ze=Le=null,t.updateQueue=null,wi.current=Am,e=s(a,c)}while(ds)}if(wi.current=ki,t=Le!==null&&Le.next!==null,Rr=0,ze=Le=Ee=null,xi=!1,t)throw Error(n(300));return e}function Ca(){var e=hs!==0;return hs=0,e}function Ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?Ee.memoizedState=ze=e:ze=ze.next=e,ze}function vt(){if(Le===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var t=ze===null?Ee.memoizedState:ze.next;if(t!==null)ze=t,Le=e;else{if(e===null)throw Error(n(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},ze===null?Ee.memoizedState=ze=e:ze=ze.next=e}return ze}function fs(e,t){return typeof t=="function"?t(e):t}function Oa(e){var t=vt(),s=t.queue;if(s===null)throw Error(n(311));s.lastRenderedReducer=e;var a=Le,c=a.baseQueue,h=s.pending;if(h!==null){if(c!==null){var v=c.next;c.next=h.next,h.next=v}a.baseQueue=c=h,s.pending=null}if(c!==null){h=c.next,a=a.baseState;var x=v=null,b=null,P=h;do{var D=P.lane;if((Rr&D)===D)b!==null&&(b=b.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),a=P.hasEagerState?P.eagerState:e(a,P.action);else{var z={lane:D,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};b===null?(x=b=z,v=a):b=b.next=z,Ee.lanes|=D,Ar|=D}P=P.next}while(P!==null&&P!==h);b===null?v=a:b.next=x,bt(a,t.memoizedState)||(tt=!0),t.memoizedState=a,t.baseState=v,t.baseQueue=b,s.lastRenderedState=a}if(e=s.interleaved,e!==null){c=e;do h=c.lane,Ee.lanes|=h,Ar|=h,c=c.next;while(c!==e)}else c===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function Ta(e){var t=vt(),s=t.queue;if(s===null)throw Error(n(311));s.lastRenderedReducer=e;var a=s.dispatch,c=s.pending,h=t.memoizedState;if(c!==null){s.pending=null;var v=c=c.next;do h=e(h,v.action),v=v.next;while(v!==c);bt(h,t.memoizedState)||(tt=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),s.lastRenderedState=h}return[h,a]}function zc(){}function Mc(e,t){var s=Ee,a=vt(),c=t(),h=!bt(a.memoizedState,c);if(h&&(a.memoizedState=c,tt=!0),a=a.queue,Pa(Vc.bind(null,s,a,e),[e]),a.getSnapshot!==t||h||ze!==null&&ze.memoizedState.tag&1){if(s.flags|=2048,ps(9,Fc.bind(null,s,a,c,t),void 0,null),Me===null)throw Error(n(349));(Rr&30)!==0||Bc(s,t,c)}return c}function Bc(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function Fc(e,t,s,a){t.value=s,t.getSnapshot=a,Wc(t)&&qc(e)}function Vc(e,t,s){return s(function(){Wc(t)&&qc(e)})}function Wc(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!bt(e,s)}catch{return!0}}function qc(e){var t=Wt(e,1);t!==null&&Nt(t,e,1,-1)}function Hc(e){var t=Ut();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:e},t.queue=e,e=e.dispatch=Tm.bind(null,Ee,e),[t.memoizedState,e]}function ps(e,t,s,a){return e={tag:e,create:t,destroy:s,deps:a,next:null},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(a=s.next,s.next=e,e.next=a,t.lastEffect=e)),e}function Kc(){return vt().memoizedState}function _i(e,t,s,a){var c=Ut();Ee.flags|=e,c.memoizedState=ps(1|t,s,void 0,a===void 0?null:a)}function bi(e,t,s,a){var c=vt();a=a===void 0?null:a;var h=void 0;if(Le!==null){var v=Le.memoizedState;if(h=v.destroy,a!==null&&Ea(a,v.deps)){c.memoizedState=ps(t,s,h,a);return}}Ee.flags|=e,c.memoizedState=ps(1|t,s,h,a)}function Gc(e,t){return _i(8390656,8,e,t)}function Pa(e,t){return bi(2048,8,e,t)}function Jc(e,t){return bi(4,2,e,t)}function Qc(e,t){return bi(4,4,e,t)}function Yc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Xc(e,t,s){return s=s!=null?s.concat([e]):null,bi(4,4,Yc.bind(null,t,e),s)}function Ra(){}function Zc(e,t){var s=vt();t=t===void 0?null:t;var a=s.memoizedState;return a!==null&&t!==null&&Ea(t,a[1])?a[0]:(s.memoizedState=[e,t],e)}function ed(e,t){var s=vt();t=t===void 0?null:t;var a=s.memoizedState;return a!==null&&t!==null&&Ea(t,a[1])?a[0]:(e=e(),s.memoizedState=[e,t],e)}function td(e,t,s){return(Rr&21)===0?(e.baseState&&(e.baseState=!1,tt=!0),e.memoizedState=s):(bt(s,t)||(s=Pu(),Ee.lanes|=s,Ar|=s,e.baseState=!0),t)}function Cm(e,t){var s=pe;pe=s!==0&&4>s?s:4,e(!0);var a=ja.transition;ja.transition={};try{e(!1),t()}finally{pe=s,ja.transition=a}}function rd(){return vt().memoizedState}function Om(e,t,s){var a=fr(e);if(s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},nd(e))sd(t,s);else if(s=Ic(e,t,s,a),s!==null){var c=Ye();Nt(s,e,a,c),id(s,t,a)}}function Tm(e,t,s){var a=fr(e),c={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if(nd(e))sd(t,c);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var v=t.lastRenderedState,x=h(v,s);if(c.hasEagerState=!0,c.eagerState=x,bt(x,v)){var b=t.interleaved;b===null?(c.next=c,wa(t)):(c.next=b.next,b.next=c),t.interleaved=c;return}}catch{}finally{}s=Ic(e,t,c,a),s!==null&&(c=Ye(),Nt(s,e,a,c),id(s,t,a))}}function nd(e){var t=e.alternate;return e===Ee||t!==null&&t===Ee}function sd(e,t){ds=xi=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function id(e,t,s){if((s&4194240)!==0){var a=t.lanes;a&=e.pendingLanes,s|=a,t.lanes=s,Io(e,s)}}var ki={readContext:gt,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useInsertionEffect:He,useLayoutEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useMutableSource:He,useSyncExternalStore:He,useId:He,unstable_isNewReconciler:!1},Pm={readContext:gt,useCallback:function(e,t){return Ut().memoizedState=[e,t===void 0?null:t],e},useContext:gt,useEffect:Gc,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,_i(4194308,4,Yc.bind(null,t,e),s)},useLayoutEffect:function(e,t){return _i(4194308,4,e,t)},useInsertionEffect:function(e,t){return _i(4,2,e,t)},useMemo:function(e,t){var s=Ut();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var a=Ut();return t=s!==void 0?s(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=Om.bind(null,Ee,e),[a.memoizedState,e]},useRef:function(e){var t=Ut();return e={current:e},t.memoizedState=e},useState:Hc,useDebugValue:Ra,useDeferredValue:function(e){return Ut().memoizedState=e},useTransition:function(){var e=Hc(!1),t=e[0];return e=Cm.bind(null,e[1]),Ut().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var a=Ee,c=Ut();if(ke){if(s===void 0)throw Error(n(407));s=s()}else{if(s=t(),Me===null)throw Error(n(349));(Rr&30)!==0||Bc(a,t,s)}c.memoizedState=s;var h={value:s,getSnapshot:t};return c.queue=h,Gc(Vc.bind(null,a,h,e),[e]),a.flags|=2048,ps(9,Fc.bind(null,a,h,s,t),void 0,null),s},useId:function(){var e=Ut(),t=Me.identifierPrefix;if(ke){var s=Vt,a=Ft;s=(a&~(1<<32-_t(a)-1)).toString(32)+s,t=":"+t+"R"+s,s=hs++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=Nm++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Rm={readContext:gt,useCallback:Zc,useContext:gt,useEffect:Pa,useImperativeHandle:Xc,useInsertionEffect:Jc,useLayoutEffect:Qc,useMemo:ed,useReducer:Oa,useRef:Kc,useState:function(){return Oa(fs)},useDebugValue:Ra,useDeferredValue:function(e){var t=vt();return td(t,Le.memoizedState,e)},useTransition:function(){var e=Oa(fs)[0],t=vt().memoizedState;return[e,t]},useMutableSource:zc,useSyncExternalStore:Mc,useId:rd,unstable_isNewReconciler:!1},Am={readContext:gt,useCallback:Zc,useContext:gt,useEffect:Pa,useImperativeHandle:Xc,useInsertionEffect:Jc,useLayoutEffect:Qc,useMemo:ed,useReducer:Ta,useRef:Kc,useState:function(){return Ta(fs)},useDebugValue:Ra,useDeferredValue:function(e){var t=vt();return Le===null?t.memoizedState=e:td(t,Le.memoizedState,e)},useTransition:function(){var e=Ta(fs)[0],t=vt().memoizedState;return[e,t]},useMutableSource:zc,useSyncExternalStore:Mc,useId:rd,unstable_isNewReconciler:!1};function St(e,t){if(e&&e.defaultProps){t=q({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function Aa(e,t,s,a){t=e.memoizedState,s=s(a,t),s=s==null?t:q({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Si={isMounted:function(e){return(e=e._reactInternals)?jr(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var a=Ye(),c=fr(e),h=qt(a,c);h.payload=t,s!=null&&(h.callback=s),t=ur(e,h,c),t!==null&&(Nt(t,e,c,a),gi(t,e,c))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var a=Ye(),c=fr(e),h=qt(a,c);h.tag=1,h.payload=t,s!=null&&(h.callback=s),t=ur(e,h,c),t!==null&&(Nt(t,e,c,a),gi(t,e,c))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Ye(),a=fr(e),c=qt(s,a);c.tag=2,t!=null&&(c.callback=t),t=ur(e,c,a),t!==null&&(Nt(t,e,a,s),gi(t,e,a))}};function od(e,t,s,a,c,h,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,h,v):t.prototype&&t.prototype.isPureReactComponent?!es(s,a)||!es(c,h):!0}function ad(e,t,s){var a=!1,c=or,h=t.contextType;return typeof h=="object"&&h!==null?h=gt(h):(c=et(t)?Nr:qe.current,a=t.contextTypes,h=(a=a!=null)?nn(e,c):or),t=new t(s,h),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Si,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=h),t}function ld(e,t,s,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,a),t.state!==e&&Si.enqueueReplaceState(t,t.state,null)}function Ia(e,t,s,a){var c=e.stateNode;c.props=s,c.state=e.memoizedState,c.refs={},xa(e);var h=t.contextType;typeof h=="object"&&h!==null?c.context=gt(h):(h=et(t)?Nr:qe.current,c.context=nn(e,h)),c.state=e.memoizedState,h=t.getDerivedStateFromProps,typeof h=="function"&&(Aa(e,t,h,s),c.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(t=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),t!==c.state&&Si.enqueueReplaceState(c,c.state,null),vi(e,s,c,a),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function hn(e,t){try{var s="",a=t;do s+=ce(a),a=a.return;while(a);var c=s}catch(h){c=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:t,stack:c,digest:null}}function $a(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function La(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var Im=typeof WeakMap=="function"?WeakMap:Map;function ud(e,t,s){s=qt(-1,s),s.tag=3,s.payload={element:null};var a=t.value;return s.callback=function(){Pi||(Pi=!0,Ya=a),La(e,t)},s}function cd(e,t,s){s=qt(-1,s),s.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var c=t.value;s.payload=function(){return a(c)},s.callback=function(){La(e,t)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(s.callback=function(){La(e,t),typeof a!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var v=t.stack;this.componentDidCatch(t.value,{componentStack:v!==null?v:""})}),s}function dd(e,t,s){var a=e.pingCache;if(a===null){a=e.pingCache=new Im;var c=new Set;a.set(t,c)}else c=a.get(t),c===void 0&&(c=new Set,a.set(t,c));c.has(s)||(c.add(s),e=Gm.bind(null,e,t,s),t.then(e,e))}function hd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fd(e,t,s,a,c){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=qt(-1,1),t.tag=2,ur(s,t,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=c,e)}var $m=B.ReactCurrentOwner,tt=!1;function Qe(e,t,s,a){t.child=e===null?Ac(t,null,s,a):ln(t,e.child,s,a)}function pd(e,t,s,a,c){s=s.render;var h=t.ref;return cn(t,c),a=Na(e,t,s,a,h,c),s=Ca(),e!==null&&!tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,Ht(e,t,c)):(ke&&s&&ca(t),t.flags|=1,Qe(e,t,a,c),t.child)}function md(e,t,s,a,c){if(e===null){var h=s.type;return typeof h=="function"&&!sl(h)&&h.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=h,gd(e,t,h,a,c)):(e=Ui(s.type,null,a,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,(e.lanes&c)===0){var v=h.memoizedProps;if(s=s.compare,s=s!==null?s:es,s(v,a)&&e.ref===t.ref)return Ht(e,t,c)}return t.flags|=1,e=mr(h,a),e.ref=t.ref,e.return=t,t.child=e}function gd(e,t,s,a,c){if(e!==null){var h=e.memoizedProps;if(es(h,a)&&e.ref===t.ref)if(tt=!1,t.pendingProps=a=h,(e.lanes&c)!==0)(e.flags&131072)!==0&&(tt=!0);else return t.lanes=e.lanes,Ht(e,t,c)}return Ua(e,t,s,a,c)}function vd(e,t,s){var a=t.pendingProps,c=a.children,h=e!==null?e.memoizedState:null;if(a.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(pn,ct),ct|=s;else{if((s&1073741824)===0)return e=h!==null?h.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ye(pn,ct),ct|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=h!==null?h.baseLanes:s,ye(pn,ct),ct|=a}else h!==null?(a=h.baseLanes|s,t.memoizedState=null):a=s,ye(pn,ct),ct|=a;return Qe(e,t,c,s),t.child}function yd(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function Ua(e,t,s,a,c){var h=et(s)?Nr:qe.current;return h=nn(t,h),cn(t,c),s=Na(e,t,s,a,h,c),a=Ca(),e!==null&&!tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,Ht(e,t,c)):(ke&&a&&ca(t),t.flags|=1,Qe(e,t,s,c),t.child)}function wd(e,t,s,a,c){if(et(s)){var h=!0;li(t)}else h=!1;if(cn(t,c),t.stateNode===null)Ei(e,t),ad(t,s,a),Ia(t,s,a,c),a=!0;else if(e===null){var v=t.stateNode,x=t.memoizedProps;v.props=x;var b=v.context,P=s.contextType;typeof P=="object"&&P!==null?P=gt(P):(P=et(s)?Nr:qe.current,P=nn(t,P));var D=s.getDerivedStateFromProps,z=typeof D=="function"||typeof v.getSnapshotBeforeUpdate=="function";z||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(x!==a||b!==P)&&ld(t,v,a,P),lr=!1;var L=t.memoizedState;v.state=L,vi(t,a,v,c),b=t.memoizedState,x!==a||L!==b||Ze.current||lr?(typeof D=="function"&&(Aa(t,s,D,a),b=t.memoizedState),(x=lr||od(t,s,x,a,L,b,P))?(z||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(t.flags|=4194308)):(typeof v.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=b),v.props=a,v.state=b,v.context=P,a=x):(typeof v.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{v=t.stateNode,$c(e,t),x=t.memoizedProps,P=t.type===t.elementType?x:St(t.type,x),v.props=P,z=t.pendingProps,L=v.context,b=s.contextType,typeof b=="object"&&b!==null?b=gt(b):(b=et(s)?Nr:qe.current,b=nn(t,b));var V=s.getDerivedStateFromProps;(D=typeof V=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(x!==z||L!==b)&&ld(t,v,a,b),lr=!1,L=t.memoizedState,v.state=L,vi(t,a,v,c);var K=t.memoizedState;x!==z||L!==K||Ze.current||lr?(typeof V=="function"&&(Aa(t,s,V,a),K=t.memoizedState),(P=lr||od(t,s,P,a,L,K,b)||!1)?(D||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(a,K,b),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(a,K,b)),typeof v.componentDidUpdate=="function"&&(t.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof v.componentDidUpdate!="function"||x===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=K),v.props=a,v.state=K,v.context=b,a=P):(typeof v.componentDidUpdate!="function"||x===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),a=!1)}return Da(e,t,s,a,h,c)}function Da(e,t,s,a,c,h){yd(e,t);var v=(t.flags&128)!==0;if(!a&&!v)return c&&Sc(t,s,!1),Ht(e,t,h);a=t.stateNode,$m.current=t;var x=v&&typeof s.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&v?(t.child=ln(t,e.child,null,h),t.child=ln(t,null,x,h)):Qe(e,t,x,h),t.memoizedState=a.state,c&&Sc(t,s,!0),t.child}function xd(e){var t=e.stateNode;t.pendingContext?bc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bc(e,t.context,!1),_a(e,t.containerInfo)}function _d(e,t,s,a,c){return an(),pa(c),t.flags|=256,Qe(e,t,s,a),t.child}var za={dehydrated:null,treeContext:null,retryLane:0};function Ma(e){return{baseLanes:e,cachePool:null,transitions:null}}function bd(e,t,s){var a=t.pendingProps,c=je.current,h=!1,v=(t.flags&128)!==0,x;if((x=v)||(x=e!==null&&e.memoizedState===null?!1:(c&2)!==0),x?(h=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),ye(je,c&1),e===null)return fa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(v=a.children,e=a.fallback,h?(a=t.mode,h=t.child,v={mode:"hidden",children:v},(a&1)===0&&h!==null?(h.childLanes=0,h.pendingProps=v):h=Di(v,a,0,null),e=Ur(e,a,s,null),h.return=t,e.return=t,h.sibling=e,t.child=h,t.child.memoizedState=Ma(s),t.memoizedState=za,e):Ba(t,v));if(c=e.memoizedState,c!==null&&(x=c.dehydrated,x!==null))return Lm(e,t,v,a,x,c,s);if(h){h=a.fallback,v=t.mode,c=e.child,x=c.sibling;var b={mode:"hidden",children:a.children};return(v&1)===0&&t.child!==c?(a=t.child,a.childLanes=0,a.pendingProps=b,t.deletions=null):(a=mr(c,b),a.subtreeFlags=c.subtreeFlags&14680064),x!==null?h=mr(x,h):(h=Ur(h,v,s,null),h.flags|=2),h.return=t,a.return=t,a.sibling=h,t.child=a,a=h,h=t.child,v=e.child.memoizedState,v=v===null?Ma(s):{baseLanes:v.baseLanes|s,cachePool:null,transitions:v.transitions},h.memoizedState=v,h.childLanes=e.childLanes&~s,t.memoizedState=za,a}return h=e.child,e=h.sibling,a=mr(h,{mode:"visible",children:a.children}),(t.mode&1)===0&&(a.lanes=s),a.return=t,a.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=a,t.memoizedState=null,a}function Ba(e,t){return t=Di({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ji(e,t,s,a){return a!==null&&pa(a),ln(t,e.child,null,s),e=Ba(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Lm(e,t,s,a,c,h,v){if(s)return t.flags&256?(t.flags&=-257,a=$a(Error(n(422))),ji(e,t,v,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(h=a.fallback,c=t.mode,a=Di({mode:"visible",children:a.children},c,0,null),h=Ur(h,c,v,null),h.flags|=2,a.return=t,h.return=t,a.sibling=h,t.child=a,(t.mode&1)!==0&&ln(t,e.child,null,v),t.child.memoizedState=Ma(v),t.memoizedState=za,h);if((t.mode&1)===0)return ji(e,t,v,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var x=a.dgst;return a=x,h=Error(n(419)),a=$a(h,a,void 0),ji(e,t,v,a)}if(x=(v&e.childLanes)!==0,tt||x){if(a=Me,a!==null){switch(v&-v){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=(c&(a.suspendedLanes|v))!==0?0:c,c!==0&&c!==h.retryLane&&(h.retryLane=c,Wt(e,c),Nt(a,e,c,-1))}return nl(),a=$a(Error(n(421))),ji(e,t,v,a)}return c.data==="$?"?(t.flags|=128,t.child=e.child,t=Jm.bind(null,e),c._reactRetry=t,null):(e=h.treeContext,ut=sr(c.nextSibling),lt=t,ke=!0,kt=null,e!==null&&(pt[mt++]=Ft,pt[mt++]=Vt,pt[mt++]=Cr,Ft=e.id,Vt=e.overflow,Cr=t),t=Ba(t,a.children),t.flags|=4096,t)}function kd(e,t,s){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),ya(e.return,t,s)}function Fa(e,t,s,a,c){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:c}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=a,h.tail=s,h.tailMode=c)}function Sd(e,t,s){var a=t.pendingProps,c=a.revealOrder,h=a.tail;if(Qe(e,t,a.children,s),a=je.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&kd(e,s,t);else if(e.tag===19)kd(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(ye(je,a),(t.mode&1)===0)t.memoizedState=null;else switch(c){case"forwards":for(s=t.child,c=null;s!==null;)e=s.alternate,e!==null&&yi(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=t.child,t.child=null):(c=s.sibling,s.sibling=null),Fa(t,!1,c,s,h);break;case"backwards":for(s=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&yi(e)===null){t.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}Fa(t,!0,s,null,h);break;case"together":Fa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ei(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ht(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Ar|=t.lanes,(s&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(n(153));if(t.child!==null){for(e=t.child,s=mr(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=mr(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function Um(e,t,s){switch(t.tag){case 3:xd(t),an();break;case 5:Dc(t);break;case 1:et(t.type)&&li(t);break;case 4:_a(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,c=t.memoizedProps.value;ye(pi,a._currentValue),a._currentValue=c;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(ye(je,je.current&1),t.flags|=128,null):(s&t.child.childLanes)!==0?bd(e,t,s):(ye(je,je.current&1),e=Ht(e,t,s),e!==null?e.sibling:null);ye(je,je.current&1);break;case 19:if(a=(s&t.childLanes)!==0,(e.flags&128)!==0){if(a)return Sd(e,t,s);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),ye(je,je.current),a)break;return null;case 22:case 23:return t.lanes=0,vd(e,t,s)}return Ht(e,t,s)}var jd,Va,Ed,Nd;jd=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},Va=function(){},Ed=function(e,t,s,a){var c=e.memoizedProps;if(c!==a){e=t.stateNode,Pr(Lt.current);var h=null;switch(s){case"input":c=yo(e,c),a=yo(e,a),h=[];break;case"select":c=q({},c,{value:void 0}),a=q({},a,{value:void 0}),h=[];break;case"textarea":c=_o(e,c),a=_o(e,a),h=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=ii)}ko(s,a);var v;s=null;for(P in c)if(!a.hasOwnProperty(P)&&c.hasOwnProperty(P)&&c[P]!=null)if(P==="style"){var x=c[P];for(v in x)x.hasOwnProperty(v)&&(s||(s={}),s[v]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(l.hasOwnProperty(P)?h||(h=[]):(h=h||[]).push(P,null));for(P in a){var b=a[P];if(x=c?.[P],a.hasOwnProperty(P)&&b!==x&&(b!=null||x!=null))if(P==="style")if(x){for(v in x)!x.hasOwnProperty(v)||b&&b.hasOwnProperty(v)||(s||(s={}),s[v]="");for(v in b)b.hasOwnProperty(v)&&x[v]!==b[v]&&(s||(s={}),s[v]=b[v])}else s||(h||(h=[]),h.push(P,s)),s=b;else P==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,x=x?x.__html:void 0,b!=null&&x!==b&&(h=h||[]).push(P,b)):P==="children"?typeof b!="string"&&typeof b!="number"||(h=h||[]).push(P,""+b):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(l.hasOwnProperty(P)?(b!=null&&P==="onScroll"&&xe("scroll",e),h||x===b||(h=[])):(h=h||[]).push(P,b))}s&&(h=h||[]).push("style",s);var P=h;(t.updateQueue=P)&&(t.flags|=4)}},Nd=function(e,t,s,a){s!==a&&(t.flags|=4)};function ms(e,t){if(!ke)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,a=0;if(t)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=a,e.childLanes=s,t}function Dm(e,t,s){var a=t.pendingProps;switch(da(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(t),null;case 1:return et(t.type)&&ai(),Ke(t),null;case 3:return a=t.stateNode,dn(),_e(Ze),_e(qe),Sa(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(hi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,kt!==null&&(el(kt),kt=null))),Va(e,t),Ke(t),null;case 5:ba(t);var c=Pr(cs.current);if(s=t.type,e!==null&&t.stateNode!=null)Ed(e,t,s,a,c),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(n(166));return Ke(t),null}if(e=Pr(Lt.current),hi(t)){a=t.stateNode,s=t.type;var h=t.memoizedProps;switch(a[$t]=t,a[is]=h,e=(t.mode&1)!==0,s){case"dialog":xe("cancel",a),xe("close",a);break;case"iframe":case"object":case"embed":xe("load",a);break;case"video":case"audio":for(c=0;c<rs.length;c++)xe(rs[c],a);break;case"source":xe("error",a);break;case"img":case"image":case"link":xe("error",a),xe("load",a);break;case"details":xe("toggle",a);break;case"input":au(a,h),xe("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!h.multiple},xe("invalid",a);break;case"textarea":cu(a,h),xe("invalid",a)}ko(s,h),c=null;for(var v in h)if(h.hasOwnProperty(v)){var x=h[v];v==="children"?typeof x=="string"?a.textContent!==x&&(h.suppressHydrationWarning!==!0&&si(a.textContent,x,e),c=["children",x]):typeof x=="number"&&a.textContent!==""+x&&(h.suppressHydrationWarning!==!0&&si(a.textContent,x,e),c=["children",""+x]):l.hasOwnProperty(v)&&x!=null&&v==="onScroll"&&xe("scroll",a)}switch(s){case"input":$s(a),uu(a,h,!0);break;case"textarea":$s(a),hu(a);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(a.onclick=ii)}a=c,t.updateQueue=a,a!==null&&(t.flags|=4)}else{v=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=fu(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=v.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=v.createElement(s,{is:a.is}):(e=v.createElement(s),s==="select"&&(v=e,a.multiple?v.multiple=!0:a.size&&(v.size=a.size))):e=v.createElementNS(e,s),e[$t]=t,e[is]=a,jd(e,t,!1,!1),t.stateNode=e;e:{switch(v=So(s,a),s){case"dialog":xe("cancel",e),xe("close",e),c=a;break;case"iframe":case"object":case"embed":xe("load",e),c=a;break;case"video":case"audio":for(c=0;c<rs.length;c++)xe(rs[c],e);c=a;break;case"source":xe("error",e),c=a;break;case"img":case"image":case"link":xe("error",e),xe("load",e),c=a;break;case"details":xe("toggle",e),c=a;break;case"input":au(e,a),c=yo(e,a),xe("invalid",e);break;case"option":c=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},c=q({},a,{value:void 0}),xe("invalid",e);break;case"textarea":cu(e,a),c=_o(e,a),xe("invalid",e);break;default:c=a}ko(s,c),x=c;for(h in x)if(x.hasOwnProperty(h)){var b=x[h];h==="style"?gu(e,b):h==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,b!=null&&pu(e,b)):h==="children"?typeof b=="string"?(s!=="textarea"||b!=="")&&Un(e,b):typeof b=="number"&&Un(e,""+b):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(l.hasOwnProperty(h)?b!=null&&h==="onScroll"&&xe("scroll",e):b!=null&&R(e,h,b,v))}switch(s){case"input":$s(e),uu(e,a,!1);break;case"textarea":$s(e),hu(e);break;case"option":a.value!=null&&e.setAttribute("value",""+fe(a.value));break;case"select":e.multiple=!!a.multiple,h=a.value,h!=null?qr(e,!!a.multiple,h,!1):a.defaultValue!=null&&qr(e,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=ii)}switch(s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ke(t),null;case 6:if(e&&t.stateNode!=null)Nd(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(n(166));if(s=Pr(cs.current),Pr(Lt.current),hi(t)){if(a=t.stateNode,s=t.memoizedProps,a[$t]=t,(h=a.nodeValue!==s)&&(e=lt,e!==null))switch(e.tag){case 3:si(a.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&si(a.nodeValue,s,(e.mode&1)!==0)}h&&(t.flags|=4)}else a=(s.nodeType===9?s:s.ownerDocument).createTextNode(a),a[$t]=t,t.stateNode=a}return Ke(t),null;case 13:if(_e(je),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ke&&ut!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Tc(),an(),t.flags|=98560,h=!1;else if(h=hi(t),a!==null&&a.dehydrated!==null){if(e===null){if(!h)throw Error(n(318));if(h=t.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(317));h[$t]=t}else an(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ke(t),h=!1}else kt!==null&&(el(kt),kt=null),h=!0;if(!h)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=s,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(je.current&1)!==0?Ue===0&&(Ue=3):nl())),t.updateQueue!==null&&(t.flags|=4),Ke(t),null);case 4:return dn(),Va(e,t),e===null&&ns(t.stateNode.containerInfo),Ke(t),null;case 10:return va(t.type._context),Ke(t),null;case 17:return et(t.type)&&ai(),Ke(t),null;case 19:if(_e(je),h=t.memoizedState,h===null)return Ke(t),null;if(a=(t.flags&128)!==0,v=h.rendering,v===null)if(a)ms(h,!1);else{if(Ue!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(v=yi(e),v!==null){for(t.flags|=128,ms(h,!1),a=v.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=s,s=t.child;s!==null;)h=s,e=a,h.flags&=14680066,v=h.alternate,v===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=v.childLanes,h.lanes=v.lanes,h.child=v.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=v.memoizedProps,h.memoizedState=v.memoizedState,h.updateQueue=v.updateQueue,h.type=v.type,e=v.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return ye(je,je.current&1|2),t.child}e=e.sibling}h.tail!==null&&Te()>mn&&(t.flags|=128,a=!0,ms(h,!1),t.lanes=4194304)}else{if(!a)if(e=yi(v),e!==null){if(t.flags|=128,a=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),ms(h,!0),h.tail===null&&h.tailMode==="hidden"&&!v.alternate&&!ke)return Ke(t),null}else 2*Te()-h.renderingStartTime>mn&&s!==1073741824&&(t.flags|=128,a=!0,ms(h,!1),t.lanes=4194304);h.isBackwards?(v.sibling=t.child,t.child=v):(s=h.last,s!==null?s.sibling=v:t.child=v,h.last=v)}return h.tail!==null?(t=h.tail,h.rendering=t,h.tail=t.sibling,h.renderingStartTime=Te(),t.sibling=null,s=je.current,ye(je,a?s&1|2:s&1),t):(Ke(t),null);case 22:case 23:return rl(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&(t.mode&1)!==0?(ct&1073741824)!==0&&(Ke(t),t.subtreeFlags&6&&(t.flags|=8192)):Ke(t),null;case 24:return null;case 25:return null}throw Error(n(156,t.tag))}function zm(e,t){switch(da(t),t.tag){case 1:return et(t.type)&&ai(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return dn(),_e(Ze),_e(qe),Sa(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return ba(t),null;case 13:if(_e(je),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(n(340));an()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _e(je),null;case 4:return dn(),null;case 10:return va(t.type._context),null;case 22:case 23:return rl(),null;case 24:return null;default:return null}}var Ni=!1,Ge=!1,Mm=typeof WeakSet=="function"?WeakSet:Set,W=null;function fn(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(a){Oe(e,t,a)}else s.current=null}function Wa(e,t,s){try{s()}catch(a){Oe(e,t,a)}}var Cd=!1;function Bm(e,t){if(ra=Ks,e=oc(),Go(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var c=a.anchorOffset,h=a.focusNode;a=a.focusOffset;try{s.nodeType,h.nodeType}catch{s=null;break e}var v=0,x=-1,b=-1,P=0,D=0,z=e,L=null;t:for(;;){for(var V;z!==s||c!==0&&z.nodeType!==3||(x=v+c),z!==h||a!==0&&z.nodeType!==3||(b=v+a),z.nodeType===3&&(v+=z.nodeValue.length),(V=z.firstChild)!==null;)L=z,z=V;for(;;){if(z===e)break t;if(L===s&&++P===c&&(x=v),L===h&&++D===a&&(b=v),(V=z.nextSibling)!==null)break;z=L,L=z.parentNode}z=V}s=x===-1||b===-1?null:{start:x,end:b}}else s=null}s=s||{start:0,end:0}}else s=null;for(na={focusedElem:e,selectionRange:s},Ks=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var K=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(K!==null){var G=K.memoizedProps,Pe=K.memoizedState,O=t.stateNode,S=O.getSnapshotBeforeUpdate(t.elementType===t.type?G:St(t.type,G),Pe);O.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var T=t.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(M){Oe(t,t.return,M)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return K=Cd,Cd=!1,K}function gs(e,t,s){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&e)===e){var h=c.destroy;c.destroy=void 0,h!==void 0&&Wa(t,s,h)}c=c.next}while(c!==a)}}function Ci(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var a=s.create;s.destroy=a()}s=s.next}while(s!==t)}}function qa(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function Od(e){var t=e.alternate;t!==null&&(e.alternate=null,Od(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[$t],delete t[is],delete t[aa],delete t[km],delete t[Sm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Td(e){return e.tag===5||e.tag===3||e.tag===4}function Pd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Td(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ha(e,t,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=ii));else if(a!==4&&(e=e.child,e!==null))for(Ha(e,t,s),e=e.sibling;e!==null;)Ha(e,t,s),e=e.sibling}function Ka(e,t,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Ka(e,t,s),e=e.sibling;e!==null;)Ka(e,t,s),e=e.sibling}var Fe=null,jt=!1;function cr(e,t,s){for(s=s.child;s!==null;)Rd(e,t,s),s=s.sibling}function Rd(e,t,s){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(Bs,s)}catch{}switch(s.tag){case 5:Ge||fn(s,t);case 6:var a=Fe,c=jt;Fe=null,cr(e,t,s),Fe=a,jt=c,Fe!==null&&(jt?(e=Fe,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Fe.removeChild(s.stateNode));break;case 18:Fe!==null&&(jt?(e=Fe,s=s.stateNode,e.nodeType===8?oa(e.parentNode,s):e.nodeType===1&&oa(e,s),Gn(e)):oa(Fe,s.stateNode));break;case 4:a=Fe,c=jt,Fe=s.stateNode.containerInfo,jt=!0,cr(e,t,s),Fe=a,jt=c;break;case 0:case 11:case 14:case 15:if(!Ge&&(a=s.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var h=c,v=h.destroy;h=h.tag,v!==void 0&&((h&2)!==0||(h&4)!==0)&&Wa(s,t,v),c=c.next}while(c!==a)}cr(e,t,s);break;case 1:if(!Ge&&(fn(s,t),a=s.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(x){Oe(s,t,x)}cr(e,t,s);break;case 21:cr(e,t,s);break;case 22:s.mode&1?(Ge=(a=Ge)||s.memoizedState!==null,cr(e,t,s),Ge=a):cr(e,t,s);break;default:cr(e,t,s)}}function Ad(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Mm),t.forEach(function(a){var c=Qm.bind(null,e,a);s.has(a)||(s.add(a),a.then(c,c))})}}function Et(e,t){var s=t.deletions;if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];try{var h=e,v=t,x=v;e:for(;x!==null;){switch(x.tag){case 5:Fe=x.stateNode,jt=!1;break e;case 3:Fe=x.stateNode.containerInfo,jt=!0;break e;case 4:Fe=x.stateNode.containerInfo,jt=!0;break e}x=x.return}if(Fe===null)throw Error(n(160));Rd(h,v,c),Fe=null,jt=!1;var b=c.alternate;b!==null&&(b.return=null),c.return=null}catch(P){Oe(c,t,P)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Id(t,e),t=t.sibling}function Id(e,t){var s=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Et(t,e),Dt(e),a&4){try{gs(3,e,e.return),Ci(3,e)}catch(G){Oe(e,e.return,G)}try{gs(5,e,e.return)}catch(G){Oe(e,e.return,G)}}break;case 1:Et(t,e),Dt(e),a&512&&s!==null&&fn(s,s.return);break;case 5:if(Et(t,e),Dt(e),a&512&&s!==null&&fn(s,s.return),e.flags&32){var c=e.stateNode;try{Un(c,"")}catch(G){Oe(e,e.return,G)}}if(a&4&&(c=e.stateNode,c!=null)){var h=e.memoizedProps,v=s!==null?s.memoizedProps:h,x=e.type,b=e.updateQueue;if(e.updateQueue=null,b!==null)try{x==="input"&&h.type==="radio"&&h.name!=null&&lu(c,h),So(x,v);var P=So(x,h);for(v=0;v<b.length;v+=2){var D=b[v],z=b[v+1];D==="style"?gu(c,z):D==="dangerouslySetInnerHTML"?pu(c,z):D==="children"?Un(c,z):R(c,D,z,P)}switch(x){case"input":wo(c,h);break;case"textarea":du(c,h);break;case"select":var L=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!h.multiple;var V=h.value;V!=null?qr(c,!!h.multiple,V,!1):L!==!!h.multiple&&(h.defaultValue!=null?qr(c,!!h.multiple,h.defaultValue,!0):qr(c,!!h.multiple,h.multiple?[]:"",!1))}c[is]=h}catch(G){Oe(e,e.return,G)}}break;case 6:if(Et(t,e),Dt(e),a&4){if(e.stateNode===null)throw Error(n(162));c=e.stateNode,h=e.memoizedProps;try{c.nodeValue=h}catch(G){Oe(e,e.return,G)}}break;case 3:if(Et(t,e),Dt(e),a&4&&s!==null&&s.memoizedState.isDehydrated)try{Gn(t.containerInfo)}catch(G){Oe(e,e.return,G)}break;case 4:Et(t,e),Dt(e);break;case 13:Et(t,e),Dt(e),c=e.child,c.flags&8192&&(h=c.memoizedState!==null,c.stateNode.isHidden=h,!h||c.alternate!==null&&c.alternate.memoizedState!==null||(Qa=Te())),a&4&&Ad(e);break;case 22:if(D=s!==null&&s.memoizedState!==null,e.mode&1?(Ge=(P=Ge)||D,Et(t,e),Ge=P):Et(t,e),Dt(e),a&8192){if(P=e.memoizedState!==null,(e.stateNode.isHidden=P)&&!D&&(e.mode&1)!==0)for(W=e,D=e.child;D!==null;){for(z=W=D;W!==null;){switch(L=W,V=L.child,L.tag){case 0:case 11:case 14:case 15:gs(4,L,L.return);break;case 1:fn(L,L.return);var K=L.stateNode;if(typeof K.componentWillUnmount=="function"){a=L,s=L.return;try{t=a,K.props=t.memoizedProps,K.state=t.memoizedState,K.componentWillUnmount()}catch(G){Oe(a,s,G)}}break;case 5:fn(L,L.return);break;case 22:if(L.memoizedState!==null){Ud(z);continue}}V!==null?(V.return=L,W=V):Ud(z)}D=D.sibling}e:for(D=null,z=e;;){if(z.tag===5){if(D===null){D=z;try{c=z.stateNode,P?(h=c.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(x=z.stateNode,b=z.memoizedProps.style,v=b!=null&&b.hasOwnProperty("display")?b.display:null,x.style.display=mu("display",v))}catch(G){Oe(e,e.return,G)}}}else if(z.tag===6){if(D===null)try{z.stateNode.nodeValue=P?"":z.memoizedProps}catch(G){Oe(e,e.return,G)}}else if((z.tag!==22&&z.tag!==23||z.memoizedState===null||z===e)&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===e)break e;for(;z.sibling===null;){if(z.return===null||z.return===e)break e;D===z&&(D=null),z=z.return}D===z&&(D=null),z.sibling.return=z.return,z=z.sibling}}break;case 19:Et(t,e),Dt(e),a&4&&Ad(e);break;case 21:break;default:Et(t,e),Dt(e)}}function Dt(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(Td(s)){var a=s;break e}s=s.return}throw Error(n(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(Un(c,""),a.flags&=-33);var h=Pd(e);Ka(e,h,c);break;case 3:case 4:var v=a.stateNode.containerInfo,x=Pd(e);Ha(e,x,v);break;default:throw Error(n(161))}}catch(b){Oe(e,e.return,b)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Fm(e,t,s){W=e,$d(e)}function $d(e,t,s){for(var a=(e.mode&1)!==0;W!==null;){var c=W,h=c.child;if(c.tag===22&&a){var v=c.memoizedState!==null||Ni;if(!v){var x=c.alternate,b=x!==null&&x.memoizedState!==null||Ge;x=Ni;var P=Ge;if(Ni=v,(Ge=b)&&!P)for(W=c;W!==null;)v=W,b=v.child,v.tag===22&&v.memoizedState!==null?Dd(c):b!==null?(b.return=v,W=b):Dd(c);for(;h!==null;)W=h,$d(h),h=h.sibling;W=c,Ni=x,Ge=P}Ld(e)}else(c.subtreeFlags&8772)!==0&&h!==null?(h.return=c,W=h):Ld(e)}}function Ld(e){for(;W!==null;){var t=W;if((t.flags&8772)!==0){var s=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Ge||Ci(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!Ge)if(s===null)a.componentDidMount();else{var c=t.elementType===t.type?s.memoizedProps:St(t.type,s.memoizedProps);a.componentDidUpdate(c,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var h=t.updateQueue;h!==null&&Uc(t,h,a);break;case 3:var v=t.updateQueue;if(v!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}Uc(t,v,s)}break;case 5:var x=t.stateNode;if(s===null&&t.flags&4){s=x;var b=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":b.autoFocus&&s.focus();break;case"img":b.src&&(s.src=b.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var P=t.alternate;if(P!==null){var D=P.memoizedState;if(D!==null){var z=D.dehydrated;z!==null&&Gn(z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ge||t.flags&512&&qa(t)}catch(L){Oe(t,t.return,L)}}if(t===e){W=null;break}if(s=t.sibling,s!==null){s.return=t.return,W=s;break}W=t.return}}function Ud(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var s=t.sibling;if(s!==null){s.return=t.return,W=s;break}W=t.return}}function Dd(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{Ci(4,t)}catch(b){Oe(t,s,b)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var c=t.return;try{a.componentDidMount()}catch(b){Oe(t,c,b)}}var h=t.return;try{qa(t)}catch(b){Oe(t,h,b)}break;case 5:var v=t.return;try{qa(t)}catch(b){Oe(t,v,b)}}}catch(b){Oe(t,t.return,b)}if(t===e){W=null;break}var x=t.sibling;if(x!==null){x.return=t.return,W=x;break}W=t.return}}var Vm=Math.ceil,Oi=B.ReactCurrentDispatcher,Ga=B.ReactCurrentOwner,yt=B.ReactCurrentBatchConfig,ue=0,Me=null,Ie=null,Ve=0,ct=0,pn=ir(0),Ue=0,vs=null,Ar=0,Ti=0,Ja=0,ys=null,rt=null,Qa=0,mn=1/0,Kt=null,Pi=!1,Ya=null,dr=null,Ri=!1,hr=null,Ai=0,ws=0,Xa=null,Ii=-1,$i=0;function Ye(){return(ue&6)!==0?Te():Ii!==-1?Ii:Ii=Te()}function fr(e){return(e.mode&1)===0?1:(ue&2)!==0&&Ve!==0?Ve&-Ve:Em.transition!==null?($i===0&&($i=Pu()),$i):(e=pe,e!==0||(e=window.event,e=e===void 0?16:Mu(e.type)),e)}function Nt(e,t,s,a){if(50<ws)throw ws=0,Xa=null,Error(n(185));Vn(e,s,a),((ue&2)===0||e!==Me)&&(e===Me&&((ue&2)===0&&(Ti|=s),Ue===4&&pr(e,Ve)),nt(e,a),s===1&&ue===0&&(t.mode&1)===0&&(mn=Te()+500,ui&&ar()))}function nt(e,t){var s=e.callbackNode;Ep(e,t);var a=Ws(e,e===Me?Ve:0);if(a===0)s!==null&&Cu(s),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(s!=null&&Cu(s),t===1)e.tag===0?jm(Md.bind(null,e)):jc(Md.bind(null,e)),_m(function(){(ue&6)===0&&ar()}),s=null;else{switch(Ru(a)){case 1:s=Po;break;case 4:s=Ou;break;case 16:s=Ms;break;case 536870912:s=Tu;break;default:s=Ms}s=Gd(s,zd.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function zd(e,t){if(Ii=-1,$i=0,(ue&6)!==0)throw Error(n(327));var s=e.callbackNode;if(gn()&&e.callbackNode!==s)return null;var a=Ws(e,e===Me?Ve:0);if(a===0)return null;if((a&30)!==0||(a&e.expiredLanes)!==0||t)t=Li(e,a);else{t=a;var c=ue;ue|=2;var h=Fd();(Me!==e||Ve!==t)&&(Kt=null,mn=Te()+500,$r(e,t));do try{Hm();break}catch(x){Bd(e,x)}while(!0);ga(),Oi.current=h,ue=c,Ie!==null?t=0:(Me=null,Ve=0,t=Ue)}if(t!==0){if(t===2&&(c=Ro(e),c!==0&&(a=c,t=Za(e,c))),t===1)throw s=vs,$r(e,0),pr(e,a),nt(e,Te()),s;if(t===6)pr(e,a);else{if(c=e.current.alternate,(a&30)===0&&!Wm(c)&&(t=Li(e,a),t===2&&(h=Ro(e),h!==0&&(a=h,t=Za(e,h))),t===1))throw s=vs,$r(e,0),pr(e,a),nt(e,Te()),s;switch(e.finishedWork=c,e.finishedLanes=a,t){case 0:case 1:throw Error(n(345));case 2:Lr(e,rt,Kt);break;case 3:if(pr(e,a),(a&130023424)===a&&(t=Qa+500-Te(),10<t)){if(Ws(e,0)!==0)break;if(c=e.suspendedLanes,(c&a)!==a){Ye(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=ia(Lr.bind(null,e,rt,Kt),t);break}Lr(e,rt,Kt);break;case 4:if(pr(e,a),(a&4194240)===a)break;for(t=e.eventTimes,c=-1;0<a;){var v=31-_t(a);h=1<<v,v=t[v],v>c&&(c=v),a&=~h}if(a=c,a=Te()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Vm(a/1960))-a,10<a){e.timeoutHandle=ia(Lr.bind(null,e,rt,Kt),a);break}Lr(e,rt,Kt);break;case 5:Lr(e,rt,Kt);break;default:throw Error(n(329))}}}return nt(e,Te()),e.callbackNode===s?zd.bind(null,e):null}function Za(e,t){var s=ys;return e.current.memoizedState.isDehydrated&&($r(e,t).flags|=256),e=Li(e,t),e!==2&&(t=rt,rt=s,t!==null&&el(t)),e}function el(e){rt===null?rt=e:rt.push.apply(rt,e)}function Wm(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var a=0;a<s.length;a++){var c=s[a],h=c.getSnapshot;c=c.value;try{if(!bt(h(),c))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function pr(e,t){for(t&=~Ja,t&=~Ti,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-_t(t),a=1<<s;e[s]=-1,t&=~a}}function Md(e){if((ue&6)!==0)throw Error(n(327));gn();var t=Ws(e,0);if((t&1)===0)return nt(e,Te()),null;var s=Li(e,t);if(e.tag!==0&&s===2){var a=Ro(e);a!==0&&(t=a,s=Za(e,a))}if(s===1)throw s=vs,$r(e,0),pr(e,t),nt(e,Te()),s;if(s===6)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Lr(e,rt,Kt),nt(e,Te()),null}function tl(e,t){var s=ue;ue|=1;try{return e(t)}finally{ue=s,ue===0&&(mn=Te()+500,ui&&ar())}}function Ir(e){hr!==null&&hr.tag===0&&(ue&6)===0&&gn();var t=ue;ue|=1;var s=yt.transition,a=pe;try{if(yt.transition=null,pe=1,e)return e()}finally{pe=a,yt.transition=s,ue=t,(ue&6)===0&&ar()}}function rl(){ct=pn.current,_e(pn)}function $r(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,xm(s)),Ie!==null)for(s=Ie.return;s!==null;){var a=s;switch(da(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&ai();break;case 3:dn(),_e(Ze),_e(qe),Sa();break;case 5:ba(a);break;case 4:dn();break;case 13:_e(je);break;case 19:_e(je);break;case 10:va(a.type._context);break;case 22:case 23:rl()}s=s.return}if(Me=e,Ie=e=mr(e.current,null),Ve=ct=t,Ue=0,vs=null,Ja=Ti=Ar=0,rt=ys=null,Tr!==null){for(t=0;t<Tr.length;t++)if(s=Tr[t],a=s.interleaved,a!==null){s.interleaved=null;var c=a.next,h=s.pending;if(h!==null){var v=h.next;h.next=c,a.next=v}s.pending=a}Tr=null}return e}function Bd(e,t){do{var s=Ie;try{if(ga(),wi.current=ki,xi){for(var a=Ee.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}xi=!1}if(Rr=0,ze=Le=Ee=null,ds=!1,hs=0,Ga.current=null,s===null||s.return===null){Ue=1,vs=t,Ie=null;break}e:{var h=e,v=s.return,x=s,b=t;if(t=Ve,x.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){var P=b,D=x,z=D.tag;if((D.mode&1)===0&&(z===0||z===11||z===15)){var L=D.alternate;L?(D.updateQueue=L.updateQueue,D.memoizedState=L.memoizedState,D.lanes=L.lanes):(D.updateQueue=null,D.memoizedState=null)}var V=hd(v);if(V!==null){V.flags&=-257,fd(V,v,x,h,t),V.mode&1&&dd(h,P,t),t=V,b=P;var K=t.updateQueue;if(K===null){var G=new Set;G.add(b),t.updateQueue=G}else K.add(b);break e}else{if((t&1)===0){dd(h,P,t),nl();break e}b=Error(n(426))}}else if(ke&&x.mode&1){var Pe=hd(v);if(Pe!==null){(Pe.flags&65536)===0&&(Pe.flags|=256),fd(Pe,v,x,h,t),pa(hn(b,x));break e}}h=b=hn(b,x),Ue!==4&&(Ue=2),ys===null?ys=[h]:ys.push(h),h=v;do{switch(h.tag){case 3:h.flags|=65536,t&=-t,h.lanes|=t;var O=ud(h,b,t);Lc(h,O);break e;case 1:x=b;var S=h.type,T=h.stateNode;if((h.flags&128)===0&&(typeof S.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(dr===null||!dr.has(T)))){h.flags|=65536,t&=-t,h.lanes|=t;var M=cd(h,x,t);Lc(h,M);break e}}h=h.return}while(h!==null)}Wd(s)}catch(J){t=J,Ie===s&&s!==null&&(Ie=s=s.return);continue}break}while(!0)}function Fd(){var e=Oi.current;return Oi.current=ki,e===null?ki:e}function nl(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),Me===null||(Ar&268435455)===0&&(Ti&268435455)===0||pr(Me,Ve)}function Li(e,t){var s=ue;ue|=2;var a=Fd();(Me!==e||Ve!==t)&&(Kt=null,$r(e,t));do try{qm();break}catch(c){Bd(e,c)}while(!0);if(ga(),ue=s,Oi.current=a,Ie!==null)throw Error(n(261));return Me=null,Ve=0,Ue}function qm(){for(;Ie!==null;)Vd(Ie)}function Hm(){for(;Ie!==null&&!vp();)Vd(Ie)}function Vd(e){var t=Kd(e.alternate,e,ct);e.memoizedProps=e.pendingProps,t===null?Wd(e):Ie=t,Ga.current=null}function Wd(e){var t=e;do{var s=t.alternate;if(e=t.return,(t.flags&32768)===0){if(s=Dm(s,t,ct),s!==null){Ie=s;return}}else{if(s=zm(s,t),s!==null){s.flags&=32767,Ie=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ue=6,Ie=null;return}}if(t=t.sibling,t!==null){Ie=t;return}Ie=t=e}while(t!==null);Ue===0&&(Ue=5)}function Lr(e,t,s){var a=pe,c=yt.transition;try{yt.transition=null,pe=1,Km(e,t,s,a)}finally{yt.transition=c,pe=a}return null}function Km(e,t,s,a){do gn();while(hr!==null);if((ue&6)!==0)throw Error(n(327));s=e.finishedWork;var c=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var h=s.lanes|s.childLanes;if(Np(e,h),e===Me&&(Ie=Me=null,Ve=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||Ri||(Ri=!0,Gd(Ms,function(){return gn(),null})),h=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||h){h=yt.transition,yt.transition=null;var v=pe;pe=1;var x=ue;ue|=4,Ga.current=null,Bm(e,s),Id(s,e),fm(na),Ks=!!ra,na=ra=null,e.current=s,Fm(s),yp(),ue=x,pe=v,yt.transition=h}else e.current=s;if(Ri&&(Ri=!1,hr=e,Ai=c),h=e.pendingLanes,h===0&&(dr=null),_p(s.stateNode),nt(e,Te()),t!==null)for(a=e.onRecoverableError,s=0;s<t.length;s++)c=t[s],a(c.value,{componentStack:c.stack,digest:c.digest});if(Pi)throw Pi=!1,e=Ya,Ya=null,e;return(Ai&1)!==0&&e.tag!==0&&gn(),h=e.pendingLanes,(h&1)!==0?e===Xa?ws++:(ws=0,Xa=e):ws=0,ar(),null}function gn(){if(hr!==null){var e=Ru(Ai),t=yt.transition,s=pe;try{if(yt.transition=null,pe=16>e?16:e,hr===null)var a=!1;else{if(e=hr,hr=null,Ai=0,(ue&6)!==0)throw Error(n(331));var c=ue;for(ue|=4,W=e.current;W!==null;){var h=W,v=h.child;if((W.flags&16)!==0){var x=h.deletions;if(x!==null){for(var b=0;b<x.length;b++){var P=x[b];for(W=P;W!==null;){var D=W;switch(D.tag){case 0:case 11:case 15:gs(8,D,h)}var z=D.child;if(z!==null)z.return=D,W=z;else for(;W!==null;){D=W;var L=D.sibling,V=D.return;if(Od(D),D===P){W=null;break}if(L!==null){L.return=V,W=L;break}W=V}}}var K=h.alternate;if(K!==null){var G=K.child;if(G!==null){K.child=null;do{var Pe=G.sibling;G.sibling=null,G=Pe}while(G!==null)}}W=h}}if((h.subtreeFlags&2064)!==0&&v!==null)v.return=h,W=v;else e:for(;W!==null;){if(h=W,(h.flags&2048)!==0)switch(h.tag){case 0:case 11:case 15:gs(9,h,h.return)}var O=h.sibling;if(O!==null){O.return=h.return,W=O;break e}W=h.return}}var S=e.current;for(W=S;W!==null;){v=W;var T=v.child;if((v.subtreeFlags&2064)!==0&&T!==null)T.return=v,W=T;else e:for(v=S;W!==null;){if(x=W,(x.flags&2048)!==0)try{switch(x.tag){case 0:case 11:case 15:Ci(9,x)}}catch(J){Oe(x,x.return,J)}if(x===v){W=null;break e}var M=x.sibling;if(M!==null){M.return=x.return,W=M;break e}W=x.return}}if(ue=c,ar(),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(Bs,e)}catch{}a=!0}return a}finally{pe=s,yt.transition=t}}return!1}function qd(e,t,s){t=hn(s,t),t=ud(e,t,1),e=ur(e,t,1),t=Ye(),e!==null&&(Vn(e,1,t),nt(e,t))}function Oe(e,t,s){if(e.tag===3)qd(e,e,s);else for(;t!==null;){if(t.tag===3){qd(t,e,s);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(dr===null||!dr.has(a))){e=hn(s,e),e=cd(t,e,1),t=ur(t,e,1),e=Ye(),t!==null&&(Vn(t,1,e),nt(t,e));break}}t=t.return}}function Gm(e,t,s){var a=e.pingCache;a!==null&&a.delete(t),t=Ye(),e.pingedLanes|=e.suspendedLanes&s,Me===e&&(Ve&s)===s&&(Ue===4||Ue===3&&(Ve&130023424)===Ve&&500>Te()-Qa?$r(e,0):Ja|=s),nt(e,t)}function Hd(e,t){t===0&&((e.mode&1)===0?t=1:(t=Vs,Vs<<=1,(Vs&130023424)===0&&(Vs=4194304)));var s=Ye();e=Wt(e,t),e!==null&&(Vn(e,t,s),nt(e,s))}function Jm(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),Hd(e,s)}function Qm(e,t){var s=0;switch(e.tag){case 13:var a=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(n(314))}a!==null&&a.delete(t),Hd(e,s)}var Kd;Kd=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ze.current)tt=!0;else{if((e.lanes&s)===0&&(t.flags&128)===0)return tt=!1,Um(e,t,s);tt=(e.flags&131072)!==0}else tt=!1,ke&&(t.flags&1048576)!==0&&Ec(t,di,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Ei(e,t),e=t.pendingProps;var c=nn(t,qe.current);cn(t,s),c=Na(null,t,a,e,c,s);var h=Ca();return t.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,et(a)?(h=!0,li(t)):h=!1,t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,xa(t),c.updater=Si,t.stateNode=c,c._reactInternals=t,Ia(t,a,e,s),t=Da(null,t,a,!0,h,s)):(t.tag=0,ke&&h&&ca(t),Qe(null,t,c,s),t=t.child),t;case 16:a=t.elementType;e:{switch(Ei(e,t),e=t.pendingProps,c=a._init,a=c(a._payload),t.type=a,c=t.tag=Xm(a),e=St(a,e),c){case 0:t=Ua(null,t,a,e,s);break e;case 1:t=wd(null,t,a,e,s);break e;case 11:t=pd(null,t,a,e,s);break e;case 14:t=md(null,t,a,St(a.type,e),s);break e}throw Error(n(306,a,""))}return t;case 0:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:St(a,c),Ua(e,t,a,c,s);case 1:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:St(a,c),wd(e,t,a,c,s);case 3:e:{if(xd(t),e===null)throw Error(n(387));a=t.pendingProps,h=t.memoizedState,c=h.element,$c(e,t),vi(t,a,null,s);var v=t.memoizedState;if(a=v.element,h.isDehydrated)if(h={element:a,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){c=hn(Error(n(423)),t),t=_d(e,t,a,s,c);break e}else if(a!==c){c=hn(Error(n(424)),t),t=_d(e,t,a,s,c);break e}else for(ut=sr(t.stateNode.containerInfo.firstChild),lt=t,ke=!0,kt=null,s=Ac(t,null,a,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(an(),a===c){t=Ht(e,t,s);break e}Qe(e,t,a,s)}t=t.child}return t;case 5:return Dc(t),e===null&&fa(t),a=t.type,c=t.pendingProps,h=e!==null?e.memoizedProps:null,v=c.children,sa(a,c)?v=null:h!==null&&sa(a,h)&&(t.flags|=32),yd(e,t),Qe(e,t,v,s),t.child;case 6:return e===null&&fa(t),null;case 13:return bd(e,t,s);case 4:return _a(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=ln(t,null,a,s):Qe(e,t,a,s),t.child;case 11:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:St(a,c),pd(e,t,a,c,s);case 7:return Qe(e,t,t.pendingProps,s),t.child;case 8:return Qe(e,t,t.pendingProps.children,s),t.child;case 12:return Qe(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(a=t.type._context,c=t.pendingProps,h=t.memoizedProps,v=c.value,ye(pi,a._currentValue),a._currentValue=v,h!==null)if(bt(h.value,v)){if(h.children===c.children&&!Ze.current){t=Ht(e,t,s);break e}}else for(h=t.child,h!==null&&(h.return=t);h!==null;){var x=h.dependencies;if(x!==null){v=h.child;for(var b=x.firstContext;b!==null;){if(b.context===a){if(h.tag===1){b=qt(-1,s&-s),b.tag=2;var P=h.updateQueue;if(P!==null){P=P.shared;var D=P.pending;D===null?b.next=b:(b.next=D.next,D.next=b),P.pending=b}}h.lanes|=s,b=h.alternate,b!==null&&(b.lanes|=s),ya(h.return,s,t),x.lanes|=s;break}b=b.next}}else if(h.tag===10)v=h.type===t.type?null:h.child;else if(h.tag===18){if(v=h.return,v===null)throw Error(n(341));v.lanes|=s,x=v.alternate,x!==null&&(x.lanes|=s),ya(v,s,t),v=h.sibling}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}Qe(e,t,c.children,s),t=t.child}return t;case 9:return c=t.type,a=t.pendingProps.children,cn(t,s),c=gt(c),a=a(c),t.flags|=1,Qe(e,t,a,s),t.child;case 14:return a=t.type,c=St(a,t.pendingProps),c=St(a.type,c),md(e,t,a,c,s);case 15:return gd(e,t,t.type,t.pendingProps,s);case 17:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:St(a,c),Ei(e,t),t.tag=1,et(a)?(e=!0,li(t)):e=!1,cn(t,s),ad(t,a,c),Ia(t,a,c,s),Da(null,t,a,!0,e,s);case 19:return Sd(e,t,s);case 22:return vd(e,t,s)}throw Error(n(156,t.tag))};function Gd(e,t){return Nu(e,t)}function Ym(e,t,s,a){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(e,t,s,a){return new Ym(e,t,s,a)}function sl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Xm(e){if(typeof e=="function")return sl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Rt)return 11;if(e===At)return 14}return 2}function mr(e,t){var s=e.alternate;return s===null?(s=wt(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Ui(e,t,s,a,c,h){var v=2;if(a=e,typeof e=="function")sl(e)&&(v=1);else if(typeof e=="string")v=5;else e:switch(e){case oe:return Ur(s.children,c,h,t);case Se:v=8,c|=8;break;case ae:return e=wt(12,s,t,c|2),e.elementType=ae,e.lanes=h,e;case it:return e=wt(13,s,t,c),e.elementType=it,e.lanes=h,e;case xt:return e=wt(19,s,t,c),e.elementType=xt,e.lanes=h,e;case Ce:return Di(s,c,h,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ae:v=10;break e;case Sr:v=9;break e;case Rt:v=11;break e;case At:v=14;break e;case Xe:v=16,a=null;break e}throw Error(n(130,e==null?e:typeof e,""))}return t=wt(v,s,t,c),t.elementType=e,t.type=a,t.lanes=h,t}function Ur(e,t,s,a){return e=wt(7,e,a,t),e.lanes=s,e}function Di(e,t,s,a){return e=wt(22,e,a,t),e.elementType=Ce,e.lanes=s,e.stateNode={isHidden:!1},e}function il(e,t,s){return e=wt(6,e,null,t),e.lanes=s,e}function ol(e,t,s){return t=wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zm(e,t,s,a,c){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ao(0),this.expirationTimes=Ao(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ao(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function al(e,t,s,a,c,h,v,x,b){return e=new Zm(e,t,s,x,b),t===1?(t=1,h===!0&&(t|=8)):t=0,h=wt(3,null,null,t),e.current=h,h.stateNode=e,h.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},xa(h),e}function eg(e,t,s){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ne,key:a==null?null:""+a,children:e,containerInfo:t,implementation:s}}function Jd(e){if(!e)return or;e=e._reactInternals;e:{if(jr(e)!==e||e.tag!==1)throw Error(n(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(et(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(n(171))}if(e.tag===1){var s=e.type;if(et(s))return kc(e,s,t)}return t}function Qd(e,t,s,a,c,h,v,x,b){return e=al(s,a,!0,e,c,h,v,x,b),e.context=Jd(null),s=e.current,a=Ye(),c=fr(s),h=qt(a,c),h.callback=t??null,ur(s,h,c),e.current.lanes=c,Vn(e,c,a),nt(e,a),e}function zi(e,t,s,a){var c=t.current,h=Ye(),v=fr(c);return s=Jd(s),t.context===null?t.context=s:t.pendingContext=s,t=qt(h,v),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=ur(c,t,v),e!==null&&(Nt(e,c,v,h),gi(e,c,v)),v}function Mi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Yd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function ll(e,t){Yd(e,t),(e=e.alternate)&&Yd(e,t)}function tg(){return null}var Xd=typeof reportError=="function"?reportError:function(e){console.error(e)};function ul(e){this._internalRoot=e}Bi.prototype.render=ul.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(n(409));zi(e,t,null,null)},Bi.prototype.unmount=ul.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ir(function(){zi(null,e,null,null)}),t[Mt]=null}};function Bi(e){this._internalRoot=e}Bi.prototype.unstable_scheduleHydration=function(e){if(e){var t=$u();e={blockedOn:null,target:e,priority:t};for(var s=0;s<tr.length&&t!==0&&t<tr[s].priority;s++);tr.splice(s,0,e),s===0&&Du(e)}};function cl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Zd(){}function rg(e,t,s,a,c){if(c){if(typeof a=="function"){var h=a;a=function(){var P=Mi(v);h.call(P)}}var v=Qd(t,a,e,0,null,!1,!1,"",Zd);return e._reactRootContainer=v,e[Mt]=v.current,ns(e.nodeType===8?e.parentNode:e),Ir(),v}for(;c=e.lastChild;)e.removeChild(c);if(typeof a=="function"){var x=a;a=function(){var P=Mi(b);x.call(P)}}var b=al(e,0,!1,null,null,!1,!1,"",Zd);return e._reactRootContainer=b,e[Mt]=b.current,ns(e.nodeType===8?e.parentNode:e),Ir(function(){zi(t,b,s,a)}),b}function Vi(e,t,s,a,c){var h=s._reactRootContainer;if(h){var v=h;if(typeof c=="function"){var x=c;c=function(){var b=Mi(v);x.call(b)}}zi(t,v,e,c)}else v=rg(s,t,e,c,a);return Mi(v)}Au=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=Fn(t.pendingLanes);s!==0&&(Io(t,s|1),nt(t,Te()),(ue&6)===0&&(mn=Te()+500,ar()))}break;case 13:Ir(function(){var a=Wt(e,1);if(a!==null){var c=Ye();Nt(a,e,1,c)}}),ll(e,1)}},$o=function(e){if(e.tag===13){var t=Wt(e,134217728);if(t!==null){var s=Ye();Nt(t,e,134217728,s)}ll(e,134217728)}},Iu=function(e){if(e.tag===13){var t=fr(e),s=Wt(e,t);if(s!==null){var a=Ye();Nt(s,e,t,a)}ll(e,t)}},$u=function(){return pe},Lu=function(e,t){var s=pe;try{return pe=e,t()}finally{pe=s}},No=function(e,t,s){switch(t){case"input":if(wo(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var a=s[t];if(a!==e&&a.form===e.form){var c=oi(a);if(!c)throw Error(n(90));ou(a),wo(a,c)}}}break;case"textarea":du(e,s);break;case"select":t=s.value,t!=null&&qr(e,!!s.multiple,t,!1)}},xu=tl,_u=Ir;var ng={usingClientEntryPoint:!1,Events:[os,tn,oi,yu,wu,tl]},xs={findFiberByHostInstance:Er,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sg={bundleType:xs.bundleType,version:xs.version,rendererPackageName:xs.rendererPackageName,rendererConfig:xs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ju(e),e===null?null:e.stateNode},findFiberByHostInstance:xs.findFiberByHostInstance||tg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wi.isDisabled&&Wi.supportsFiber)try{Bs=Wi.inject(sg),It=Wi}catch{}}return st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ng,st.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cl(t))throw Error(n(200));return eg(e,t,null,s)},st.createRoot=function(e,t){if(!cl(e))throw Error(n(299));var s=!1,a="",c=Xd;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=al(e,1,!1,null,null,s,!1,a,c),e[Mt]=t.current,ns(e.nodeType===8?e.parentNode:e),new ul(t)},st.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(n(188)):(e=Object.keys(e).join(","),Error(n(268,e)));return e=ju(t),e=e===null?null:e.stateNode,e},st.flushSync=function(e){return Ir(e)},st.hydrate=function(e,t,s){if(!Fi(t))throw Error(n(200));return Vi(null,e,t,!0,s)},st.hydrateRoot=function(e,t,s){if(!cl(e))throw Error(n(405));var a=s!=null&&s.hydratedSources||null,c=!1,h="",v=Xd;if(s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(v=s.onRecoverableError)),t=Qd(t,null,e,1,s??null,c,!1,h,v),e[Mt]=t.current,ns(e),a)for(e=0;e<a.length;e++)s=a[e],c=s._getVersion,c=c(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,c]:t.mutableSourceEagerHydrationData.push(s,c);return new Bi(t)},st.render=function(e,t,s){if(!Fi(t))throw Error(n(200));return Vi(null,e,t,!1,s)},st.unmountComponentAtNode=function(e){if(!Fi(e))throw Error(n(40));return e._reactRootContainer?(Ir(function(){Vi(null,null,e,!1,function(){e._reactRootContainer=null,e[Mt]=null})}),!0):!1},st.unstable_batchedUpdates=tl,st.unstable_renderSubtreeIntoContainer=function(e,t,s,a){if(!Fi(s))throw Error(n(200));if(e==null||e._reactInternals===void 0)throw Error(n(38));return Vi(e,t,s,!1,a)},st.version="18.3.1-next-f1338f8080-20240426",st}var ah;function Xh(){if(ah)return fl.exports;ah=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(r){console.error(r)}}return i(),fl.exports=fg(),fl.exports}var lh;function pg(){if(lh)return qi;lh=1;var i=Xh();return qi.createRoot=i.createRoot,qi.hydrateRoot=i.hydrateRoot,qi}var mg=pg();const gg=Fl(mg);Xh();function Es(){return Es=Object.assign?Object.assign.bind():function(i){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])}return i},Es.apply(this,arguments)}var xr;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(xr||(xr={}));const uh="popstate";function vg(i){i===void 0&&(i={});function r(o,l){let{pathname:u,search:d,hash:p}=o.location;return El("",{pathname:u,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(o,l){return typeof l=="string"?l:io(l)}return wg(r,n,null,i)}function Re(i,r){if(i===!1||i===null||typeof i>"u")throw new Error(r)}function Wl(i,r){if(!i){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function yg(){return Math.random().toString(36).substr(2,8)}function ch(i,r){return{usr:i.state,key:i.key,idx:r}}function El(i,r,n,o){return n===void 0&&(n=null),Es({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof r=="string"?Rn(r):r,{state:n,key:r&&r.key||o||yg()})}function io(i){let{pathname:r="/",search:n="",hash:o=""}=i;return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),o&&o!=="#"&&(r+=o.charAt(0)==="#"?o:"#"+o),r}function Rn(i){let r={};if(i){let n=i.indexOf("#");n>=0&&(r.hash=i.substr(n),i=i.substr(0,n));let o=i.indexOf("?");o>=0&&(r.search=i.substr(o),i=i.substr(0,o)),i&&(r.pathname=i)}return r}function wg(i,r,n,o){o===void 0&&(o={});let{window:l=document.defaultView,v5Compat:u=!1}=o,d=l.history,p=xr.Pop,m=null,g=y();g==null&&(g=0,d.replaceState(Es({},d.state,{idx:g}),""));function y(){return(d.state||{idx:null}).idx}function w(){p=xr.Pop;let _=y(),A=_==null?null:_-g;g=_,m&&m({action:p,location:N.location,delta:A})}function k(_,A){p=xr.Push;let $=El(N.location,_,A);g=y()+1;let R=ch($,g),B=N.createHref($);try{d.pushState(R,"",B)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;l.location.assign(B)}u&&m&&m({action:p,location:N.location,delta:1})}function j(_,A){p=xr.Replace;let $=El(N.location,_,A);g=y();let R=ch($,g),B=N.createHref($);d.replaceState(R,"",B),u&&m&&m({action:p,location:N.location,delta:0})}function E(_){let A=l.location.origin!=="null"?l.location.origin:l.location.href,$=typeof _=="string"?_:io(_);return $=$.replace(/ $/,"%20"),Re(A,"No window.location.(origin|href) available to create URL for href: "+$),new URL($,A)}let N={get action(){return p},get location(){return i(l,d)},listen(_){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(uh,w),m=_,()=>{l.removeEventListener(uh,w),m=null}},createHref(_){return r(l,_)},createURL:E,encodeLocation(_){let A=E(_);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:k,replace:j,go(_){return d.go(_)}};return N}var dh;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(dh||(dh={}));function xg(i,r,n){return n===void 0&&(n="/"),_g(i,r,n)}function _g(i,r,n,o){let l=typeof r=="string"?Rn(r):r,u=ql(l.pathname||"/",n);if(u==null)return null;let d=Zh(i);bg(d);let p=null;for(let m=0;p==null&&m<d.length;++m){let g=Ig(u);p=Pg(d[m],g)}return p}function Zh(i,r,n,o){r===void 0&&(r=[]),n===void 0&&(n=[]),o===void 0&&(o="");let l=(u,d,p)=>{let m={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};m.relativePath.startsWith("/")&&(Re(m.relativePath.startsWith(o),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(o.length));let g=_r([o,m.relativePath]),y=n.concat(m);u.children&&u.children.length>0&&(Re(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),Zh(u.children,r,y,g)),!(u.path==null&&!u.index)&&r.push({path:g,score:Og(g,u.index),routesMeta:y})};return i.forEach((u,d)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))l(u,d);else for(let m of ef(u.path))l(u,d,m)}),r}function ef(i){let r=i.split("/");if(r.length===0)return[];let[n,...o]=r,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(o.length===0)return l?[u,""]:[u];let d=ef(o.join("/")),p=[];return p.push(...d.map(m=>m===""?u:[u,m].join("/"))),l&&p.push(...d),p.map(m=>i.startsWith("/")&&m===""?"/":m)}function bg(i){i.sort((r,n)=>r.score!==n.score?n.score-r.score:Tg(r.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}const kg=/^:[\w-]+$/,Sg=3,jg=2,Eg=1,Ng=10,Cg=-2,hh=i=>i==="*";function Og(i,r){let n=i.split("/"),o=n.length;return n.some(hh)&&(o+=Cg),r&&(o+=jg),n.filter(l=>!hh(l)).reduce((l,u)=>l+(kg.test(u)?Sg:u===""?Eg:Ng),o)}function Tg(i,r){return i.length===r.length&&i.slice(0,-1).every((o,l)=>o===r[l])?i[i.length-1]-r[r.length-1]:0}function Pg(i,r,n){let{routesMeta:o}=i,l={},u="/",d=[];for(let p=0;p<o.length;++p){let m=o[p],g=p===o.length-1,y=u==="/"?r:r.slice(u.length)||"/",w=Rg({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},y),k=m.route;if(!w)return null;Object.assign(l,w.params),d.push({params:l,pathname:_r([u,w.pathname]),pathnameBase:zg(_r([u,w.pathnameBase])),route:k}),w.pathnameBase!=="/"&&(u=_r([u,w.pathnameBase]))}return d}function Rg(i,r){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,o]=Ag(i.path,i.caseSensitive,i.end),l=r.match(n);if(!l)return null;let u=l[0],d=u.replace(/(.)\/+$/,"$1"),p=l.slice(1);return{params:o.reduce((g,y,w)=>{let{paramName:k,isOptional:j}=y;if(k==="*"){let N=p[w]||"";d=u.slice(0,u.length-N.length).replace(/(.)\/+$/,"$1")}const E=p[w];return j&&!E?g[k]=void 0:g[k]=(E||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:d,pattern:i}}function Ag(i,r,n){r===void 0&&(r=!1),n===void 0&&(n=!0),Wl(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let o=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,m)=>(o.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(o.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,r?void 0:"i"),o]}function Ig(i){try{return i.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Wl(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),i}}function ql(i,r){if(r==="/")return i;if(!i.toLowerCase().startsWith(r.toLowerCase()))return null;let n=r.endsWith("/")?r.length-1:r.length,o=i.charAt(n);return o&&o!=="/"?null:i.slice(n)||"/"}const $g=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lg=i=>$g.test(i);function Ug(i,r){r===void 0&&(r="/");let{pathname:n,search:o="",hash:l=""}=typeof i=="string"?Rn(i):i,u;if(n)if(Lg(n))u=n;else{if(n.includes("//")){let d=n;n=n.replace(/\/\/+/g,"/"),Wl(!1,"Pathnames cannot have embedded double slashes - normalizing "+(d+" -> "+n))}n.startsWith("/")?u=fh(n.substring(1),"/"):u=fh(n,r)}else u=r;return{pathname:u,search:Mg(o),hash:Bg(l)}}function fh(i,r){let n=r.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function gl(i,r,n,o){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Dg(i){return i.filter((r,n)=>n===0||r.route.path&&r.route.path.length>0)}function Hl(i,r){let n=Dg(i);return r?n.map((o,l)=>l===n.length-1?o.pathname:o.pathnameBase):n.map(o=>o.pathnameBase)}function Kl(i,r,n,o){o===void 0&&(o=!1);let l;typeof i=="string"?l=Rn(i):(l=Es({},i),Re(!l.pathname||!l.pathname.includes("?"),gl("?","pathname","search",l)),Re(!l.pathname||!l.pathname.includes("#"),gl("#","pathname","hash",l)),Re(!l.search||!l.search.includes("#"),gl("#","search","hash",l)));let u=i===""||l.pathname==="",d=u?"/":l.pathname,p;if(d==null)p=n;else{let w=r.length-1;if(!o&&d.startsWith("..")){let k=d.split("/");for(;k[0]==="..";)k.shift(),w-=1;l.pathname=k.join("/")}p=w>=0?r[w]:"/"}let m=Ug(l,p),g=d&&d!=="/"&&d.endsWith("/"),y=(u||d===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||y)&&(m.pathname+="/"),m}const _r=i=>i.join("/").replace(/\/\/+/g,"/"),zg=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Mg=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Bg=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Fg(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const tf=["post","put","patch","delete"];new Set(tf);const Vg=["get",...tf];new Set(Vg);function Ns(){return Ns=Object.assign?Object.assign.bind():function(i){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])}return i},Ns.apply(this,arguments)}const Gl=I.createContext(null),Wg=I.createContext(null),br=I.createContext(null),po=I.createContext(null),Qt=I.createContext({outlet:null,matches:[],isDataRoute:!1}),rf=I.createContext(null);function qg(i,r){let{relative:n}=r===void 0?{}:r;An()||Re(!1);let{basename:o,navigator:l}=I.useContext(br),{hash:u,pathname:d,search:p}=sf(i,{relative:n}),m=d;return o!=="/"&&(m=d==="/"?o:_r([o,d])),l.createHref({pathname:m,search:p,hash:u})}function An(){return I.useContext(po)!=null}function Rs(){return An()||Re(!1),I.useContext(po).location}function nf(i){I.useContext(br).static||I.useLayoutEffect(i)}function As(){let{isDataRoute:i}=I.useContext(Qt);return i?i0():Hg()}function Hg(){An()||Re(!1);let i=I.useContext(Gl),{basename:r,future:n,navigator:o}=I.useContext(br),{matches:l}=I.useContext(Qt),{pathname:u}=Rs(),d=JSON.stringify(Hl(l,n.v7_relativeSplatPath)),p=I.useRef(!1);return nf(()=>{p.current=!0}),I.useCallback(function(g,y){if(y===void 0&&(y={}),!p.current)return;if(typeof g=="number"){o.go(g);return}let w=Kl(g,JSON.parse(d),u,y.relative==="path");i==null&&r!=="/"&&(w.pathname=w.pathname==="/"?r:_r([r,w.pathname])),(y.replace?o.replace:o.push)(w,y.state,y)},[r,o,d,u,i])}function Kg(){let{matches:i}=I.useContext(Qt),r=i[i.length-1];return r?r.params:{}}function sf(i,r){let{relative:n}=r===void 0?{}:r,{future:o}=I.useContext(br),{matches:l}=I.useContext(Qt),{pathname:u}=Rs(),d=JSON.stringify(Hl(l,o.v7_relativeSplatPath));return I.useMemo(()=>Kl(i,JSON.parse(d),u,n==="path"),[i,d,u,n])}function Gg(i,r){return Jg(i,r)}function Jg(i,r,n,o){An()||Re(!1);let{navigator:l}=I.useContext(br),{matches:u}=I.useContext(Qt),d=u[u.length-1],p=d?d.params:{};d&&d.pathname;let m=d?d.pathnameBase:"/";d&&d.route;let g=Rs(),y;if(r){var w;let _=typeof r=="string"?Rn(r):r;m==="/"||(w=_.pathname)!=null&&w.startsWith(m)||Re(!1),y=_}else y=g;let k=y.pathname||"/",j=k;if(m!=="/"){let _=m.replace(/^\//,"").split("/");j="/"+k.replace(/^\//,"").split("/").slice(_.length).join("/")}let E=xg(i,{pathname:j}),N=e0(E&&E.map(_=>Object.assign({},_,{params:Object.assign({},p,_.params),pathname:_r([m,l.encodeLocation?l.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?m:_r([m,l.encodeLocation?l.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),u,n,o);return r&&N?I.createElement(po.Provider,{value:{location:Ns({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:xr.Pop}},N):N}function Qg(){let i=s0(),r=Fg(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},r),n?I.createElement("pre",{style:l},n):null,null)}const Yg=I.createElement(Qg,null);class Xg extends I.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,n){return n.location!==r.location||n.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:n.error,location:n.location,revalidation:r.revalidation||n.revalidation}}componentDidCatch(r,n){console.error("React Router caught the following error during render",r,n)}render(){return this.state.error!==void 0?I.createElement(Qt.Provider,{value:this.props.routeContext},I.createElement(rf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Zg(i){let{routeContext:r,match:n,children:o}=i,l=I.useContext(Gl);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),I.createElement(Qt.Provider,{value:r},o)}function e0(i,r,n,o){var l;if(r===void 0&&(r=[]),n===void 0&&(n=null),o===void 0&&(o=null),i==null){var u;if(!n)return null;if(n.errors)i=n.matches;else if((u=o)!=null&&u.v7_partialHydration&&r.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let d=i,p=(l=n)==null?void 0:l.errors;if(p!=null){let y=d.findIndex(w=>w.route.id&&p?.[w.route.id]!==void 0);y>=0||Re(!1),d=d.slice(0,Math.min(d.length,y+1))}let m=!1,g=-1;if(n&&o&&o.v7_partialHydration)for(let y=0;y<d.length;y++){let w=d[y];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(g=y),w.route.id){let{loaderData:k,errors:j}=n,E=w.route.loader&&k[w.route.id]===void 0&&(!j||j[w.route.id]===void 0);if(w.route.lazy||E){m=!0,g>=0?d=d.slice(0,g+1):d=[d[0]];break}}}return d.reduceRight((y,w,k)=>{let j,E=!1,N=null,_=null;n&&(j=p&&w.route.id?p[w.route.id]:void 0,N=w.route.errorElement||Yg,m&&(g<0&&k===0?(o0("route-fallback"),E=!0,_=null):g===k&&(E=!0,_=w.route.hydrateFallbackElement||null)));let A=r.concat(d.slice(0,k+1)),$=()=>{let R;return j?R=N:E?R=_:w.route.Component?R=I.createElement(w.route.Component,null):w.route.element?R=w.route.element:R=y,I.createElement(Zg,{match:w,routeContext:{outlet:y,matches:A,isDataRoute:n!=null},children:R})};return n&&(w.route.ErrorBoundary||w.route.errorElement||k===0)?I.createElement(Xg,{location:n.location,revalidation:n.revalidation,component:N,error:j,children:$(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):$()},null)}var of=(function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i})(of||{}),af=(function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i})(af||{});function t0(i){let r=I.useContext(Gl);return r||Re(!1),r}function r0(i){let r=I.useContext(Wg);return r||Re(!1),r}function n0(i){let r=I.useContext(Qt);return r||Re(!1),r}function lf(i){let r=n0(),n=r.matches[r.matches.length-1];return n.route.id||Re(!1),n.route.id}function s0(){var i;let r=I.useContext(rf),n=r0(),o=lf();return r!==void 0?r:(i=n.errors)==null?void 0:i[o]}function i0(){let{router:i}=t0(of.UseNavigateStable),r=lf(af.UseNavigateStable),n=I.useRef(!1);return nf(()=>{n.current=!0}),I.useCallback(function(l,u){u===void 0&&(u={}),n.current&&(typeof l=="number"?i.navigate(l):i.navigate(l,Ns({fromRouteId:r},u)))},[i,r])}const ph={};function o0(i,r,n){ph[i]||(ph[i]=!0)}function a0(i,r){i?.v7_startTransition,i?.v7_relativeSplatPath}function mh(i){let{to:r,replace:n,state:o,relative:l}=i;An()||Re(!1);let{future:u,static:d}=I.useContext(br),{matches:p}=I.useContext(Qt),{pathname:m}=Rs(),g=As(),y=Kl(r,Hl(p,u.v7_relativeSplatPath),m,l==="path"),w=JSON.stringify(y);return I.useEffect(()=>g(JSON.parse(w),{replace:n,state:o,relative:l}),[g,w,l,n,o]),null}function yr(i){Re(!1)}function l0(i){let{basename:r="/",children:n=null,location:o,navigationType:l=xr.Pop,navigator:u,static:d=!1,future:p}=i;An()&&Re(!1);let m=r.replace(/^\/*/,"/"),g=I.useMemo(()=>({basename:m,navigator:u,static:d,future:Ns({v7_relativeSplatPath:!1},p)}),[m,p,u,d]);typeof o=="string"&&(o=Rn(o));let{pathname:y="/",search:w="",hash:k="",state:j=null,key:E="default"}=o,N=I.useMemo(()=>{let _=ql(y,m);return _==null?null:{location:{pathname:_,search:w,hash:k,state:j,key:E},navigationType:l}},[m,y,w,k,j,E,l]);return N==null?null:I.createElement(br.Provider,{value:g},I.createElement(po.Provider,{children:n,value:N}))}function u0(i){let{children:r,location:n}=i;return Gg(Nl(r),n)}new Promise(()=>{});function Nl(i,r){r===void 0&&(r=[]);let n=[];return I.Children.forEach(i,(o,l)=>{if(!I.isValidElement(o))return;let u=[...r,l];if(o.type===I.Fragment){n.push.apply(n,Nl(o.props.children,u));return}o.type!==yr&&Re(!1),!o.props.index||!o.props.children||Re(!1);let d={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(d.children=Nl(o.props.children,u)),n.push(d)}),n}function Cl(){return Cl=Object.assign?Object.assign.bind():function(i){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])}return i},Cl.apply(this,arguments)}function c0(i,r){if(i==null)return{};var n={},o=Object.keys(i),l,u;for(u=0;u<o.length;u++)l=o[u],!(r.indexOf(l)>=0)&&(n[l]=i[l]);return n}function d0(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function h0(i,r){return i.button===0&&(!r||r==="_self")&&!d0(i)}const f0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],p0="6";try{window.__reactRouterVersion=p0}catch{}const m0="startTransition",gh=cg[m0];function g0(i){let{basename:r,children:n,future:o,window:l}=i,u=I.useRef();u.current==null&&(u.current=vg({window:l,v5Compat:!0}));let d=u.current,[p,m]=I.useState({action:d.action,location:d.location}),{v7_startTransition:g}=o||{},y=I.useCallback(w=>{g&&gh?gh(()=>m(w)):m(w)},[m,g]);return I.useLayoutEffect(()=>d.listen(y),[d,y]),I.useEffect(()=>a0(o),[o]),I.createElement(l0,{basename:r,children:n,location:p.location,navigationType:p.action,navigator:d,future:o})}const v0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",y0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,En=I.forwardRef(function(r,n){let{onClick:o,relative:l,reloadDocument:u,replace:d,state:p,target:m,to:g,preventScrollReset:y,viewTransition:w}=r,k=c0(r,f0),{basename:j}=I.useContext(br),E,N=!1;if(typeof g=="string"&&y0.test(g)&&(E=g,v0))try{let R=new URL(window.location.href),B=g.startsWith("//")?new URL(R.protocol+g):new URL(g),Z=ql(B.pathname,j);B.origin===R.origin&&Z!=null?g=Z+B.search+B.hash:N=!0}catch{}let _=qg(g,{relative:l}),A=w0(g,{replace:d,state:p,target:m,preventScrollReset:y,relative:l,viewTransition:w});function $(R){o&&o(R),R.defaultPrevented||A(R)}return I.createElement("a",Cl({},k,{href:E||_,onClick:N||u?o:$,ref:n,target:m}))});var vh;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(vh||(vh={}));var yh;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(yh||(yh={}));function w0(i,r){let{target:n,replace:o,state:l,preventScrollReset:u,relative:d,viewTransition:p}=r===void 0?{}:r,m=As(),g=Rs(),y=sf(i,{relative:d});return I.useCallback(w=>{if(h0(w,n)){w.preventDefault();let k=o!==void 0?o:io(g)===io(y);m(i,{replace:k,state:l,preventScrollReset:u,relative:d,viewTransition:p})}},[g,m,y,o,l,n,i,u,d,p])}var Ol=function(i,r){return Ol=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(n[l]=o[l])},Ol(i,r)};function uf(i,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");Ol(i,r);function n(){this.constructor=i}i.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var oo=function(){return oo=Object.assign||function(r){for(var n,o=1,l=arguments.length;o<l;o++){n=arguments[o];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(r[u]=n[u])}return r},oo.apply(this,arguments)};function In(i,r){var n={};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&r.indexOf(o)<0&&(n[o]=i[o]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(i);l<o.length;l++)r.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(i,o[l])&&(n[o[l]]=i[o[l]]);return n}function cf(i,r,n,o){var l=arguments.length,u=l<3?r:o===null?o=Object.getOwnPropertyDescriptor(r,n):o,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(i,r,n,o);else for(var p=i.length-1;p>=0;p--)(d=i[p])&&(u=(l<3?d(u):l>3?d(r,n,u):d(r,n))||u);return l>3&&u&&Object.defineProperty(r,n,u),u}function df(i,r){return function(n,o){r(n,o,i)}}function hf(i,r,n,o,l,u){function d(A){if(A!==void 0&&typeof A!="function")throw new TypeError("Function expected");return A}for(var p=o.kind,m=p==="getter"?"get":p==="setter"?"set":"value",g=!r&&i?o.static?i:i.prototype:null,y=r||(g?Object.getOwnPropertyDescriptor(g,o.name):{}),w,k=!1,j=n.length-1;j>=0;j--){var E={};for(var N in o)E[N]=N==="access"?{}:o[N];for(var N in o.access)E.access[N]=o.access[N];E.addInitializer=function(A){if(k)throw new TypeError("Cannot add initializers after decoration has completed");u.push(d(A||null))};var _=(0,n[j])(p==="accessor"?{get:y.get,set:y.set}:y[m],E);if(p==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(w=d(_.get))&&(y.get=w),(w=d(_.set))&&(y.set=w),(w=d(_.init))&&l.unshift(w)}else(w=d(_))&&(p==="field"?l.unshift(w):y[m]=w)}g&&Object.defineProperty(g,o.name,y),k=!0}function ff(i,r,n){for(var o=arguments.length>2,l=0;l<r.length;l++)n=o?r[l].call(i,n):r[l].call(i);return o?n:void 0}function pf(i){return typeof i=="symbol"?i:"".concat(i)}function mf(i,r,n){return typeof r=="symbol"&&(r=r.description?"[".concat(r.description,"]"):""),Object.defineProperty(i,"name",{configurable:!0,value:n?"".concat(n," ",r):r})}function gf(i,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,r)}function H(i,r,n,o){function l(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function p(y){try{g(o.next(y))}catch(w){d(w)}}function m(y){try{g(o.throw(y))}catch(w){d(w)}}function g(y){y.done?u(y.value):l(y.value).then(p,m)}g((o=o.apply(i,r||[])).next())})}function vf(i,r){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},o,l,u,d=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return d.next=p(0),d.throw=p(1),d.return=p(2),typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function p(g){return function(y){return m([g,y])}}function m(g){if(o)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(n=0)),n;)try{if(o=1,l&&(u=g[0]&2?l.return:g[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,g[1])).done)return u;switch(l=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,l=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){n.label=g[1];break}if(g[0]===6&&n.label<u[1]){n.label=u[1],u=g;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(g);break}u[2]&&n.ops.pop(),n.trys.pop();continue}g=r.call(i,n)}catch(y){g=[6,y],l=0}finally{o=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}var mo=Object.create?(function(i,r,n,o){o===void 0&&(o=n);var l=Object.getOwnPropertyDescriptor(r,n);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(i,o,l)}):(function(i,r,n,o){o===void 0&&(o=n),i[o]=r[n]});function yf(i,r){for(var n in i)n!=="default"&&!Object.prototype.hasOwnProperty.call(r,n)&&mo(r,i,n)}function ao(i){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&i[r],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function Jl(i,r){var n=typeof Symbol=="function"&&i[Symbol.iterator];if(!n)return i;var o=n.call(i),l,u=[],d;try{for(;(r===void 0||r-- >0)&&!(l=o.next()).done;)u.push(l.value)}catch(p){d={error:p}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(d)throw d.error}}return u}function wf(){for(var i=[],r=0;r<arguments.length;r++)i=i.concat(Jl(arguments[r]));return i}function xf(){for(var i=0,r=0,n=arguments.length;r<n;r++)i+=arguments[r].length;for(var o=Array(i),l=0,r=0;r<n;r++)for(var u=arguments[r],d=0,p=u.length;d<p;d++,l++)o[l]=u[d];return o}function _f(i,r,n){if(n||arguments.length===2)for(var o=0,l=r.length,u;o<l;o++)(u||!(o in r))&&(u||(u=Array.prototype.slice.call(r,0,o)),u[o]=r[o]);return i.concat(u||Array.prototype.slice.call(r))}function On(i){return this instanceof On?(this.v=i,this):new On(i)}function bf(i,r,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(i,r||[]),l,u=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",d),l[Symbol.asyncIterator]=function(){return this},l;function d(j){return function(E){return Promise.resolve(E).then(j,w)}}function p(j,E){o[j]&&(l[j]=function(N){return new Promise(function(_,A){u.push([j,N,_,A])>1||m(j,N)})},E&&(l[j]=E(l[j])))}function m(j,E){try{g(o[j](E))}catch(N){k(u[0][3],N)}}function g(j){j.value instanceof On?Promise.resolve(j.value.v).then(y,w):k(u[0][2],j)}function y(j){m("next",j)}function w(j){m("throw",j)}function k(j,E){j(E),u.shift(),u.length&&m(u[0][0],u[0][1])}}function kf(i){var r,n;return r={},o("next"),o("throw",function(l){throw l}),o("return"),r[Symbol.iterator]=function(){return this},r;function o(l,u){r[l]=i[l]?function(d){return(n=!n)?{value:On(i[l](d)),done:!1}:u?u(d):d}:u}}function Sf(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=i[Symbol.asyncIterator],n;return r?r.call(i):(i=typeof ao=="function"?ao(i):i[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(u){n[u]=i[u]&&function(d){return new Promise(function(p,m){d=i[u](d),l(p,m,d.done,d.value)})}}function l(u,d,p,m){Promise.resolve(m).then(function(g){u({value:g,done:p})},d)}}function jf(i,r){return Object.defineProperty?Object.defineProperty(i,"raw",{value:r}):i.raw=r,i}var x0=Object.create?(function(i,r){Object.defineProperty(i,"default",{enumerable:!0,value:r})}):function(i,r){i.default=r},Tl=function(i){return Tl=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n},Tl(i)};function Ef(i){if(i&&i.__esModule)return i;var r={};if(i!=null)for(var n=Tl(i),o=0;o<n.length;o++)n[o]!=="default"&&mo(r,i,n[o]);return x0(r,i),r}function Nf(i){return i&&i.__esModule?i:{default:i}}function Cf(i,r,n,o){if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?i!==r||!o:!r.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?o:n==="a"?o.call(i):o?o.value:r.get(i)}function Of(i,r,n,o,l){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?i!==r||!l:!r.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?l.call(i,n):l?l.value=n:r.set(i,n),n}function Tf(i,r){if(r===null||typeof r!="object"&&typeof r!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof i=="function"?r===i:i.has(r)}function Pf(i,r,n){if(r!=null){if(typeof r!="object"&&typeof r!="function")throw new TypeError("Object expected.");var o,l;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");o=r[Symbol.asyncDispose]}if(o===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");o=r[Symbol.dispose],n&&(l=o)}if(typeof o!="function")throw new TypeError("Object not disposable.");l&&(o=function(){try{l.call(this)}catch(u){return Promise.reject(u)}}),i.stack.push({value:r,dispose:o,async:n})}else n&&i.stack.push({async:!0});return r}var _0=typeof SuppressedError=="function"?SuppressedError:function(i,r,n){var o=new Error(n);return o.name="SuppressedError",o.error=i,o.suppressed=r,o};function Rf(i){function r(u){i.error=i.hasError?new _0(u,i.error,"An error was suppressed during disposal."):u,i.hasError=!0}var n,o=0;function l(){for(;n=i.stack.pop();)try{if(!n.async&&o===1)return o=0,i.stack.push(n),Promise.resolve().then(l);if(n.dispose){var u=n.dispose.call(n.value);if(n.async)return o|=2,Promise.resolve(u).then(l,function(d){return r(d),l()})}else o|=1}catch(d){r(d)}if(o===1)return i.hasError?Promise.reject(i.error):Promise.resolve();if(i.hasError)throw i.error}return l()}function Af(i,r){return typeof i=="string"&&/^\.\.?\//.test(i)?i.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,o,l,u,d){return o?r?".jsx":".js":l&&(!u||!d)?n:l+u+"."+d.toLowerCase()+"js"}):i}const b0={__extends:uf,__assign:oo,__rest:In,__decorate:cf,__param:df,__esDecorate:hf,__runInitializers:ff,__propKey:pf,__setFunctionName:mf,__metadata:gf,__awaiter:H,__generator:vf,__createBinding:mo,__exportStar:yf,__values:ao,__read:Jl,__spread:wf,__spreadArrays:xf,__spreadArray:_f,__await:On,__asyncGenerator:bf,__asyncDelegator:kf,__asyncValues:Sf,__makeTemplateObject:jf,__importStar:Ef,__importDefault:Nf,__classPrivateFieldGet:Cf,__classPrivateFieldSet:Of,__classPrivateFieldIn:Tf,__addDisposableResource:Pf,__disposeResources:Rf,__rewriteRelativeImportExtension:Af},k0=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Pf,get __assign(){return oo},__asyncDelegator:kf,__asyncGenerator:bf,__asyncValues:Sf,__await:On,__awaiter:H,__classPrivateFieldGet:Cf,__classPrivateFieldIn:Tf,__classPrivateFieldSet:Of,__createBinding:mo,__decorate:cf,__disposeResources:Rf,__esDecorate:hf,__exportStar:yf,__extends:uf,__generator:vf,__importDefault:Nf,__importStar:Ef,__makeTemplateObject:jf,__metadata:gf,__param:df,__propKey:pf,__read:Jl,__rest:In,__rewriteRelativeImportExtension:Af,__runInitializers:ff,__setFunctionName:mf,__spread:wf,__spreadArray:_f,__spreadArrays:xf,__values:ao,default:b0},Symbol.toStringTag,{value:"Module"})),S0=i=>i?(...r)=>i(...r):(...r)=>fetch(...r);class Ql extends Error{constructor(r,n="FunctionsError",o){super(r),this.name=n,this.context=o}}class j0 extends Ql{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class wh extends Ql{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class xh extends Ql{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var Pl;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(Pl||(Pl={}));class E0{constructor(r,{headers:n={},customFetch:o,region:l=Pl.Any}={}){this.url=r,this.headers=n,this.region=l,this.fetch=S0(o)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return H(this,arguments,void 0,function*(n,o={}){var l;let u,d;try{const{headers:p,method:m,body:g,signal:y,timeout:w}=o;let k={},{region:j}=o;j||(j=this.region);const E=new URL(`${this.url}/${n}`);j&&j!=="any"&&(k["x-region"]=j,E.searchParams.set("forceFunctionRegion",j));let N;g&&(p&&!Object.prototype.hasOwnProperty.call(p,"Content-Type")||!p)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(k["Content-Type"]="application/octet-stream",N=g):typeof g=="string"?(k["Content-Type"]="text/plain",N=g):typeof FormData<"u"&&g instanceof FormData?N=g:(k["Content-Type"]="application/json",N=JSON.stringify(g)):N=g;let _=y;w&&(d=new AbortController,u=setTimeout(()=>d.abort(),w),y?(_=d.signal,y.addEventListener("abort",()=>d.abort())):_=d.signal);const A=yield this.fetch(E.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},k),this.headers),p),body:N,signal:_}).catch(Z=>{throw new j0(Z)}),$=A.headers.get("x-relay-error");if($&&$==="true")throw new wh(A);if(!A.ok)throw new xh(A);let R=((l=A.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),B;return R==="application/json"?B=yield A.json():R==="application/octet-stream"||R==="application/pdf"?B=yield A.blob():R==="text/event-stream"?B=A:R==="multipart/form-data"?B=yield A.formData():B=yield A.text(),{data:B,error:null,response:A}}catch(p){return{data:null,error:p,response:p instanceof xh||p instanceof wh?p.context:void 0}}finally{u&&clearTimeout(u)}})}}var Je={};const $n=og(k0);var Hi={},Ki={},Gi={},Ji={},Qi={},Yi={},_h;function If(){if(_h)return Yi;_h=1,Object.defineProperty(Yi,"__esModule",{value:!0});class i extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Yi.default=i,Yi}var bh;function $f(){if(bh)return Qi;bh=1,Object.defineProperty(Qi,"__esModule",{value:!0});const r=$n.__importDefault(If());class n{constructor(l){var u,d;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(u=l.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=l.signal,this.isMaybeSingle=(d=l.isMaybeSingle)!==null&&d!==void 0?d:!1,l.fetch?this.fetch=l.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,u){return this.headers=new Headers(this.headers),this.headers.set(l,u),this}then(l,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let p=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var g,y,w,k;let j=null,E=null,N=null,_=m.status,A=m.statusText;if(m.ok){if(this.method!=="HEAD"){const Z=await m.text();Z===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((g=this.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?E=Z:E=JSON.parse(Z))}const R=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),B=(w=m.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");R&&B&&B.length>1&&(N=parseInt(B[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(j={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,N=null,_=406,A="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const R=await m.text();try{j=JSON.parse(R),Array.isArray(j)&&m.status===404&&(E=[],j=null,_=200,A="OK")}catch{m.status===404&&R===""?(_=204,A="No Content"):j={message:R}}if(j&&this.isMaybeSingle&&(!((k=j?.details)===null||k===void 0)&&k.includes("0 rows"))&&(j=null,_=200,A="OK"),j&&this.shouldThrowOnError)throw new r.default(j)}return{error:j,data:E,count:N,status:_,statusText:A}});return this.shouldThrowOnError||(p=p.catch(m=>{var g,y,w,k,j,E;let N="";const _=m?.cause;if(_){const A=(g=_?.message)!==null&&g!==void 0?g:"",$=(y=_?.code)!==null&&y!==void 0?y:"";N=`${(w=m?.name)!==null&&w!==void 0?w:"FetchError"}: ${m?.message}`,N+=`

Caused by: ${(k=_?.name)!==null&&k!==void 0?k:"Error"}: ${A}`,$&&(N+=` (${$})`),_?.stack&&(N+=`
${_.stack}`)}else N=(j=m?.stack)!==null&&j!==void 0?j:"";return{error:{message:`${(E=m?.name)!==null&&E!==void 0?E:"FetchError"}: ${m?.message}`,details:N,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),p.then(l,u)}returns(){return this}overrideTypes(){return this}}return Qi.default=n,Qi}var kh;function Lf(){if(kh)return Ji;kh=1,Object.defineProperty(Ji,"__esModule",{value:!0});const r=$n.__importDefault($f());class n extends r.default{select(l){let u=!1;const d=(l??"*").split("").map(p=>/\s/.test(p)&&!u?"":(p==='"'&&(u=!u),p)).join("");return this.url.searchParams.set("select",d),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:u=!0,nullsFirst:d,foreignTable:p,referencedTable:m=p}={}){const g=m?`${m}.order`:"order",y=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${y?`${y},`:""}${l}.${u?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:u,referencedTable:d=u}={}){const p=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(p,`${l}`),this}range(l,u,{foreignTable:d,referencedTable:p=d}={}){const m=typeof p>"u"?"offset":`${p}.offset`,g=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(m,`${l}`),this.url.searchParams.set(g,`${u-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:u=!1,settings:d=!1,buffers:p=!1,wal:m=!1,format:g="text"}={}){var y;const w=[l?"analyze":null,u?"verbose":null,d?"settings":null,p?"buffers":null,m?"wal":null].filter(Boolean).join("|"),k=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${k}"; options=${w};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}}return Ji.default=n,Ji}var Sh;function Yl(){if(Sh)return Gi;Sh=1,Object.defineProperty(Gi,"__esModule",{value:!0});const r=$n.__importDefault(Lf()),n=new RegExp("[,()]");class o extends r.default{eq(u,d){return this.url.searchParams.append(u,`eq.${d}`),this}neq(u,d){return this.url.searchParams.append(u,`neq.${d}`),this}gt(u,d){return this.url.searchParams.append(u,`gt.${d}`),this}gte(u,d){return this.url.searchParams.append(u,`gte.${d}`),this}lt(u,d){return this.url.searchParams.append(u,`lt.${d}`),this}lte(u,d){return this.url.searchParams.append(u,`lte.${d}`),this}like(u,d){return this.url.searchParams.append(u,`like.${d}`),this}likeAllOf(u,d){return this.url.searchParams.append(u,`like(all).{${d.join(",")}}`),this}likeAnyOf(u,d){return this.url.searchParams.append(u,`like(any).{${d.join(",")}}`),this}ilike(u,d){return this.url.searchParams.append(u,`ilike.${d}`),this}ilikeAllOf(u,d){return this.url.searchParams.append(u,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(u,d){return this.url.searchParams.append(u,`ilike(any).{${d.join(",")}}`),this}regexMatch(u,d){return this.url.searchParams.append(u,`match.${d}`),this}regexIMatch(u,d){return this.url.searchParams.append(u,`imatch.${d}`),this}is(u,d){return this.url.searchParams.append(u,`is.${d}`),this}isDistinct(u,d){return this.url.searchParams.append(u,`isdistinct.${d}`),this}in(u,d){const p=Array.from(new Set(d)).map(m=>typeof m=="string"&&n.test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(u,`in.(${p})`),this}contains(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cs.{${d.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(d)}`),this}containedBy(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cd.{${d.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(d)}`),this}rangeGt(u,d){return this.url.searchParams.append(u,`sr.${d}`),this}rangeGte(u,d){return this.url.searchParams.append(u,`nxl.${d}`),this}rangeLt(u,d){return this.url.searchParams.append(u,`sl.${d}`),this}rangeLte(u,d){return this.url.searchParams.append(u,`nxr.${d}`),this}rangeAdjacent(u,d){return this.url.searchParams.append(u,`adj.${d}`),this}overlaps(u,d){return typeof d=="string"?this.url.searchParams.append(u,`ov.${d}`):this.url.searchParams.append(u,`ov.{${d.join(",")}}`),this}textSearch(u,d,{config:p,type:m}={}){let g="";m==="plain"?g="pl":m==="phrase"?g="ph":m==="websearch"&&(g="w");const y=p===void 0?"":`(${p})`;return this.url.searchParams.append(u,`${g}fts${y}.${d}`),this}match(u){return Object.entries(u).forEach(([d,p])=>{this.url.searchParams.append(d,`eq.${p}`)}),this}not(u,d,p){return this.url.searchParams.append(u,`not.${d}.${p}`),this}or(u,{foreignTable:d,referencedTable:p=d}={}){const m=p?`${p}.or`:"or";return this.url.searchParams.append(m,`(${u})`),this}filter(u,d,p){return this.url.searchParams.append(u,`${d}.${p}`),this}}return Gi.default=o,Gi}var jh;function Uf(){if(jh)return Ki;jh=1,Object.defineProperty(Ki,"__esModule",{value:!0});const r=$n.__importDefault(Yl());class n{constructor(l,{headers:u={},schema:d,fetch:p}){this.url=l,this.headers=new Headers(u),this.schema=d,this.fetch=p}select(l,u){const{head:d=!1,count:p}=u??{},m=d?"HEAD":"GET";let g=!1;const y=(l??"*").split("").map(w=>/\s/.test(w)&&!g?"":(w==='"'&&(g=!g),w)).join("");return this.url.searchParams.set("select",y),p&&this.headers.append("Prefer",`count=${p}`),new r.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(l,{count:u,defaultToNull:d=!0}={}){var p;const m="POST";if(u&&this.headers.append("Prefer",`count=${u}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const g=l.reduce((y,w)=>y.concat(Object.keys(w)),[]);if(g.length>0){const y=[...new Set(g)].map(w=>`"${w}"`);this.url.searchParams.set("columns",y.join(","))}}return new r.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}upsert(l,{onConflict:u,ignoreDuplicates:d=!1,count:p,defaultToNull:m=!0}={}){var g;const y="POST";if(this.headers.append("Prefer",`resolution=${d?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),p&&this.headers.append("Prefer",`count=${p}`),m||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const w=l.reduce((k,j)=>k.concat(Object.keys(j)),[]);if(w.length>0){const k=[...new Set(w)].map(j=>`"${j}"`);this.url.searchParams.set("columns",k.join(","))}}return new r.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(l,{count:u}={}){var d;const p="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}delete({count:l}={}){var u;const d="DELETE";return l&&this.headers.append("Prefer",`count=${l}`),new r.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return Ki.default=n,Ki}var Eh;function N0(){if(Eh)return Hi;Eh=1,Object.defineProperty(Hi,"__esModule",{value:!0});const i=$n,r=i.__importDefault(Uf()),n=i.__importDefault(Yl());class o{constructor(u,{headers:d={},schema:p,fetch:m}={}){this.url=u,this.headers=new Headers(d),this.schemaName=p,this.fetch=m}from(u){if(!u||typeof u!="string"||u.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const d=new URL(`${this.url}/${u}`);return new r.default(d,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new o(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,d={},{head:p=!1,get:m=!1,count:g}={}){var y;let w;const k=new URL(`${this.url}/rpc/${u}`);let j;p||m?(w=p?"HEAD":"GET",Object.entries(d).filter(([N,_])=>_!==void 0).map(([N,_])=>[N,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([N,_])=>{k.searchParams.append(N,_)})):(w="POST",j=d);const E=new Headers(this.headers);return g&&E.set("Prefer",`count=${g}`),new n.default({method:w,url:k,headers:E,schema:this.schemaName,body:j,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return Hi.default=o,Hi}var Nh;function C0(){if(Nh)return Je;Nh=1,Object.defineProperty(Je,"__esModule",{value:!0}),Je.PostgrestError=Je.PostgrestBuilder=Je.PostgrestTransformBuilder=Je.PostgrestFilterBuilder=Je.PostgrestQueryBuilder=Je.PostgrestClient=void 0;const i=$n,r=i.__importDefault(N0());Je.PostgrestClient=r.default;const n=i.__importDefault(Uf());Je.PostgrestQueryBuilder=n.default;const o=i.__importDefault(Yl());Je.PostgrestFilterBuilder=o.default;const l=i.__importDefault(Lf());Je.PostgrestTransformBuilder=l.default;const u=i.__importDefault($f());Je.PostgrestBuilder=u.default;const d=i.__importDefault(If());return Je.PostgrestError=d.default,Je.default={PostgrestClient:r.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:u.default,PostgrestError:d.default},Je}var Df=C0();const zf=Fl(Df),O0=Yh({__proto__:null,default:zf},[Df]),{PostgrestClient:T0,PostgrestQueryBuilder:mx,PostgrestFilterBuilder:gx,PostgrestTransformBuilder:vx,PostgrestBuilder:yx,PostgrestError:wx}=zf||O0;class P0{constructor(){}static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const o=n.node,l=parseInt(o.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let n=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(n+=`

Suggested solution: ${r.workaround}`),new Error(n)}static createWebSocket(r,n){const o=this.getWebSocketConstructor();return new o(r,n)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const R0="2.86.0",A0=`realtime-js/${R0}`,Mf="1.0.0",I0="2.0.0",Ch=Mf,Rl=1e4,$0=1e3,L0=100;var Br;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(Br||(Br={}));var De;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(De||(De={}));var Tt;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(Tt||(Tt={}));var Al;(function(i){i.websocket="websocket"})(Al||(Al={}));var Fr;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Fr||(Fr={}));class U0{constructor(r){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=r??[]}encode(r,n){if(r.event===this.BROADCAST_EVENT&&!(r.payload instanceof ArrayBuffer)&&typeof r.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(r));let o=[r.join_ref,r.ref,r.topic,r.event,r.payload];return n(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(r){var n;return this._isArrayBuffer((n=r.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(r):this._encodeJsonUserBroadcastPush(r)}_encodeBinaryUserBroadcastPush(r){var n,o;const l=(o=(n=r.payload)===null||n===void 0?void 0:n.payload)!==null&&o!==void 0?o:new ArrayBuffer(0);return this._encodeUserBroadcastPush(r,this.BINARY_ENCODING,l)}_encodeJsonUserBroadcastPush(r){var n,o;const l=(o=(n=r.payload)===null||n===void 0?void 0:n.payload)!==null&&o!==void 0?o:{},d=new TextEncoder().encode(JSON.stringify(l)).buffer;return this._encodeUserBroadcastPush(r,this.JSON_ENCODING,d)}_encodeUserBroadcastPush(r,n,o){var l,u;const d=r.topic,p=(l=r.ref)!==null&&l!==void 0?l:"",m=(u=r.join_ref)!==null&&u!==void 0?u:"",g=r.payload.event,y=this.allowedMetadataKeys?this._pick(r.payload,this.allowedMetadataKeys):{},w=Object.keys(y).length===0?"":JSON.stringify(y);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`ref length ${p.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`topic length ${d.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const k=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+p.length+d.length+g.length+w.length,j=new ArrayBuffer(this.HEADER_LENGTH+k);let E=new DataView(j),N=0;E.setUint8(N++,this.KINDS.userBroadcastPush),E.setUint8(N++,m.length),E.setUint8(N++,p.length),E.setUint8(N++,d.length),E.setUint8(N++,g.length),E.setUint8(N++,w.length),E.setUint8(N++,n),Array.from(m,A=>E.setUint8(N++,A.charCodeAt(0))),Array.from(p,A=>E.setUint8(N++,A.charCodeAt(0))),Array.from(d,A=>E.setUint8(N++,A.charCodeAt(0))),Array.from(g,A=>E.setUint8(N++,A.charCodeAt(0))),Array.from(w,A=>E.setUint8(N++,A.charCodeAt(0)));var _=new Uint8Array(j.byteLength+o.byteLength);return _.set(new Uint8Array(j),0),_.set(new Uint8Array(o),j.byteLength),_.buffer}decode(r,n){if(this._isArrayBuffer(r)){let o=this._binaryDecode(r);return n(o)}if(typeof r=="string"){const o=JSON.parse(r),[l,u,d,p,m]=o;return n({join_ref:l,ref:u,topic:d,event:p,payload:m})}return n({})}_binaryDecode(r){const n=new DataView(r),o=n.getUint8(0),l=new TextDecoder;switch(o){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(r,n,l)}}_decodeUserBroadcast(r,n,o){const l=n.getUint8(1),u=n.getUint8(2),d=n.getUint8(3),p=n.getUint8(4);let m=this.HEADER_LENGTH+4;const g=o.decode(r.slice(m,m+l));m=m+l;const y=o.decode(r.slice(m,m+u));m=m+u;const w=o.decode(r.slice(m,m+d));m=m+d;const k=r.slice(m,r.byteLength),j=p===this.JSON_ENCODING?JSON.parse(o.decode(k)):k,E={type:this.BROADCAST_EVENT,event:y,payload:j};return d>0&&(E.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:E}}_isArrayBuffer(r){var n;return r instanceof ArrayBuffer||((n=r?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(r,n){return!r||typeof r!="object"?{}:Object.fromEntries(Object.entries(r).filter(([o])=>n.includes(o)))}}class Bf{constructor(r,n){this.callback=r,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var we;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(we||(we={}));const Oh=(i,r,n={})=>{var o;const l=(o=n.skipTypes)!==null&&o!==void 0?o:[];return r?Object.keys(r).reduce((u,d)=>(u[d]=D0(d,i,r,l),u),{}):{}},D0=(i,r,n,o)=>{const l=r.find(p=>p.name===i),u=l?.type,d=n[i];return u&&!o.includes(u)?Ff(u,d):Il(d)},Ff=(i,r)=>{if(i.charAt(0)==="_"){const n=i.slice(1,i.length);return F0(r,n)}switch(i){case we.bool:return z0(r);case we.float4:case we.float8:case we.int2:case we.int4:case we.int8:case we.numeric:case we.oid:return M0(r);case we.json:case we.jsonb:return B0(r);case we.timestamp:return V0(r);case we.abstime:case we.date:case we.daterange:case we.int4range:case we.int8range:case we.money:case we.reltime:case we.text:case we.time:case we.timestamptz:case we.timetz:case we.tsrange:case we.tstzrange:return Il(r);default:return Il(r)}},Il=i=>i,z0=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},M0=i=>{if(typeof i=="string"){const r=parseFloat(i);if(!Number.isNaN(r))return r}return i},B0=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(r){return console.log(`JSON parse error: ${r}`),i}return i},F0=(i,r)=>{if(typeof i!="string")return i;const n=i.length-1,o=i[n];if(i[0]==="{"&&o==="}"){let u;const d=i.slice(1,n);try{u=JSON.parse("["+d+"]")}catch{u=d?d.split(","):[]}return u.map(p=>Ff(r,p))}return i},V0=i=>typeof i=="string"?i.replace(" ","T"):i,Vf=i=>{const r=new URL(i);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class vl{constructor(r,n,o={},l=Rl){this.channel=r,this.event=n,this.payload=o,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,n){var o;return this._hasReceived(r)&&n((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:r,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:n}){this.recHooks.filter(o=>o.status===r).forEach(o=>o.callback(n))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var Th;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(Th||(Th={}));class ks{constructor(r,n){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},l=>{const{onJoin:u,onLeave:d,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ks.syncState(this.state,l,u,d),this.pendingDiffs.forEach(m=>{this.state=ks.syncDiff(this.state,m,u,d)}),this.pendingDiffs=[],p()}),this.channel._on(o.diff,{},l=>{const{onJoin:u,onLeave:d,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=ks.syncDiff(this.state,l,u,d),p())}),this.onJoin((l,u,d)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:u,newPresences:d})}),this.onLeave((l,u,d)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:u,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,n,o,l){const u=this.cloneDeep(r),d=this.transformState(n),p={},m={};return this.map(u,(g,y)=>{d[g]||(m[g]=y)}),this.map(d,(g,y)=>{const w=u[g];if(w){const k=y.map(_=>_.presence_ref),j=w.map(_=>_.presence_ref),E=y.filter(_=>j.indexOf(_.presence_ref)<0),N=w.filter(_=>k.indexOf(_.presence_ref)<0);E.length>0&&(p[g]=E),N.length>0&&(m[g]=N)}else p[g]=y}),this.syncDiff(u,{joins:p,leaves:m},o,l)}static syncDiff(r,n,o,l){const{joins:u,leaves:d}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return o||(o=()=>{}),l||(l=()=>{}),this.map(u,(p,m)=>{var g;const y=(g=r[p])!==null&&g!==void 0?g:[];if(r[p]=this.cloneDeep(m),y.length>0){const w=r[p].map(j=>j.presence_ref),k=y.filter(j=>w.indexOf(j.presence_ref)<0);r[p].unshift(...k)}o(p,y,m)}),this.map(d,(p,m)=>{let g=r[p];if(!g)return;const y=m.map(w=>w.presence_ref);g=g.filter(w=>y.indexOf(w.presence_ref)<0),r[p]=g,l(p,g,m),g.length===0&&delete r[p]}),r}static map(r,n){return Object.getOwnPropertyNames(r).map(o=>n(o,r[o]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((n,o)=>{const l=r[o];return"metas"in l?n[o]=l.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):n[o]=l,n},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ph;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(Ph||(Ph={}));var Ss;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(Ss||(Ss={}));var Gt;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(Gt||(Gt={}));class Xl{constructor(r,n={config:{}},o){var l,u;if(this.topic=r,this.params=n,this.socket=o,this.bindings={},this.state=De.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new vl(this,Tt.join,this.params,this.timeout),this.rejoinTimer=new Bf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=De.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=De.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Tt.reply,{},(d,p)=>{this._trigger(this._replyEventName(p),d)}),this.presence=new ks(this),this.broadcastEndpointURL=Vf(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,n=this.timeout){var o,l,u;if(this.socket.isConnected()||this.socket.connect(),this.state==De.closed){const{config:{broadcast:d,presence:p,private:m}}=this.params,g=(l=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(j=>j.filter))!==null&&l!==void 0?l:[],y=!!this.bindings[Ss.PRESENCE]&&this.bindings[Ss.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,w={},k={broadcast:d,presence:Object.assign(Object.assign({},p),{enabled:y}),postgres_changes:g,private:m};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(j=>r?.(Gt.CHANNEL_ERROR,j)),this._onClose(()=>r?.(Gt.CLOSED)),this.updateJoinPayload(Object.assign({config:k},w)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:j})=>{var E;if(this.socket.setAuth(),j===void 0){r?.(Gt.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,_=(E=N?.length)!==null&&E!==void 0?E:0,A=[];for(let $=0;$<_;$++){const R=N[$],{filter:{event:B,schema:Z,table:ne,filter:oe}}=R,Se=j&&j[$];if(Se&&Se.event===B&&Se.schema===Z&&Se.table===ne&&Se.filter===oe)A.push(Object.assign(Object.assign({},R),{id:Se.id}));else{this.unsubscribe(),this.state=De.errored,r?.(Gt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,r&&r(Gt.SUBSCRIBED);return}}).receive("error",j=>{this.state=De.errored,r?.(Gt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(j).join(", ")||"error")))}).receive("timeout",()=>{r?.(Gt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,n={}){return await this.send({type:"presence",event:"track",payload:r},n.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,n,o){return this.state===De.joined&&r===Ss.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(r,n,o)}async httpSend(r,n,o={}){var l;const u=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const d={method:"POST",headers:{Authorization:u,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:n,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(l=o.timeout)!==null&&l!==void 0?l:this.timeout);if(p.status===202)return{success:!0};let m=p.statusText;try{const g=await p.json();m=g.error||g.message||m}catch{}return Promise.reject(new Error(m))}async send(r,n={}){var o,l;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:d}=r,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:d,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);return await((l=g.body)===null||l===void 0?void 0:l.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var d,p,m;const g=this._push(r.type,r,n.timeout||this.timeout);r.type==="broadcast"&&!(!((m=(p=(d=this.params)===null||d===void 0?void 0:d.config)===null||p===void 0?void 0:p.broadcast)===null||m===void 0)&&m.ack)&&u("ok"),g.receive("ok",()=>u("ok")),g.receive("error",()=>u("error")),g.receive("timeout",()=>u("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=De.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Tt.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(l=>{o=new vl(this,Tt.leave,{},r),o.receive("ok",()=>{n(),l("ok")}).receive("timeout",()=>{n(),l("timed out")}).receive("error",()=>{l("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o?.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=De.closed,this.bindings={}}async _fetchWithTimeout(r,n,o){const l=new AbortController,u=setTimeout(()=>l.abort(),o),d=await this.socket.fetch(r,Object.assign(Object.assign({},n),{signal:l.signal}));return clearTimeout(u),d}_push(r,n,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new vl(this,r,n,o);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>L0){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(r,n,o){return n}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,n,o){var l,u;const d=r.toLocaleLowerCase(),{close:p,error:m,leave:g,join:y}=Tt;if(o&&[p,m,g,y].indexOf(d)>=0&&o!==this._joinRef())return;let k=this._onMessage(d,n,o);if(n&&!k)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(j=>{var E,N,_;return((E=j.filter)===null||E===void 0?void 0:E.event)==="*"||((_=(N=j.filter)===null||N===void 0?void 0:N.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===d}).map(j=>j.callback(k,o)):(u=this.bindings[d])===null||u===void 0||u.filter(j=>{var E,N,_,A,$,R;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in j){const B=j.id,Z=(E=j.filter)===null||E===void 0?void 0:E.event;return B&&((N=n.ids)===null||N===void 0?void 0:N.includes(B))&&(Z==="*"||Z?.toLocaleLowerCase()===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const B=($=(A=j?.filter)===null||A===void 0?void 0:A.event)===null||$===void 0?void 0:$.toLocaleLowerCase();return B==="*"||B===((R=n?.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return j.type.toLocaleLowerCase()===d}).map(j=>{if(typeof k=="object"&&"ids"in k){const E=k.data,{schema:N,table:_,commit_timestamp:A,type:$,errors:R}=E;k=Object.assign(Object.assign({},{schema:N,table:_,commit_timestamp:A,eventType:$,new:{},old:{},errors:R}),this._getPayloadRecords(E))}j.callback(k,o)})}_isClosed(){return this.state===De.closed}_isJoined(){return this.state===De.joined}_isJoining(){return this.state===De.joining}_isLeaving(){return this.state===De.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,n,o){const l=r.toLocaleLowerCase(),u={type:l,filter:n,callback:o};return this.bindings[l]?this.bindings[l].push(u):this.bindings[l]=[u],this}_off(r,n){const o=r.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(l=>{var u;return!(((u=l.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===o&&Xl.isEqual(l.filter,n))})),this}static isEqual(r,n){if(Object.keys(r).length!==Object.keys(n).length)return!1;for(const o in r)if(r[o]!==n[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(Tt.close,{},r)}_onError(r){this._on(Tt.error,{},n=>r(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=De.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const n={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(n.new=Oh(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(n.old=Oh(r.columns,r.old_record)),n}}const yl=()=>{},Xi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},W0=[1e3,2e3,5e3,1e4],q0=1e4,H0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class K0{constructor(r,n){var o;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Rl,this.transport=null,this.heartbeatIntervalMs=Xi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=yl,this.ref=0,this.reconnectTimer=null,this.vsn=Ch,this.logger=yl,this.conn=null,this.sendBuffer=[],this.serializer=new U0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>l?(...u)=>l(...u):(...u)=>fetch(...u),!(!((o=n?.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${r}/${Al.websocket}`,this.httpEndpoint=Vf(r),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=P0.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const n=r.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(r,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(r?this.conn.close(r,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const n=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const r=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,n,o){this.logger(r,n,o)}connectionState(){switch(this.conn&&this.conn.readyState){case Br.connecting:return Fr.Connecting;case Br.open:return Fr.Open;case Br.closing:return Fr.Closing;default:return Fr.Closed}}isConnected(){return this.connectionState()===Fr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,n={config:{}}){const o=`realtime:${r}`,l=this.getChannels().find(u=>u.topic===o);if(l)return l;{const u=new Xl(`realtime:${r}`,n,this);return this.channels.push(u),u}}push(r){const{topic:n,event:o,payload:l,ref:u}=r,d=()=>{this.encode(r,p=>{var m;(m=this.conn)===null||m===void 0||m.send(p)})};this.log("push",`${n} ${o} (${u})`,l),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close($0,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Xi.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let n=this.channels.find(o=>o.topic===r&&(o._isJoined()||o._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${r}"`),n.unsubscribe())}_remove(r){this.channels=this.channels.filter(n=>n.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:l,payload:u,ref:d}=n,p=d?`(${d})`:"",m=u.status||"";this.log("receive",`${m} ${o} ${l} ${p}`.trim(),u),this.channels.filter(g=>g._isMember(o)).forEach(g=>g._trigger(l,u,d)),this._triggerStateCallbacks("message",n)})}_clearTimer(r){var n;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Br.open||this.conn.readyState===Br.connecting)try{this.conn.close()}catch(r){this.log("error","Error closing connection",r)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){var n;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(Tt.error))}_appendParams(r,n){if(Object.keys(n).length===0)return r;const o=r.match(/\?/)?"&":"?",l=new URLSearchParams(n);return`${r}${o}${l}`}_workerObjectUrl(r){let n;if(r)n=r;else{const o=new Blob([H0],{type:"application/javascript"});n=URL.createObjectURL(o)}return n}_setConnectionState(r,n=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(r=null){let n;r?n=r:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{const l={access_token:n,version:A0};n&&o.updateJoinPayload(l),o.joinedOnce&&o._isJoined()&&o._push(Tt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${r}`,n)})}_triggerStateCallbacks(r,n){try{this.stateChangeCallbacks[r].forEach(o=>{try{o(n)}catch(l){this.log("error",`error in ${r} callback`,l)}})}catch(o){this.log("error",`error triggering ${r} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new Bf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Xi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var n,o,l,u,d,p,m,g,y,w,k,j;switch(this.transport=(n=r?.transport)!==null&&n!==void 0?n:null,this.timeout=(o=r?.timeout)!==null&&o!==void 0?o:Rl,this.heartbeatIntervalMs=(l=r?.heartbeatIntervalMs)!==null&&l!==void 0?l:Xi.HEARTBEAT_INTERVAL,this.worker=(u=r?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(d=r?.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(p=r?.heartbeatCallback)!==null&&p!==void 0?p:yl,this.vsn=(m=r?.vsn)!==null&&m!==void 0?m:Ch,r?.params&&(this.params=r.params),r?.logger&&(this.logger=r.logger),(r?.logLevel||r?.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=r?.reconnectAfterMs)!==null&&g!==void 0?g:(E=>W0[E-1]||q0),this.vsn){case Mf:this.encode=(y=r?.encode)!==null&&y!==void 0?y:((E,N)=>N(JSON.stringify(E))),this.decode=(w=r?.decode)!==null&&w!==void 0?w:((E,N)=>N(JSON.parse(E)));break;case I0:this.encode=(k=r?.encode)!==null&&k!==void 0?k:this.serializer.encode.bind(this.serializer),this.decode=(j=r?.decode)!==null&&j!==void 0?j:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r?.workerUrl}}}class go extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function Ne(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class G0 extends go{constructor(r,n,o){super(r),this.name="StorageApiError",this.status=n,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class $l extends go{constructor(r,n){super(r),this.name="StorageUnknownError",this.originalError=n}}const Zl=i=>i?(...r)=>i(...r):(...r)=>fetch(...r),J0=()=>Response,Ll=i=>{if(Array.isArray(i))return i.map(n=>Ll(n));if(typeof i=="function"||i!==Object(i))return i;const r={};return Object.entries(i).forEach(([n,o])=>{const l=n.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));r[l]=Ll(o)}),r},Q0=i=>{if(typeof i!="object"||i===null)return!1;const r=Object.getPrototypeOf(i);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},Y0=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i),wl=i=>{var r;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(r=i.error)===null||r===void 0?void 0:r.message)||JSON.stringify(i)},X0=(i,r,n)=>H(void 0,void 0,void 0,function*(){const o=yield J0();i instanceof o&&!n?.noResolveJson?i.json().then(l=>{const u=i.status||500,d=l?.statusCode||u+"";r(new G0(wl(l),u,d))}).catch(l=>{r(new $l(wl(l),l))}):r(new $l(wl(i),i))}),Z0=(i,r,n,o)=>{const l={method:i,headers:r?.headers||{}};return i==="GET"||!o?l:(Q0(o)?(l.headers=Object.assign({"Content-Type":"application/json"},r?.headers),l.body=JSON.stringify(o)):l.body=o,r?.duplex&&(l.duplex=r.duplex),Object.assign(Object.assign({},l),n))};function Is(i,r,n,o,l,u){return H(this,void 0,void 0,function*(){return new Promise((d,p)=>{i(n,Z0(r,o,l,u)).then(m=>{if(!m.ok)throw m;return o?.noResolveJson?m:m.json()}).then(m=>d(m)).catch(m=>X0(m,p,o))})})}function Cs(i,r,n,o){return H(this,void 0,void 0,function*(){return Is(i,"GET",r,n,o)})}function Ot(i,r,n,o,l){return H(this,void 0,void 0,function*(){return Is(i,"POST",r,o,l,n)})}function Ul(i,r,n,o,l){return H(this,void 0,void 0,function*(){return Is(i,"PUT",r,o,l,n)})}function ev(i,r,n,o){return H(this,void 0,void 0,function*(){return Is(i,"HEAD",r,Object.assign(Object.assign({},n),{noResolveJson:!0}),o)})}function eu(i,r,n,o,l){return H(this,void 0,void 0,function*(){return Is(i,"DELETE",r,o,l,n)})}class tv{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n}then(r,n){return this.execute().then(r,n)}execute(){return H(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ne(r))return{data:null,error:r};throw r}})}}var Wf;class rv{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n,this[Wf]="BlobDownloadBuilder",this.promise=null}asStream(){return new tv(this.downloadFn,this.shouldThrowOnError)}then(r,n){return this.getPromise().then(r,n)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return H(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ne(r))return{data:null,error:r};throw r}})}}Wf=Symbol.toStringTag;const nv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Rh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class sv{constructor(r,n={},o,l){this.shouldThrowOnError=!1,this.url=r,this.headers=n,this.bucketId=o,this.fetch=Zl(l)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(r,n,o,l){return H(this,void 0,void 0,function*(){try{let u;const d=Object.assign(Object.assign({},Rh),l);let p=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(d.upsert)});const m=d.metadata;typeof Blob<"u"&&o instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),m&&u.append("metadata",this.encodeMetadata(m)),u.append("",o)):typeof FormData<"u"&&o instanceof FormData?(u=o,u.has("cacheControl")||u.append("cacheControl",d.cacheControl),m&&!u.has("metadata")&&u.append("metadata",this.encodeMetadata(m))):(u=o,p["cache-control"]=`max-age=${d.cacheControl}`,p["content-type"]=d.contentType,m&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(m))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!d.duplex&&(d.duplex="half")),l?.headers&&(p=Object.assign(Object.assign({},p),l.headers));const g=this._removeEmptyFolders(n),y=this._getFinalPath(g),w=yield(r=="PUT"?Ul:Ot)(this.fetch,`${this.url}/object/${y}`,u,Object.assign({headers:p},d?.duplex?{duplex:d.duplex}:{}));return{data:{path:g,id:w.Id,fullPath:w.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ne(u))return{data:null,error:u};throw u}})}upload(r,n,o){return H(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,n,o)})}uploadToSignedUrl(r,n,o,l){return H(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),p=new URL(this.url+`/object/upload/sign/${d}`);p.searchParams.set("token",n);try{let m;const g=Object.assign({upsert:Rh.upsert},l),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&o instanceof Blob?(m=new FormData,m.append("cacheControl",g.cacheControl),m.append("",o)):typeof FormData<"u"&&o instanceof FormData?(m=o,m.append("cacheControl",g.cacheControl)):(m=o,y["cache-control"]=`max-age=${g.cacheControl}`,y["content-type"]=g.contentType);const w=yield Ul(this.fetch,p.toString(),m,{headers:y});return{data:{path:u,fullPath:w.Key},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Ne(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(r,n){return H(this,void 0,void 0,function*(){try{let o=this._getFinalPath(r);const l=Object.assign({},this.headers);n?.upsert&&(l["x-upsert"]="true");const u=yield Ot(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:l}),d=new URL(this.url+u.url),p=d.searchParams.get("token");if(!p)throw new go("No token returned by API");return{data:{signedUrl:d.toString(),path:r,token:p},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ne(o))return{data:null,error:o};throw o}})}update(r,n,o){return H(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,n,o)})}move(r,n,o){return H(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:o?.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ne(l))return{data:null,error:l};throw l}})}copy(r,n,o){return H(this,void 0,void 0,function*(){try{return{data:{path:(yield Ot(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:o?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ne(l))return{data:null,error:l};throw l}})}createSignedUrl(r,n,o){return H(this,void 0,void 0,function*(){try{let l=this._getFinalPath(r),u=yield Ot(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:n},o?.transform?{transform:o.transform}:{}),{headers:this.headers});const d=o?.download?`&download=${o.download===!0?"":o.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${d}`)},{data:u,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ne(l))return{data:null,error:l};throw l}})}createSignedUrls(r,n,o){return H(this,void 0,void 0,function*(){try{const l=yield Ot(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:r},{headers:this.headers}),u=o?.download?`&download=${o.download===!0?"":o.download}`:"";return{data:l.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${u}`):null})),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ne(l))return{data:null,error:l};throw l}})}download(r,n){const l=typeof n?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(n?.transform||{}),d=u?`?${u}`:"",p=this._getFinalPath(r),m=()=>Cs(this.fetch,`${this.url}/${l}/${p}${d}`,{headers:this.headers,noResolveJson:!0});return new rv(m,this.shouldThrowOnError)}info(r){return H(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{const o=yield Cs(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ll(o),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ne(o))return{data:null,error:o};throw o}})}exists(r){return H(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{return yield ev(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ne(o)&&o instanceof $l){const l=o.originalError;if([400,404].includes(l?.status))return{data:!1,error:o}}throw o}})}getPublicUrl(r,n){const o=this._getFinalPath(r),l=[],u=n?.download?`download=${n.download===!0?"":n.download}`:"";u!==""&&l.push(u);const p=typeof n?.transform<"u"?"render/image":"object",m=this.transformOptsToQueryString(n?.transform||{});m!==""&&l.push(m);let g=l.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${o}${g}`)}}}remove(r){return H(this,void 0,void 0,function*(){try{return{data:yield eu(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ne(n))return{data:null,error:n};throw n}})}list(r,n,o){return H(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},nv),n),{prefix:r||""});return{data:yield Ot(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},o),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ne(l))return{data:null,error:l};throw l}})}listV2(r,n){return H(this,void 0,void 0,function*(){try{const o=Object.assign({},r);return{data:yield Ot(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,o,{headers:this.headers},n),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ne(o))return{data:null,error:o};throw o}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const n=[];return r.width&&n.push(`width=${r.width}`),r.height&&n.push(`height=${r.height}`),r.resize&&n.push(`resize=${r.resize}`),r.format&&n.push(`format=${r.format}`),r.quality&&n.push(`quality=${r.quality}`),n.join("&")}}const qf="2.86.0",Hf={"X-Client-Info":`storage-js/${qf}`};class iv{constructor(r,n={},o,l){this.shouldThrowOnError=!1;const u=new URL(r);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Hf),n),this.fetch=Zl(o)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(r){return H(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(r);return{data:yield Cs(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ne(n))return{data:null,error:n};throw n}})}getBucket(r){return H(this,void 0,void 0,function*(){try{return{data:yield Cs(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ne(n))return{data:null,error:n};throw n}})}createBucket(r){return H(this,arguments,void 0,function*(n,o={public:!1}){try{return{data:yield Ot(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:o.type,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ne(l))return{data:null,error:l};throw l}})}updateBucket(r,n){return H(this,void 0,void 0,function*(){try{return{data:yield Ul(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ne(o))return{data:null,error:o};throw o}})}emptyBucket(r){return H(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ne(n))return{data:null,error:n};throw n}})}deleteBucket(r){return H(this,void 0,void 0,function*(){try{return{data:yield eu(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ne(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(r){const n={};return r&&("limit"in r&&(n.limit=String(r.limit)),"offset"in r&&(n.offset=String(r.offset)),r.search&&(n.search=r.search),r.sortColumn&&(n.sortColumn=r.sortColumn),r.sortOrder&&(n.sortOrder=r.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var Os=class extends Error{constructor(i,r){super(i),this.name="IcebergError",this.status=r.status,this.icebergType=r.icebergType,this.icebergCode=r.icebergCode,this.details=r.details,this.isCommitStateUnknown=r.icebergType==="CommitStateUnknownException"||[500,502,504].includes(r.status)&&r.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function ov(i,r,n){const o=new URL(r,i);if(n)for(const[l,u]of Object.entries(n))u!==void 0&&o.searchParams.set(l,u);return o.toString()}async function av(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function lv(i){const r=i.fetchImpl??globalThis.fetch;return{async request({method:n,path:o,query:l,body:u,headers:d}){const p=ov(i.baseUrl,o,l),m=await av(i.auth),g=await r(p,{method:n,headers:{...u?{"Content-Type":"application/json"}:{},...m,...d},body:u?JSON.stringify(u):void 0}),y=await g.text(),w=(g.headers.get("content-type")||"").includes("application/json"),k=w&&y?JSON.parse(y):y;if(!g.ok){const j=w?k:void 0,E=j?.error;throw new Os(E?.message??`Request failed with status ${g.status}`,{status:g.status,icebergType:E?.type,icebergCode:E?.code,details:j})}return{status:g.status,headers:g.headers,data:k}}}}function Zi(i){return i.join("")}var uv=class{constructor(i,r=""){this.client=i,this.prefix=r}async listNamespaces(i){const r=i?{parent:Zi(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:r})).data.namespaces.map(o=>({namespace:o}))}async createNamespace(i,r){const n={namespace:i.namespace,properties:r?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Zi(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Zi(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Zi(i.namespace)}`}),!0}catch(r){if(r instanceof Os&&r.status===404)return!1;throw r}}async createNamespaceIfNotExists(i,r){try{return await this.createNamespace(i,r)}catch(n){if(n instanceof Os&&n.status===409)return;throw n}}};function vn(i){return i.join("")}var cv=class{constructor(i,r="",n){this.client=i,this.prefix=r,this.accessDelegation=n}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vn(i.namespace)}/tables`})).data.identifiers}async createTable(i,r){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${vn(i.namespace)}/tables`,body:r,headers:n})).data.metadata}async updateTable(i,r){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${vn(i.namespace)}/tables/${i.name}`,body:r});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(i,r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${vn(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String(r?.purge??!1)}})}async loadTable(i){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vn(i.namespace)}/tables/${i.name}`,headers:r})).data.metadata}async tableExists(i){const r={};this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${vn(i.namespace)}/tables/${i.name}`,headers:r}),!0}catch(n){if(n instanceof Os&&n.status===404)return!1;throw n}}async createTableIfNotExists(i,r){try{return await this.createTable(i,r)}catch(n){if(n instanceof Os&&n.status===409)return await this.loadTable({namespace:i.namespace,name:r.name});throw n}}},dv=class{constructor(i){let r="v1";i.catalogName&&(r+=`/${i.catalogName}`);const n=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=lv({baseUrl:n,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=i.accessDelegation?.join(","),this.namespaceOps=new uv(this.client,r),this.tableOps=new cv(this.client,r,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,r){return this.namespaceOps.createNamespace(i,r)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,r){return this.tableOps.createTable(i,r)}async updateTable(i,r){return this.tableOps.updateTable(i,r)}async dropTable(i,r){await this.tableOps.dropTable(i,r)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,r){return this.namespaceOps.createNamespaceIfNotExists(i,r)}async createTableIfNotExists(i,r){return this.tableOps.createTableIfNotExists(i,r)}};class hv{constructor(r,n={},o){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Hf),n),this.fetch=Zl(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return H(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/bucket`,{name:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ne(n))return{data:null,error:n};throw n}})}listBuckets(r){return H(this,void 0,void 0,function*(){try{const n=new URLSearchParams;r?.limit!==void 0&&n.set("limit",r.limit.toString()),r?.offset!==void 0&&n.set("offset",r.offset.toString()),r?.sortColumn&&n.set("sortColumn",r.sortColumn),r?.sortOrder&&n.set("sortOrder",r.sortOrder),r?.search&&n.set("search",r.search);const o=n.toString(),l=o?`${this.url}/bucket?${o}`:`${this.url}/bucket`;return{data:yield Cs(this.fetch,l,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ne(n))return{data:null,error:n};throw n}})}deleteBucket(r){return H(this,void 0,void 0,function*(){try{return{data:yield eu(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ne(n))return{data:null,error:n};throw n}})}from(r){if(!Y0(r))throw new go("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new dv({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:()=>H(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const tu={"X-Client-Info":`storage-js/${qf}`,"Content-Type":"application/json"};class Kf extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ht(i){return typeof i=="object"&&i!==null&&"__isStorageVectorsError"in i}class xl extends Kf{constructor(r,n,o){super(r),this.name="StorageVectorsApiError",this.status=n,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class fv extends Kf{constructor(r,n){super(r),this.name="StorageVectorsUnknownError",this.originalError=n}}var Ah;(function(i){i.InternalError="InternalError",i.S3VectorConflictException="S3VectorConflictException",i.S3VectorNotFoundException="S3VectorNotFoundException",i.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",i.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",i.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Ah||(Ah={}));const ru=i=>i?(...r)=>i(...r):(...r)=>fetch(...r),pv=i=>{if(typeof i!="object"||i===null)return!1;const r=Object.getPrototypeOf(i);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},Ih=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),mv=(i,r,n)=>H(void 0,void 0,void 0,function*(){if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!n?.noResolveJson){const l=i.status||500,u=i;if(typeof u.json=="function")u.json().then(d=>{const p=d?.statusCode||d?.code||l+"";r(new xl(Ih(d),l,p))}).catch(()=>{const d=l+"",p=u.statusText||`HTTP ${l} error`;r(new xl(p,l,d))});else{const d=l+"",p=u.statusText||`HTTP ${l} error`;r(new xl(p,l,d))}}else r(new fv(Ih(i),i))}),gv=(i,r,n,o)=>{const l={method:i,headers:r?.headers||{}};return o?(pv(o)?(l.headers=Object.assign({"Content-Type":"application/json"},r?.headers),l.body=JSON.stringify(o)):l.body=o,Object.assign(Object.assign({},l),n)):l};function vv(i,r,n,o,l,u){return H(this,void 0,void 0,function*(){return new Promise((d,p)=>{i(n,gv(r,o,l,u)).then(m=>{if(!m.ok)throw m;if(o?.noResolveJson)return m;const g=m.headers.get("content-type");return!g||!g.includes("application/json")?{}:m.json()}).then(m=>d(m)).catch(m=>mv(m,p,o))})})}function ft(i,r,n,o,l){return H(this,void 0,void 0,function*(){return vv(i,"POST",r,o,l,n)})}class yv{constructor(r,n={},o){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},tu),n),this.fetch=ru(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(r){return H(this,void 0,void 0,function*(){try{return{data:(yield ft(this.fetch,`${this.url}/CreateIndex`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}getIndex(r,n){return H(this,void 0,void 0,function*(){try{return{data:yield ft(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:r,indexName:n},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ht(o))return{data:null,error:o};throw o}})}listIndexes(r){return H(this,void 0,void 0,function*(){try{return{data:yield ft(this.fetch,`${this.url}/ListIndexes`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}deleteIndex(r,n){return H(this,void 0,void 0,function*(){try{return{data:(yield ft(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:r,indexName:n},{headers:this.headers}))||{},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ht(o))return{data:null,error:o};throw o}})}}class wv{constructor(r,n={},o){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},tu),n),this.fetch=ru(o)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(r){return H(this,void 0,void 0,function*(){try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ft(this.fetch,`${this.url}/PutVectors`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}getVectors(r){return H(this,void 0,void 0,function*(){try{return{data:yield ft(this.fetch,`${this.url}/GetVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}listVectors(r){return H(this,void 0,void 0,function*(){try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:yield ft(this.fetch,`${this.url}/ListVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}queryVectors(r){return H(this,void 0,void 0,function*(){try{return{data:yield ft(this.fetch,`${this.url}/QueryVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}deleteVectors(r){return H(this,void 0,void 0,function*(){try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ft(this.fetch,`${this.url}/DeleteVectors`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}}class xv{constructor(r,n={},o){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},tu),n),this.fetch=ru(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return H(this,void 0,void 0,function*(){try{return{data:(yield ft(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}getBucket(r){return H(this,void 0,void 0,function*(){try{return{data:yield ft(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}listBuckets(){return H(this,arguments,void 0,function*(r={}){try{return{data:yield ft(this.fetch,`${this.url}/ListVectorBuckets`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}deleteBucket(r){return H(this,void 0,void 0,function*(){try{return{data:(yield ft(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}}class _v extends xv{constructor(r,n={}){super(r,n.headers||{},n.fetch)}from(r){return new bv(this.url,this.headers,r,this.fetch)}createBucket(r){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return H(this,void 0,void 0,function*(){return n.createBucket.call(this,r)})}getBucket(r){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return H(this,void 0,void 0,function*(){return n.getBucket.call(this,r)})}listBuckets(){const r=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return H(this,arguments,void 0,function*(n={}){return r.listBuckets.call(this,n)})}deleteBucket(r){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return H(this,void 0,void 0,function*(){return n.deleteBucket.call(this,r)})}}class bv extends yv{constructor(r,n,o,l){super(r,n,l),this.vectorBucketName=o}createIndex(r){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return H(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const r=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return H(this,arguments,void 0,function*(n={}){return r.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(r){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return H(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,r)})}deleteIndex(r){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return H(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,r)})}index(r){return new kv(this.url,this.headers,this.vectorBucketName,r,this.fetch)}}class kv extends wv{constructor(r,n,o,l,u){super(r,n,u),this.vectorBucketName=o,this.indexName=l}putVectors(r){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return H(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(r){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return H(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const r=Object.create(null,{listVectors:{get:()=>super.listVectors}});return H(this,arguments,void 0,function*(n={}){return r.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(r){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return H(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(r){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return H(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Sv extends iv{constructor(r,n={},o,l){super(r,n,o,l)}from(r){return new sv(this.url,this.headers,r,this.fetch)}get vectors(){return new _v(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new hv(this.url+"/iceberg",this.headers,this.fetch)}}const jv="2.86.0";let bs="";typeof Deno<"u"?bs="deno":typeof document<"u"?bs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?bs="react-native":bs="node";const Ev={"X-Client-Info":`supabase-js-${bs}/${jv}`},Nv={headers:Ev},Cv={schema:"public"},Ov={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Tv={},Pv=i=>i?(...r)=>i(...r):(...r)=>fetch(...r),Rv=()=>Headers,Av=(i,r,n)=>{const o=Pv(n),l=Rv();return async(u,d)=>{var p;const m=(p=await r())!==null&&p!==void 0?p:i;let g=new l(d?.headers);return g.has("apikey")||g.set("apikey",i),g.has("Authorization")||g.set("Authorization",`Bearer ${m}`),o(u,Object.assign(Object.assign({},d),{headers:g}))}};function Iv(i){return i.endsWith("/")?i:i+"/"}function $v(i,r){var n,o;const{db:l,auth:u,realtime:d,global:p}=i,{db:m,auth:g,realtime:y,global:w}=r,k={db:Object.assign(Object.assign({},m),l),auth:Object.assign(Object.assign({},g),u),realtime:Object.assign(Object.assign({},y),d),storage:{},global:Object.assign(Object.assign(Object.assign({},w),p),{headers:Object.assign(Object.assign({},(n=w?.headers)!==null&&n!==void 0?n:{}),(o=p?.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return i.accessToken?k.accessToken=i.accessToken:delete k.accessToken,k}function Lv(i){const r=i?.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Iv(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Gf="2.86.0",Sn=30*1e3,Dl=3,_l=Dl*Sn,Uv="http://localhost:9999",Dv="supabase.auth.token",zv={"X-Client-Info":`gotrue-js/${Gf}`},zl="X-Supabase-Api-Version",Jf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Mv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Bv=600*1e3;class Ts extends Error{constructor(r,n,o){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=o}}function Q(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class Fv extends Ts{constructor(r,n,o){super(r,n,o),this.name="AuthApiError",this.status=n,this.code=o}}function Vv(i){return Q(i)&&i.name==="AuthApiError"}class Vr extends Ts{constructor(r,n){super(r),this.name="AuthUnknownError",this.originalError=n}}class kr extends Ts{constructor(r,n,o,l){super(r,o,l),this.name=n,this.status=o}}class dt extends kr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Wv(i){return Q(i)&&i.name==="AuthSessionMissingError"}class yn extends kr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class eo extends kr{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class to extends kr{constructor(r,n=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function qv(i){return Q(i)&&i.name==="AuthImplicitGrantRedirectError"}class $h extends kr{constructor(r,n=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ml extends kr{constructor(r,n){super(r,"AuthRetryableFetchError",n,void 0)}}function bl(i){return Q(i)&&i.name==="AuthRetryableFetchError"}class Lh extends kr{constructor(r,n,o){super(r,"AuthWeakPasswordError",n,"weak_password"),this.reasons=o}}class Bl extends kr{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const lo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Uh=` 	
\r=`.split(""),Hv=(()=>{const i=new Array(128);for(let r=0;r<i.length;r+=1)i[r]=-1;for(let r=0;r<Uh.length;r+=1)i[Uh[r].charCodeAt(0)]=-2;for(let r=0;r<lo.length;r+=1)i[lo[r].charCodeAt(0)]=r;return i})();function Dh(i,r,n){if(i!==null)for(r.queue=r.queue<<8|i,r.queuedBits+=8;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;n(lo[o]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;n(lo[o]),r.queuedBits-=6}}function Qf(i,r,n){const o=Hv[i];if(o>-1)for(r.queue=r.queue<<6|o,r.queuedBits+=6;r.queuedBits>=8;)n(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function zh(i){const r=[],n=d=>{r.push(String.fromCodePoint(d))},o={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},u=d=>{Jv(d,o,n)};for(let d=0;d<i.length;d+=1)Qf(i.charCodeAt(d),l,u);return r.join("")}function Kv(i,r){if(i<=127){r(i);return}else if(i<=2047){r(192|i>>6),r(128|i&63);return}else if(i<=65535){r(224|i>>12),r(128|i>>6&63),r(128|i&63);return}else if(i<=1114111){r(240|i>>18),r(128|i>>12&63),r(128|i>>6&63),r(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function Gv(i,r){for(let n=0;n<i.length;n+=1){let o=i.charCodeAt(n);if(o>55295&&o<=56319){const l=(o-55296)*1024&65535;o=(i.charCodeAt(n+1)-56320&65535|l)+65536,n+=1}Kv(o,r)}}function Jv(i,r,n){if(r.utf8seq===0){if(i<=127){n(i);return}for(let o=1;o<6;o+=1)if((i>>7-o&1)===0){r.utf8seq=o;break}if(r.utf8seq===2)r.codepoint=i&31;else if(r.utf8seq===3)r.codepoint=i&15;else if(r.utf8seq===4)r.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|i&63,r.utf8seq-=1,r.utf8seq===0&&n(r.codepoint)}}function Nn(i){const r=[],n={queue:0,queuedBits:0},o=l=>{r.push(l)};for(let l=0;l<i.length;l+=1)Qf(i.charCodeAt(l),n,o);return new Uint8Array(r)}function Qv(i){const r=[];return Gv(i,n=>r.push(n)),new Uint8Array(r)}function Wr(i){const r=[],n={queue:0,queuedBits:0},o=l=>{r.push(l)};return i.forEach(l=>Dh(l,n,o)),Dh(null,n,o),r.join("")}function Yv(i){return Math.round(Date.now()/1e3)+i}function Xv(){return Symbol("auth-callback")}const We=()=>typeof window<"u"&&typeof document<"u",Dr={tested:!1,writable:!1},Yf=()=>{if(!We())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Dr.tested)return Dr.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),Dr.tested=!0,Dr.writable=!0}catch{Dr.tested=!0,Dr.writable=!1}return Dr.writable};function Zv(i){const r={},n=new URL(i);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((l,u)=>{r[u]=l})}catch{}return n.searchParams.forEach((o,l)=>{r[l]=o}),r}const Xf=i=>i?(...r)=>i(...r):(...r)=>fetch(...r),ey=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",jn=async(i,r,n)=>{await i.setItem(r,JSON.stringify(n))},zr=async(i,r)=>{const n=await i.getItem(r);if(!n)return null;try{return JSON.parse(n)}catch{return n}},vr=async(i,r)=>{await i.removeItem(r)};class vo{constructor(){this.promise=new vo.promiseConstructor((r,n)=>{this.resolve=r,this.reject=n})}}vo.promiseConstructor=Promise;function kl(i){const r=i.split(".");if(r.length!==3)throw new Bl("Invalid JWT structure");for(let o=0;o<r.length;o++)if(!Mv.test(r[o]))throw new Bl("JWT not in base64url format");return{header:JSON.parse(zh(r[0])),payload:JSON.parse(zh(r[1])),signature:Nn(r[2]),raw:{header:r[0],payload:r[1]}}}async function ty(i){return await new Promise(r=>{setTimeout(()=>r(null),i)})}function ry(i,r){return new Promise((o,l)=>{(async()=>{for(let u=0;u<1/0;u++)try{const d=await i(u);if(!r(u,null,d)){o(d);return}}catch(d){if(!r(u,d)){l(d);return}}})()})}function ny(i){return("0"+i.toString(16)).substr(-2)}function sy(){const r=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=n.length;let l="";for(let u=0;u<56;u++)l+=n.charAt(Math.floor(Math.random()*o));return l}return crypto.getRandomValues(r),Array.from(r,ny).join("")}async function iy(i){const n=new TextEncoder().encode(i),o=await crypto.subtle.digest("SHA-256",n),l=new Uint8Array(o);return Array.from(l).map(u=>String.fromCharCode(u)).join("")}async function oy(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const n=await iy(i);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function wn(i,r,n=!1){const o=sy();let l=o;n&&(l+="/PASSWORD_RECOVERY"),await jn(i,`${r}-code-verifier`,l);const u=await oy(o);return[u,o===u?"plain":"s256"]}const ay=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ly(i){const r=i.headers.get(zl);if(!r||!r.match(ay))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function uy(i){if(!i)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(i<=r)throw new Error("JWT has expired")}function cy(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const dy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function xn(i){if(!dy.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Sl(){const i={};return new Proxy(i,{get:(r,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function hy(i,r){return new Proxy(i,{get:(n,o,l)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const u=o.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,o,l)}return!r.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(n,o,l)}})}function Mh(i){return JSON.parse(JSON.stringify(i))}const Mr=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),fy=[502,503,504];async function Bh(i){var r;if(!ey(i))throw new Ml(Mr(i),0);if(fy.includes(i.status))throw new Ml(Mr(i),i.status);let n;try{n=await i.json()}catch(u){throw new Vr(Mr(u),u)}let o;const l=ly(i);if(l&&l.getTime()>=Jf["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?o=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(o=n.error_code),o){if(o==="weak_password")throw new Lh(Mr(n),i.status,((r=n.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(o==="session_not_found")throw new dt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((u,d)=>u&&typeof d=="string",!0))throw new Lh(Mr(n),i.status,n.weak_password.reasons);throw new Fv(Mr(n),i.status||500,o)}const py=(i,r,n,o)=>{const l={method:i,headers:r?.headers||{}};return i==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r?.headers),l.body=JSON.stringify(o),Object.assign(Object.assign({},l),n))};async function ee(i,r,n,o){var l;const u=Object.assign({},o?.headers);u[zl]||(u[zl]=Jf["2024-01-01"].name),o?.jwt&&(u.Authorization=`Bearer ${o.jwt}`);const d=(l=o?.query)!==null&&l!==void 0?l:{};o?.redirectTo&&(d.redirect_to=o.redirectTo);const p=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",m=await my(i,r,n+p,{headers:u,noResolveJson:o?.noResolveJson},{},o?.body);return o?.xform?o?.xform(m):{data:Object.assign({},m),error:null}}async function my(i,r,n,o,l,u){const d=py(r,o,l,u);let p;try{p=await i(n,Object.assign({},d))}catch(m){throw console.error(m),new Ml(Mr(m),0)}if(p.ok||await Bh(p),o?.noResolveJson)return p;try{return await p.json()}catch(m){await Bh(m)}}function Ct(i){var r;let n=null;yy(i)&&(n=Object.assign({},i),i.expires_at||(n.expires_at=Yv(i.expires_in)));const o=(r=i.user)!==null&&r!==void 0?r:i;return{data:{session:n,user:o},error:null}}function Fh(i){const r=Ct(i);return!r.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((n,o)=>n&&typeof o=="string",!0)&&(r.data.weak_password=i.weak_password),r}function wr(i){var r;return{data:{user:(r=i.user)!==null&&r!==void 0?r:i},error:null}}function gy(i){return{data:i,error:null}}function vy(i){const{action_link:r,email_otp:n,hashed_token:o,redirect_to:l,verification_type:u}=i,d=In(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:r,email_otp:n,hashed_token:o,redirect_to:l,verification_type:u},m=Object.assign({},d);return{data:{properties:p,user:m},error:null}}function Vh(i){return i}function yy(i){return i.access_token&&i.refresh_token&&i.expires_in}const jl=["global","local","others"];class wy{constructor({url:r="",headers:n={},fetch:o}){this.url=r,this.headers=n,this.fetch=Xf(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,n=jl[0]){if(jl.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${jl.join(", ")}`);try{return await ee(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(o){if(Q(o))return{data:null,error:o};throw o}}async inviteUserByEmail(r,n={}){try{return await ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:wr})}catch(o){if(Q(o))return{data:{user:null},error:o};throw o}}async generateLink(r){try{const{options:n}=r,o=In(r,["options"]),l=Object.assign(Object.assign({},o),n);return"newEmail"in o&&(l.new_email=o?.newEmail,delete l.newEmail),await ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:vy,redirectTo:n?.redirectTo})}catch(n){if(Q(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(r){try{return await ee(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:wr})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async listUsers(r){var n,o,l,u,d,p,m;try{const g={nextPage:null,lastPage:0,total:0},y=await ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=r?.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(u=(l=r?.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:Vh});if(y.error)throw y.error;const w=await y.json(),k=(d=y.headers.get("x-total-count"))!==null&&d!==void 0?d:0,j=(m=(p=y.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return j.length>0&&(j.forEach(E=>{const N=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(E.split(";")[1].split("=")[1]);g[`${_}Page`]=N}),g.total=parseInt(k)),{data:Object.assign(Object.assign({},w),g),error:null}}catch(g){if(Q(g))return{data:{users:[]},error:g};throw g}}async getUserById(r){xn(r);try{return await ee(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:wr})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async updateUserById(r,n){xn(r);try{return await ee(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:n,headers:this.headers,xform:wr})}catch(o){if(Q(o))return{data:{user:null},error:o};throw o}}async deleteUser(r,n=!1){xn(r);try{return await ee(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:n},xform:wr})}catch(o){if(Q(o))return{data:{user:null},error:o};throw o}}async _listFactors(r){xn(r.userId);try{const{data:n,error:o}=await ee(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:n,error:o}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _deleteFactor(r){xn(r.userId),xn(r.id);try{return{data:await ee(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _listOAuthClients(r){var n,o,l,u,d,p,m;try{const g={nextPage:null,lastPage:0,total:0},y=await ee(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=r?.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(u=(l=r?.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:Vh});if(y.error)throw y.error;const w=await y.json(),k=(d=y.headers.get("x-total-count"))!==null&&d!==void 0?d:0,j=(m=(p=y.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return j.length>0&&(j.forEach(E=>{const N=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(E.split(";")[1].split("=")[1]);g[`${_}Page`]=N}),g.total=parseInt(k)),{data:Object.assign(Object.assign({},w),g),error:null}}catch(g){if(Q(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(r){try{return await ee(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _getOAuthClient(r){try{return await ee(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _updateOAuthClient(r,n){try{return await ee(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${r}`,{body:n,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(Q(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(r){try{return await ee(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(r){try{return await ee(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}}function Wh(i={}){return{getItem:r=>i[r]||null,setItem:(r,n)=>{i[r]=n},removeItem:r=>{delete i[r]}}}const _n={debug:!!(globalThis&&Yf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Zf extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class xy extends Zf{}async function _y(i,r,n){_n.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,r);const o=new globalThis.AbortController;return r>0&&setTimeout(()=>{o.abort(),_n.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async l=>{if(l){_n.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,l.name);try{return await n()}finally{_n.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,l.name)}}else{if(r===0)throw _n.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new xy(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(_n.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function by(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ep(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function ky(i){return parseInt(i,16)}function Sy(i){const r=new TextEncoder().encode(i);return"0x"+Array.from(r,o=>o.toString(16).padStart(2,"0")).join("")}function jy(i){var r;const{chainId:n,domain:o,expirationTime:l,issuedAt:u=new Date,nonce:d,notBefore:p,requestId:m,resources:g,scheme:y,uri:w,version:k}=i;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(k!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${k}`);if(!((r=i.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const j=ep(i.address),E=y?`${y}://${o}`:o,N=i.statement?`${i.statement}
`:"",_=`${E} wants you to sign in with your Ethereum account:
${j}

${N}`;let A=`URI: ${w}
Version: ${k}
Chain ID: ${n}${d?`
Nonce: ${d}`:""}
Issued At: ${u.toISOString()}`;if(l&&(A+=`
Expiration Time: ${l.toISOString()}`),p&&(A+=`
Not Before: ${p.toISOString()}`),m&&(A+=`
Request ID: ${m}`),g){let $=`
Resources:`;for(const R of g){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);$+=`
- ${R}`}A+=$}return`${_}
${A}`}class $e extends Error{constructor({message:r,code:n,cause:o,name:l}){var u;super(r,{cause:o}),this.__isWebAuthnError=!0,this.name=(u=l??(o instanceof Error?o.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=n}}class uo extends $e{constructor(r,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:r}),this.name="WebAuthnUnknownError",this.originalError=n}}function Ey({error:i,options:r}){var n,o,l;const{publicKey:u}=r;if(!u)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(r.signal instanceof AbortSignal)return new $e({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((n=u.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new $e({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(r.mediation==="conditional"&&((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new $e({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((l=u.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new $e({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new $e({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new $e({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return u.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new $e({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new $e({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const d=window.location.hostname;if(tp(d)){if(u.rp.id!==d)return new $e({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new $e({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new $e({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new $e({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new $e({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function Ny({error:i,options:r}){const{publicKey:n}=r;if(!n)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(r.signal instanceof AbortSignal)return new $e({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new $e({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const o=window.location.hostname;if(tp(o)){if(n.rpId!==o)return new $e({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new $e({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new $e({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new $e({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class Cy{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const Oy=new Cy;function Ty(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:r,user:n,excludeCredentials:o}=i,l=In(i,["challenge","user","excludeCredentials"]),u=Nn(r).buffer,d=Object.assign(Object.assign({},n),{id:Nn(n.id).buffer}),p=Object.assign(Object.assign({},l),{challenge:u,user:d});if(o&&o.length>0){p.excludeCredentials=new Array(o.length);for(let m=0;m<o.length;m++){const g=o[m];p.excludeCredentials[m]=Object.assign(Object.assign({},g),{id:Nn(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return p}function Py(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:r,allowCredentials:n}=i,o=In(i,["challenge","allowCredentials"]),l=Nn(r).buffer,u=Object.assign(Object.assign({},o),{challenge:l});if(n&&n.length>0){u.allowCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const p=n[d];u.allowCredentials[d]=Object.assign(Object.assign({},p),{id:Nn(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return u}function Ry(i){var r;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const n=i;return{id:i.id,rawId:i.id,response:{attestationObject:Wr(new Uint8Array(i.response.attestationObject)),clientDataJSON:Wr(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function Ay(i){var r;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const n=i,o=i.getClientExtensionResults(),l=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:Wr(new Uint8Array(l.authenticatorData)),clientDataJSON:Wr(new Uint8Array(l.clientDataJSON)),signature:Wr(new Uint8Array(l.signature)),userHandle:l.userHandle?Wr(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function tp(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function qh(){var i,r;return!!(We()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator?.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.get)=="function")}async function Iy(i){try{const r=await navigator.credentials.create(i);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new uo("Browser returned unexpected credential type",r)}:{data:null,error:new uo("Empty credential response",r)}}catch(r){return{data:null,error:Ey({error:r,options:i})}}}async function $y(i){try{const r=await navigator.credentials.get(i);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new uo("Browser returned unexpected credential type",r)}:{data:null,error:new uo("Empty credential response",r)}}catch(r){return{data:null,error:Ny({error:r,options:i})}}}const Ly={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Uy={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function co(...i){const r=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),n=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),o={};for(const l of i)if(l)for(const u in l){const d=l[u];if(d!==void 0)if(Array.isArray(d))o[u]=d;else if(n(d))o[u]=d;else if(r(d)){const p=o[u];r(p)?o[u]=co(p,d):o[u]=co(d)}else o[u]=d}return o}function Dy(i,r){return co(Ly,i,r||{})}function zy(i,r){return co(Uy,i,r||{})}class My{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:n,friendlyName:o,signal:l},u){try{const{data:d,error:p}=await this.client.mfa.challenge({factorId:r,webauthn:n});if(!d)return{data:null,error:p};const m=l??Oy.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:g}=d.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${o}`),g.displayName||(g.displayName=g.name)}switch(d.webauthn.type){case"create":{const g=Dy(d.webauthn.credential_options.publicKey,u?.create),{data:y,error:w}=await Iy({publicKey:g,signal:m});return y?{data:{factorId:r,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:y}},error:null}:{data:null,error:w}}case"request":{const g=zy(d.webauthn.credential_options.publicKey,u?.request),{data:y,error:w}=await $y(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:g,signal:m}));return y?{data:{factorId:r,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:y}},error:null}:{data:null,error:w}}}}catch(d){return Q(d)?{data:null,error:d}:{data:null,error:new Vr("Unexpected error in challenge",d)}}}async _verify({challengeId:r,factorId:n,webauthn:o}){return this.client.mfa.verify({factorId:n,challengeId:r,webauthn:o})}async _authenticate({factorId:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},u){if(!n)return{data:null,error:new Ts("rpId is required for WebAuthn authentication")};try{if(!qh())return{data:null,error:new Vr("Browser does not support WebAuthn",null)};const{data:d,error:p}=await this.challenge({factorId:r,webauthn:{rpId:n,rpOrigins:o},signal:l},{request:u});if(!d)return{data:null,error:p};const{webauthn:m}=d;return this._verify({factorId:r,challengeId:d.challengeId,webauthn:{type:m.type,rpId:n,rpOrigins:o,credential_response:m.credential_response}})}catch(d){return Q(d)?{data:null,error:d}:{data:null,error:new Vr("Unexpected error in authenticate",d)}}}async _register({friendlyName:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},u){if(!n)return{data:null,error:new Ts("rpId is required for WebAuthn registration")};try{if(!qh())return{data:null,error:new Vr("Browser does not support WebAuthn",null)};const{data:d,error:p}=await this._enroll({friendlyName:r});if(!d)return await this.client.mfa.listFactors().then(y=>{var w;return(w=y.data)===null||w===void 0?void 0:w.all.find(k=>k.factor_type==="webauthn"&&k.friendly_name===r&&k.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:p};const{data:m,error:g}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:n,rpOrigins:o},signal:l},{create:u});return m?this._verify({factorId:d.id,challengeId:m.challengeId,webauthn:{rpId:n,rpOrigins:o,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:g}}catch(d){return Q(d)?{data:null,error:d}:{data:null,error:new Vr("Unexpected error in register",d)}}}}by();const By={url:Uv,storageKey:Dv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:zv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Hh(i,r,n){return await n()}const bn={};class Ps{get jwks(){var r,n;return(n=(r=bn[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(r){bn[this.storageKey]=Object.assign(Object.assign({},bn[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,n;return(n=(r=bn[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){bn[this.storageKey]=Object.assign(Object.assign({},bn[this.storageKey]),{cachedAt:r})}constructor(r){var n,o,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},By),r);if(this.storageKey=u.storageKey,this.instanceID=(n=Ps.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Ps.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&We()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new wy({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=Xf(u.fetch),this.lock=u.lock||Hh,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,u.lock?this.lock=u.lock:We()&&(!((o=globalThis?.navigator)===null||o===void 0)&&o.locks)?this.lock=_y:this.lock=Hh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new My(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:Yf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Wh(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=Wh(this.memoryStorage)),We()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(r){if(this.throwOnError&&r&&r.error)throw r.error;return r}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Gf}) ${new Date().toISOString()}`}_debug(...r){return this.logDebugMessages&&this.logger(this._logPrefix(),...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{let n={},o="none";if(We()&&(n=Zv(window.location.href),this._isImplicitGrantCallback(n)?o="implicit":await this._isPKCECallback(n)&&(o="pkce")),We()&&this.detectSessionInUrl&&o!=="none"){const{data:l,error:u}=await this._getSessionFromURL(n,o);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),qv(u)){const m=(r=u.details)===null||r===void 0?void 0:r.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:d,redirectType:p}=l;return this._debug("#_initialize()","detected session in URL",d,"redirect type",p),await this._saveSession(d),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Q(n)?this._returnResult({error:n}):this._returnResult({error:new Vr("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var n,o,l;try{const u=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(n=r?.options)===null||n===void 0?void 0:n.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(l=r?.options)===null||l===void 0?void 0:l.captchaToken}},xform:Ct}),{data:d,error:p}=u;if(p||!d)return this._returnResult({data:{user:null,session:null},error:p});const m=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(u){if(Q(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(r){var n,o,l;try{let u;if("email"in r){const{email:y,password:w,options:k}=r;let j=null,E=null;this.flowType==="pkce"&&([j,E]=await wn(this.storage,this.storageKey)),u=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:k?.emailRedirectTo,body:{email:y,password:w,data:(n=k?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:k?.captchaToken},code_challenge:j,code_challenge_method:E},xform:Ct})}else if("phone"in r){const{phone:y,password:w,options:k}=r;u=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:w,data:(o=k?.data)!==null&&o!==void 0?o:{},channel:(l=k?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:k?.captchaToken}},xform:Ct})}else throw new eo("You must provide either an email or phone number and a password");const{data:d,error:p}=u;if(p||!d)return this._returnResult({data:{user:null,session:null},error:p});const m=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(u){if(Q(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(r){try{let n;if("email"in r){const{email:u,password:d,options:p}=r;n=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:d,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Fh})}else if("phone"in r){const{phone:u,password:d,options:p}=r;n=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:d,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Fh})}else throw new eo("You must provide either an email or phone number and a password");const{data:o,error:l}=n;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o||!o.session||!o.user){const u=new yn;return this._returnResult({data:{user:null,session:null},error:u})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:l})}catch(n){if(Q(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(r){var n,o,l,u;return await this._handleProviderSignIn(r.provider,{redirectTo:(n=r.options)===null||n===void 0?void 0:n.redirectTo,scopes:(o=r.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=r.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(u=r.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:n}=r;switch(n){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(r){var n,o,l,u,d,p,m,g,y,w,k;let j,E;if("message"in r)j=r.message,E=r.signature;else{const{chain:N,wallet:_,statement:A,options:$}=r;let R;if(We())if(typeof _=="object")R=_;else{const ae=window;if("ethereum"in ae&&typeof ae.ethereum=="object"&&"request"in ae.ethereum&&typeof ae.ethereum.request=="function")R=ae.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!$?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=_}const B=new URL((n=$?.url)!==null&&n!==void 0?n:window.location.href),Z=await R.request({method:"eth_requestAccounts"}).then(ae=>ae).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Z||Z.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ne=ep(Z[0]);let oe=(o=$?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!oe){const ae=await R.request({method:"eth_chainId"});oe=ky(ae)}const Se={domain:B.host,address:ne,statement:A,uri:B.href,version:"1",chainId:oe,nonce:(l=$?.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(d=(u=$?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(p=$?.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(m=$?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(g=$?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(y=$?.signInWithEthereum)===null||y===void 0?void 0:y.resources};j=jy(Se),E=await R.request({method:"personal_sign",params:[Sy(j),ne]})}try{const{data:N,error:_}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:j,signature:E},!((w=r.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(k=r.options)===null||k===void 0?void 0:k.captchaToken}}:null),xform:Ct});if(_)throw _;if(!N||!N.session||!N.user){const A=new yn;return this._returnResult({data:{user:null,session:null},error:A})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:_})}catch(N){if(Q(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async signInWithSolana(r){var n,o,l,u,d,p,m,g,y,w,k,j;let E,N;if("message"in r)E=r.message,N=r.signature;else{const{chain:_,wallet:A,statement:$,options:R}=r;let B;if(We())if(typeof A=="object")B=A;else{const ne=window;if("solana"in ne&&typeof ne.solana=="object"&&("signIn"in ne.solana&&typeof ne.solana.signIn=="function"||"signMessage"in ne.solana&&typeof ne.solana.signMessage=="function"))B=ne.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=A}const Z=new URL((n=R?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in B&&B.signIn){const ne=await B.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R?.signInWithSolana),{version:"1",domain:Z.host,uri:Z.href}),$?{statement:$}:null));let oe;if(Array.isArray(ne)&&ne[0]&&typeof ne[0]=="object")oe=ne[0];else if(ne&&typeof ne=="object"&&"signedMessage"in ne&&"signature"in ne)oe=ne;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in oe&&"signature"in oe&&(typeof oe.signedMessage=="string"||oe.signedMessage instanceof Uint8Array)&&oe.signature instanceof Uint8Array)E=typeof oe.signedMessage=="string"?oe.signedMessage:new TextDecoder().decode(oe.signedMessage),N=oe.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in B)||typeof B.signMessage!="function"||!("publicKey"in B)||typeof B!="object"||!B.publicKey||!("toBase58"in B.publicKey)||typeof B.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${Z.host} wants you to sign in with your Solana account:`,B.publicKey.toBase58(),...$?["",$,""]:[""],"Version: 1",`URI: ${Z.href}`,`Issued At: ${(l=(o=R?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((u=R?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((d=R?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((p=R?.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((m=R?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((g=R?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((w=(y=R?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||w===void 0)&&w.length?["Resources",...R.signInWithSolana.resources.map(oe=>`- ${oe}`)]:[]].join(`
`);const ne=await B.signMessage(new TextEncoder().encode(E),"utf8");if(!ne||!(ne instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=ne}}try{const{data:_,error:A}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:Wr(N)},!((k=r.options)===null||k===void 0)&&k.captchaToken?{gotrue_meta_security:{captcha_token:(j=r.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:Ct});if(A)throw A;if(!_||!_.session||!_.user){const $=new yn;return this._returnResult({data:{user:null,session:null},error:$})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:A})}catch(_){if(Q(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(r){const n=await zr(this.storage,`${this.storageKey}-code-verifier`),[o,l]=(n??"").split("/");try{const{data:u,error:d}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:o},xform:Ct});if(await vr(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!u||!u.session||!u.user){const p=new yn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:p})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:l??null}),error:d})}catch(u){if(Q(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(r){try{const{options:n,provider:o,token:l,access_token:u,nonce:d}=r,p=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:l,access_token:u,nonce:d,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Ct}),{data:m,error:g}=p;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m||!m.session||!m.user){const y=new yn;return this._returnResult({data:{user:null,session:null},error:y})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:g})}catch(n){if(Q(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(r){var n,o,l,u,d;try{if("email"in r){const{email:p,options:m}=r;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await wn(this.storage,this.storageKey));const{error:w}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(n=m?.data)!==null&&n!==void 0?n:{},create_user:(o=m?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:g,code_challenge_method:y},redirectTo:m?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in r){const{phone:p,options:m}=r,{data:g,error:y}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(l=m?.data)!==null&&l!==void 0?l:{},create_user:(u=m?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(d=m?.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g?.message_id},error:y})}throw new eo("You must provide either an email or phone number.")}catch(p){if(Q(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async verifyOtp(r){var n,o;try{let l,u;"options"in r&&(l=(n=r.options)===null||n===void 0?void 0:n.redirectTo,u=(o=r.options)===null||o===void 0?void 0:o.captchaToken);const{data:d,error:p}=await ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:u}}),redirectTo:l,xform:Ct});if(p)throw p;if(!d)throw new Error("An error occurred on token verification.");const m=d.session,g=d.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(l){if(Q(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(r){var n,o,l,u,d;try{let p=null,m=null;this.flowType==="pkce"&&([p,m]=await wn(this.storage,this.storageKey));const g=await ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(o=(n=r.options)===null||n===void 0?void 0:n.redirectTo)!==null&&o!==void 0?o:void 0}),!((l=r?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:p,code_challenge_method:m}),headers:this.headers,xform:gy});return!((u=g.data)===null||u===void 0)&&u.url&&We()&&!(!((d=r.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(p){if(Q(p))return this._returnResult({data:null,error:p});throw p}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:n},error:o}=r;if(o)throw o;if(!n)throw new dt;const{error:l}=await ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(r){if(Q(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async resend(r){try{const n=`${this.url}/resend`;if("email"in r){const{email:o,type:l,options:u}=r,{error:d}=await ee(this.fetch,"POST",n,{headers:this.headers,body:{email:o,type:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in r){const{phone:o,type:l,options:u}=r,{data:d,error:p}=await ee(this.fetch,"POST",n,{headers:this.headers,body:{phone:o,type:l,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:p})}throw new eo("You must provide either an email or phone number and a type")}catch(n){if(Q(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(r,n){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await o,await n()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=n();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await r(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const n=await zr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?r=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const o=r.expires_at?r.expires_at*1e3-Date.now()<_l:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",r.expires_at),!o){if(this.userStorage){const d=await zr(this.userStorage,this.storageKey+"-user");d?.user?r.user=d.user:r.user=Sl()}if(this.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};r.user=hy(r.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:l,error:u}=await this._callRefreshToken(r.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:wr}):await this._useSession(async n=>{var o,l,u;const{data:d,error:p}=n;if(p)throw p;return!(!((o=d.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new dt}:await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0,xform:wr})})}catch(n){if(Q(n))return Wv(n)&&(await this._removeSession(),await vr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(r,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,n))}async _updateUser(r,n={}){try{return await this._useSession(async o=>{const{data:l,error:u}=o;if(u)throw u;if(!l.session)throw new dt;const d=l.session;let p=null,m=null;this.flowType==="pkce"&&r.email!=null&&([p,m]=await wn(this.storage,this.storageKey));const{data:g,error:y}=await ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:p,code_challenge_method:m}),jwt:d.access_token,xform:wr});if(y)throw y;return d.user=g.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(o){if(Q(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new dt;const n=Date.now()/1e3;let o=n,l=!0,u=null;const{payload:d}=kl(r.access_token);if(d.exp&&(o=d.exp,l=o<=n),l){const{data:p,error:m}=await this._callRefreshToken(r.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!p)return{data:{user:null,session:null},error:null};u=p}else{const{data:p,error:m}=await this._getUser(r.access_token);if(m)throw m;u={access_token:r.access_token,refresh_token:r.refresh_token,user:p.user,token_type:"bearer",expires_in:o-n,expires_at:o},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(n){if(Q(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async n=>{var o;if(!r){const{data:d,error:p}=n;if(p)throw p;r=(o=d.session)!==null&&o!==void 0?o:void 0}if(!r?.refresh_token)throw new dt;const{data:l,error:u}=await this._callRefreshToken(r.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Q(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(r,n){try{if(!We())throw new to("No browser detected.");if(r.error||r.error_description||r.error_code)throw new to(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new $h("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new to("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new $h("No code detected.");const{data:$,error:R}=await this._exchangeCodeForSession(r.code);if(R)throw R;const B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:$.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:l,access_token:u,refresh_token:d,expires_in:p,expires_at:m,token_type:g}=r;if(!u||!p||!d||!g)throw new to("No session defined in URL");const y=Math.round(Date.now()/1e3),w=parseInt(p);let k=y+w;m&&(k=parseInt(m));const j=k-y;j*1e3<=Sn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${j}s, should have been closer to ${w}s`);const E=k-w;y-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,k,y):y-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,k,y);const{data:N,error:_}=await this._getUser(u);if(_)throw _;const A={provider_token:o,provider_refresh_token:l,access_token:u,expires_in:w,expires_at:k,refresh_token:d,token_type:g,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:A,redirectType:r.type},error:null})}catch(o){if(Q(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const n=await zr(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&n)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async n=>{var o;const{data:l,error:u}=n;if(u)return this._returnResult({error:u});const d=(o=l.session)===null||o===void 0?void 0:o.access_token;if(d){const{error:p}=await this.admin.signOut(d,r);if(p&&!(Vv(p)&&(p.status===404||p.status===401||p.status===403)))return this._returnResult({error:p})}return r!=="others"&&(await this._removeSession(),await vr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(r){const n=Xv(),o={id:n,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:o}}}async _emitInitialSession(r){return await this._useSession(async n=>{var o,l;try{const{data:{session:u},error:d}=n;if(d)throw d;await((o=this.stateChangeEmitters.get(r))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",r,"session",u)}catch(u){await((l=this.stateChangeEmitters.get(r))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",u),console.error(u)}})}async resetPasswordForEmail(r,n={}){let o=null,l=null;this.flowType==="pkce"&&([o,l]=await wn(this.storage,this.storageKey,!0));try{return await ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:o,code_challenge_method:l,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(u){if(Q(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var r;try{const{data:n,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(r=n.user.identities)!==null&&r!==void 0?r:[]},error:null})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var n;try{const{data:o,error:l}=await this._useSession(async u=>{var d,p,m,g,y;const{data:w,error:k}=u;if(k)throw k;const j=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(d=r.options)===null||d===void 0?void 0:d.redirectTo,scopes:(p=r.options)===null||p===void 0?void 0:p.scopes,queryParams:(m=r.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await ee(this.fetch,"GET",j,{headers:this.headers,jwt:(y=(g=w.session)===null||g===void 0?void 0:g.access_token)!==null&&y!==void 0?y:void 0})});if(l)throw l;return We()&&!(!((n=r.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(o?.url),this._returnResult({data:{provider:r.provider,url:o?.url},error:null})}catch(o){if(Q(o))return this._returnResult({data:{provider:r.provider,url:null},error:o});throw o}}async linkIdentityIdToken(r){return await this._useSession(async n=>{var o;try{const{error:l,data:{session:u}}=n;if(l)throw l;const{options:d,provider:p,token:m,access_token:g,nonce:y}=r,w=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=u?.access_token)!==null&&o!==void 0?o:void 0,body:{provider:p,id_token:m,access_token:g,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Ct}),{data:k,error:j}=w;return j?this._returnResult({data:{user:null,session:null},error:j}):!k||!k.session||!k.user?this._returnResult({data:{user:null,session:null},error:new yn}):(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("USER_UPDATED",k.session)),this._returnResult({data:k,error:j}))}catch(l){if(Q(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(r){try{return await this._useSession(async n=>{var o,l;const{data:u,error:d}=n;if(d)throw d;return await ee(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(l=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0})})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(r){const n=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(n,"begin");try{const o=Date.now();return await ry(async l=>(l>0&&await ty(200*Math.pow(2,l-1)),this._debug(n,"refreshing attempt",l),await ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Ct})),(l,u)=>{const d=200*Math.pow(2,l);return u&&bl(u)&&Date.now()+d-o<Sn})}catch(o){if(this._debug(n,"error",o),Q(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(n,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,n){const o=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",n,"url",o),We()&&!n.skipBrowserRedirect&&window.location.assign(o),{data:{provider:r,url:o},error:null}}async _recoverAndRefresh(){var r,n;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const l=await zr(this.storage,this.storageKey);if(l&&this.userStorage){let d=await zr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:l.user},await jn(this.userStorage,this.storageKey+"-user",d)),l.user=(r=d?.user)!==null&&r!==void 0?r:Sl()}else if(l&&!l.user&&!l.user){const d=await zr(this.storage,this.storageKey+"-user");d&&d?.user?(l.user=d.user,await vr(this.storage,this.storageKey+"-user"),await jn(this.storage,this.storageKey,l)):l.user=Sl()}if(this._debug(o,"session from storage",l),!this._isValidSession(l)){this._debug(o,"session is not valid"),l!==null&&await this._removeSession();return}const u=((n=l.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<_l;if(this._debug(o,`session has${u?"":" not"} expired with margin of ${_l}s`),u){if(this.autoRefreshToken&&l.refresh_token){const{error:d}=await this._callRefreshToken(l.refresh_token);d&&(console.error(d),bl(d)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:p}=await this._getUser(l.access_token);!p&&d?.user?(l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(o,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(o,"error",l),console.error(l);return}finally{this._debug(o,"end")}}async _callRefreshToken(r){var n,o;if(!r)throw new dt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new vo;const{data:u,error:d}=await this._refreshAccessToken(r);if(d)throw d;if(!u.session)throw new dt;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const p={data:u.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(u){if(this._debug(l,"error",u),Q(u)){const d={data:null,error:u};return bl(u)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(d),d}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(u),u}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(r,n,o=!0){const l=`#_notifyAllSubscribers(${r})`;this._debug(l,"begin",n,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:r,session:n});const u=[],d=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(r,n)}catch(m){u.push(m)}});if(await Promise.all(d),u.length>0){for(let p=0;p<u.length;p+=1)console.error(u[p]);throw u[0]}}finally{this._debug(l,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const n=Object.assign({},r),o=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&n.user&&await jn(this.userStorage,this.storageKey+"-user",{user:n.user});const l=Object.assign({},n);delete l.user;const u=Mh(l);await jn(this.storage,this.storageKey,u)}else{const l=Mh(n);await jn(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await vr(this.storage,this.storageKey),await vr(this.storage,this.storageKey+"-code-verifier"),await vr(this.storage,this.storageKey+"-user"),this.userStorage&&await vr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&We()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",r)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),Sn);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async n=>{const{data:{session:o}}=n;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((o.expires_at*1e3-r)/Sn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${Sn}ms, refresh threshold is ${Dl} ticks`),l<=Dl&&await this._callRefreshToken(o.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof Zf)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!We()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const n=`#_onVisibilityChanged(${r})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,n,o){const l=[`provider=${encodeURIComponent(n)}`];if(o?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&l.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[u,d]=await wn(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(d)}`});l.push(p.toString())}if(o?.queryParams){const u=new URLSearchParams(o.queryParams);l.push(u.toString())}return o?.skipBrowserRedirect&&l.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${r}?${l.join("&")}`}async _unenroll(r){try{return await this._useSession(async n=>{var o;const{data:l,error:u}=n;return u?this._returnResult({data:null,error:u}):await ee(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(o=l?.session)===null||o===void 0?void 0:o.access_token})})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(r){try{return await this._useSession(async n=>{var o,l;const{data:u,error:d}=n;if(d)return this._returnResult({data:null,error:d});const p=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:m,error:g}=await ee(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(o=u?.session)===null||o===void 0?void 0:o.access_token});return g?this._returnResult({data:null,error:g}):(r.factorType==="totp"&&m.type==="totp"&&(!((l=m?.totp)===null||l===void 0)&&l.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var o;const{data:l,error:u}=n;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?Ry(r.webauthn.credential_response):Ay(r.webauthn.credential_response)})}:{code:r.code}),{data:p,error:m}=await ee(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:d,headers:this.headers,jwt:(o=l?.session)===null||o===void 0?void 0:o.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),this._returnResult({data:p,error:m}))})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var o;const{data:l,error:u}=n;if(u)return this._returnResult({data:null,error:u});const d=await ee(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(o=l?.session)===null||o===void 0?void 0:o.access_token});if(d.error)return d;const{data:p}=d;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:Ty(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:Py(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(r){const{data:n,error:o}=await this._challenge({factorId:r.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:r.factorId,challengeId:n.id,code:r.code})}async _listFactors(){var r;const{data:{user:n},error:o}=await this.getUser();if(o)return{data:null,error:o};const l={all:[],phone:[],totp:[],webauthn:[]};for(const u of(r=n?.factors)!==null&&r!==void 0?r:[])l.all.push(u),u.status==="verified"&&l[u.factor_type].push(u);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(){var r,n;const{data:{session:o},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=kl(o.access_token);let d=null;u.aal&&(d=u.aal);let p=d;((n=(r=o.user.factors)===null||r===void 0?void 0:r.filter(y=>y.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(p="aal2");const g=u.amr||[];return{data:{currentLevel:d,nextLevel:p,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(r){try{return await this._useSession(async n=>{const{data:{session:o},error:l}=n;return l?this._returnResult({data:null,error:l}):o?await ee(this.fetch,"GET",`${this.url}/oauth/authorizations/${r}`,{headers:this.headers,jwt:o.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new dt})})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(r,n){try{return await this._useSession(async o=>{const{data:{session:l},error:u}=o;if(u)return this._returnResult({data:null,error:u});if(!l)return this._returnResult({data:null,error:new dt});const d=await ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return d.data&&d.data.redirect_url&&We()&&!n?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(o){if(Q(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(r,n){try{return await this._useSession(async o=>{const{data:{session:l},error:u}=o;if(u)return this._returnResult({data:null,error:u});if(!l)return this._returnResult({data:null,error:new dt});const d=await ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return d.data&&d.data.redirect_url&&We()&&!n?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(o){if(Q(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async r=>{const{data:{session:n},error:o}=r;return o?this._returnResult({data:null,error:o}):n?await ee(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new dt})})}catch(r){if(Q(r))return this._returnResult({data:null,error:r});throw r}}async _revokeOAuthGrant(r){try{return await this._useSession(async n=>{const{data:{session:o},error:l}=n;return l?this._returnResult({data:null,error:l}):o?(await ee(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:r.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new dt})})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(r,n={keys:[]}){let o=n.keys.find(p=>p.kid===r);if(o)return o;const l=Date.now();if(o=this.jwks.keys.find(p=>p.kid===r),o&&this.jwks_cached_at+Bv>l)return o;const{data:u,error:d}=await ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=l,o=u.keys.find(p=>p.kid===r),!o)?null:o}async getClaims(r,n={}){try{let o=r;if(!o){const{data:j,error:E}=await this.getSession();if(E||!j.session)return this._returnResult({data:null,error:E});o=j.session.access_token}const{header:l,payload:u,signature:d,raw:{header:p,payload:m}}=kl(o);n?.allowExpired||uy(u.exp);const g=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!g){const{error:j}=await this.getUser(o);if(j)throw j;return{data:{claims:u,header:l,signature:d},error:null}}const y=cy(l.alg),w=await crypto.subtle.importKey("jwk",g,y,!0,["verify"]);if(!await crypto.subtle.verify(y,w,d,Qv(`${p}.${m}`)))throw new Bl("Invalid JWT signature");return{data:{claims:u,header:l,signature:d},error:null}}catch(o){if(Q(o))return this._returnResult({data:null,error:o});throw o}}}Ps.nextInstanceID={};const Fy=Ps;class Vy extends Fy{constructor(r){super(r)}}class Wy{constructor(r,n,o){var l,u,d;this.supabaseUrl=r,this.supabaseKey=n;const p=Lv(r);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const m=`sb-${p.hostname.split(".")[0]}-auth-token`,g={db:Cv,realtime:Tv,auth:Object.assign(Object.assign({},Ov),{storageKey:m}),global:Nv},y=$v(o??{},g);this.storageKey=(l=y.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(u=y.global.headers)!==null&&u!==void 0?u:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(w,k)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(k)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=y.auth)!==null&&d!==void 0?d:{},this.headers,y.global.fetch),this.fetch=Av(n,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.accessToken&&this.accessToken().then(w=>this.realtime.setAuth(w)).catch(w=>console.warn("Failed to set initial Realtime auth token:",w)),this.rest=new T0(new URL("rest/v1",p).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new Sv(this.storageUrl.href,this.headers,this.fetch,o?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new E0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,n={},o={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,n,o)}channel(r,n={config:{}}){return this.realtime.channel(r,n)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r,n;if(this.accessToken)return await this.accessToken();const{data:o}=await this.auth.getSession();return(n=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:n,detectSessionInUrl:o,storage:l,userStorage:u,storageKey:d,flowType:p,lock:m,debug:g,throwOnError:y},w,k){const j={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Vy({url:this.authUrl.href,headers:Object.assign(Object.assign({},j),w),storageKey:d,autoRefreshToken:r,persistSession:n,detectSessionInUrl:o,storage:l,userStorage:u,flowType:p,lock:m,debug:g,throwOnError:y,fetch:k,hasCustomAuthorizationHeader:Object.keys(this.headers).some(E=>E.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new K0(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,o)=>{this._handleTokenChanged(n,"CLIENT",o?.access_token)})}_handleTokenChanged(r,n,o){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==o?(this.changedAccessToken=o,this.realtime.setAuth(o)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const qy=(i,r,n)=>new Wy(i,r,n);function Hy(){if(typeof window<"u"||typeof process>"u")return!1;const i=process.version;if(i==null)return!1;const r=i.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Hy()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ky="https://hfegsribygmumfdvujhh.supabase.co",Gy="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhmZWdzcmlieWdtdW1mZHZ1amhoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ3MTUxNzIsImV4cCI6MjA4MDI5MTE3Mn0.pBuUdbAlhS9uO04yVp0gA7okuk42D8U40w9Dtnungxc",ge=qy(Ky,Gy),rp=I.createContext();function Yt(){const i=I.useContext(rp);if(!i)throw new Error("useAuth deve essere usato dentro AuthProvider");return i}function Jy({children:i}){const[r,n]=I.useState(null),[o,l]=I.useState("guest"),[u,d]=I.useState(!0);I.useEffect(()=>{(async()=>{try{await ge.auth.signOut().catch(()=>{});const{data:{session:g}}=await ge.auth.getSession();if(g?.user){n(g.user);const y=g?.user?.user_metadata?.role??g?.user?.app_metadata?.role??"player";l(y)}else n(null),l("guest"),localStorage.removeItem("supabase.auth.token")}catch(g){console.error("Auth init error:",g),n(null),l("guest")}finally{d(!1)}})()},[]),I.useEffect(()=>{const{data:m}=ge.auth.onAuthStateChange((g,y)=>{if(console.log(" Auth event:",g,y?.user?.email||"no user"),g==="SIGNED_IN"&&y?.user){n(y.user);const w=y?.user?.user_metadata?.role??y?.user?.app_metadata?.role??"player";l(w),console.log(" Role:",w)}else(g==="SIGNED_OUT"||!y?.user)&&(n(null),l("guest"),localStorage.clear(),sessionStorage.clear(),console.log(" Logout COMPLETO"))});return()=>m?.subscription.unsubscribe()},[]);const p={user:r,role:o,loading:u,isAdmin:o==="admin",isSuperAdmin:o==="superadmin",isGuest:o==="guest",isPlayer:o==="player"||o==="user",signIn:async(m,g)=>{const{error:y}=await ge.auth.signInWithPassword({email:m,password:g});if(y)throw y},signUp:async(m,g)=>{const{data:y,error:w}=await ge.auth.signUp({email:m,password:g,options:{data:{role:"player"}}});if(w)throw w;return y},signOut:async()=>{try{console.log(" Logout SUPABASE..."),await ge.auth.signOut({scope:"local"}),localStorage.removeItem("supabase.auth.token"),localStorage.clear(),sessionStorage.clear(),n(null),l("guest"),console.log(" Logout SUCCESS")}catch(m){console.error("Logout error:",m)}finally{window.location.href="/login",window.location.reload()}}};return u?f.jsxs("div",{className:"min-h-[90vh] flex items-center justify-center bg-white",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-emerald-500 border-t-transparent mx-auto mb-4"}),f.jsx("p",{className:"text-lg font-semibold text-gray-700",children:"Inizializzazione..."})]}):f.jsx(rp.Provider,{value:p,children:i})}var np={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Kh=Jt.createContext&&Jt.createContext(np),Qy=["attr","size","title"];function Yy(i,r){if(i==null)return{};var n=Xy(i,r),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(l=0;l<u.length;l++)o=u[l],!(r.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(i,o)&&(n[o]=i[o])}return n}function Xy(i,r){if(i==null)return{};var n={};for(var o in i)if(Object.prototype.hasOwnProperty.call(i,o)){if(r.indexOf(o)>=0)continue;n[o]=i[o]}return n}function ho(){return ho=Object.assign?Object.assign.bind():function(i){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])}return i},ho.apply(this,arguments)}function Gh(i,r){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);r&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(i,l).enumerable})),n.push.apply(n,o)}return n}function fo(i){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Gh(Object(n),!0).forEach(function(o){Zy(i,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):Gh(Object(n)).forEach(function(o){Object.defineProperty(i,o,Object.getOwnPropertyDescriptor(n,o))})}return i}function Zy(i,r,n){return r=ew(r),r in i?Object.defineProperty(i,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[r]=n,i}function ew(i){var r=tw(i,"string");return typeof r=="symbol"?r:r+""}function tw(i,r){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var o=n.call(i,r);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(i)}function sp(i){return i&&i.map((r,n)=>Jt.createElement(r.tag,fo({key:n},r.attr),sp(r.child)))}function ip(i){return r=>Jt.createElement(rw,ho({attr:fo({},i.attr)},r),sp(i.child))}function rw(i){var r=n=>{var{attr:o,size:l,title:u}=i,d=Yy(i,Qy),p=l||n.size||"1em",m;return n.className&&(m=n.className),i.className&&(m=(m?m+" ":"")+i.className),Jt.createElement("svg",ho({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,o,d,{className:m,style:fo(fo({color:i.color||n.color},n.style),i.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),u&&Jt.createElement("title",null,u),i.children)};return Kh!==void 0?Jt.createElement(Kh.Consumer,null,n=>r(n)):r(np)}function nw(i){return ip({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(i)}function sw(i){return ip({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(i)}const iw=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ow=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,n,o)=>o?o.toUpperCase():n.toLowerCase()),Jh=i=>{const r=ow(i);return r.charAt(0).toUpperCase()+r.slice(1)},op=(...i)=>i.filter((r,n,o)=>!!r&&r.trim()!==""&&o.indexOf(r)===n).join(" ").trim(),aw=i=>{for(const r in i)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};var lw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const uw=I.forwardRef(({color:i="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:l="",children:u,iconNode:d,...p},m)=>I.createElement("svg",{ref:m,...lw,width:r,height:r,stroke:i,strokeWidth:o?Number(n)*24/Number(r):n,className:op("lucide",l),...!u&&!aw(p)&&{"aria-hidden":"true"},...p},[...d.map(([g,y])=>I.createElement(g,y)),...Array.isArray(u)?u:[u]]));const me=(i,r)=>{const n=I.forwardRef(({className:o,...l},u)=>I.createElement(uw,{ref:u,iconNode:r,className:op(`lucide-${iw(Jh(i))}`,`lucide-${i}`,o),...l}));return n.displayName=Jh(i),n};const cw=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Cn=me("calendar",cw);const dw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],hw=me("circle-alert",dw);const fw=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],nu=me("circle-check-big",fw);const pw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],mw=me("circle-x",pw);const gw=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],vw=me("clock",gw);const yw=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],ww=me("crown",yw);const xw=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],_w=me("eye-off",xw);const bw=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],kw=me("eye",bw);const Sw=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],jw=me("funnel",Sw);const Ew=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],ro=me("house",Ew);const Nw=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Cw=me("key",Nw);const Ow=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Tn=me("loader-circle",Ow);const Tw=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Qh=me("log-in",Tw);const Pw=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],no=me("log-out",Pw);const Rw=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],ap=me("menu",Rw);const Aw=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Iw=me("pen-line",Aw);const $w=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],su=me("plus",$w);const Lw=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Uw=me("refresh-cw",Lw);const Dw=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],zw=me("search",Dw);const Mw=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Bw=me("shield-check",Mw);const Fw=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],js=me("shield",Fw);const Vw=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],zt=me("shopping-bag",Vw);const Ww=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],qw=me("star",Ww);const Hw=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Pt=me("trophy",Hw);const Kw=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Gw=me("user-plus",Kw);const Jw=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],so=me("user",Jw);const Qw=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Pn=me("users",Qw);const Yw=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],iu=me("x",Yw);const Xw=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Zw=me("zap",Xw),ex=()=>{const{user:i,role:r,signIn:n}=Yt(),o=As(),l=I.useRef(null),[u,d]=I.useState("giose.rizzi@gmail.com"),[p,m]=I.useState("Share1968"),[g,y]=I.useState(!1),[w,k]=I.useState(!1),[j,E]=I.useState(!1),[N,_]=I.useState({type:null,text:""}),A=(ae,Ae)=>{_({type:ae,text:Ae}),l.current&&clearTimeout(l.current),l.current=setTimeout(()=>_({type:null,text:""}),7e3)};I.useEffect(()=>()=>l.current&&clearTimeout(l.current),[]),I.useEffect(()=>{i&&(A("success",` Benvenuto ${i.email}`),setTimeout(()=>o("/"),1500))},[i,o]);const $=async()=>{k(!0);try{const{data:ae,error:Ae}=await ge.auth.signUp({email:u,password:p,options:{data:{role:"admin"}}});if(Ae)throw Ae;A("success"," Registrato! Ora fai LOGIN")}catch(ae){A("error",`Signup fallito: ${ae.message}`)}finally{k(!1)}},R=async ae=>{ae.preventDefault(),k(!0),_({type:null,text:""});try{j?await $():(await n(u,p),A("success",` Accesso riuscito ${u}`),setTimeout(()=>o("/"),1500))}catch(Ae){A("error",Ae.message||"Errore durante autenticazione")}finally{k(!1)}},B=async ae=>{k(!0);try{const{error:Ae}=await ge.auth.signInWithOAuth({provider:ae,options:{redirectTo:window.location.origin}});if(Ae)throw Ae}catch{A("error",`OAuth ${ae} fallito - usa email`)}finally{k(!1)}},Z=async()=>{if(!u){A("error","Inserisci la tua email per il reset");return}k(!0);try{const{error:ae}=await ge.auth.resetPasswordForEmail(u,{redirectTo:window.location.origin});if(ae)throw ae;A("success"," Email per reset password inviata")}catch(ae){A("error",ae.message||"Errore durante reset password")}finally{k(!1)}},ne=()=>{E(!j),_({type:null,text:""})},oe=u.length>0&&p.length>=(j?8:6),Se=j?Gw:Qh;return f.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center py-8 px-4",children:f.jsxs("div",{className:"bg-white p-6 max-w-md w-full",children:[f.jsxs("div",{className:"text-center mb-8 pt-8",children:[f.jsx("img",{src:"/logo.png",alt:"CIEFFE Padel",className:"mx-auto w-24 h-24 sm:w-28 sm:h-28 md:w-32 md:h-32 lg:w-36 lg:h-36 xl:w-40 xl:h-40 mb-6 shadow-xl rounded-2xl hover:scale-110 transition-all duration-300"}),f.jsxs("p",{className:"text-sm font-bold italic text-gray-900 tracking-wide mb-4 drop-shadow-sm",children:[f.jsx("span",{className:"not-italic font-semibold text-gray-800 mr-1",children:"by"}),"Claudio Falba"]}),f.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Accedi a CIEFFE Padel"}),f.jsx("p",{className:"text-sm text-gray-600",children:"Gestisci tornei PADEL 2vs2"})]}),f.jsxs("form",{onSubmit:R,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-1 flex items-center gap-2",children:[f.jsx(Qh,{className:"w-4 h-4 text-emerald-600"}),"Email"]}),f.jsx("input",{type:"email",value:u,onChange:ae=>d(ae.target.value),placeholder:"giose.rizzi@gmail.com",className:"w-full px-3 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-all text-sm shadow-sm",required:!0})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-1 flex items-center gap-2",children:[f.jsx(Bw,{className:"w-4 h-4 text-emerald-600"}),"Password"]}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:g?"text":"password",value:p,onChange:ae=>m(ae.target.value),placeholder:"",className:"w-full px-3 py-2 pr-10 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-all text-sm shadow-sm",minLength:j?8:6,required:!0}),f.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 hover:bg-gray-100 rounded transition-all group",onClick:()=>y(!g),children:g?f.jsx(_w,{className:"w-4 h-4 text-gray-500 group-hover:text-gray-700"}):f.jsx(kw,{className:"w-4 h-4 text-gray-500 group-hover:text-gray-700"})})]})]}),f.jsx("div",{className:"flex justify-end text-sm mb-2",children:f.jsxs("button",{type:"button",onClick:Z,className:"text-emerald-600 hover:underline font-medium flex items-center gap-1",children:[f.jsx(Cw,{className:"w-3 h-3"}),"Reset Password"]})}),f.jsx("button",{type:"submit",disabled:w||!oe,className:`w-full flex items-center justify-center gap-2 py-3 rounded-xl font-bold text-sm shadow-sm transition-all ${oe&&!w?"bg-emerald-500 text-white hover:bg-emerald-600":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:w?f.jsxs(f.Fragment,{children:[f.jsx(Tn,{className:"w-5 h-5 animate-spin"})," Elaborazione..."]}):f.jsxs(f.Fragment,{children:[f.jsx(Se,{className:"w-5 h-5"})," ",j?"Crea Account":"Accedi"]})})]}),f.jsxs("div",{className:"flex items-center my-4",children:[f.jsx("hr",{className:"flex-grow border-gray-200"}),f.jsx("span",{className:"mx-2 text-xs text-gray-400",children:"oppure"}),f.jsx("hr",{className:"flex-grow border-gray-200"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("button",{onClick:()=>B("google"),disabled:w,className:"flex items-center justify-center w-full py-2 px-3 rounded-xl border-2 border-gray-200 hover:border-emerald-400 hover:bg-gray-50 hover:shadow-sm transition-all text-sm font-medium text-gray-700",children:[f.jsx(nw,{className:"w-5 h-5 mr-2"})," Accedi con Google"]}),f.jsxs("button",{onClick:()=>B("facebook"),disabled:w,className:"flex items-center justify-center w-full py-2 px-3 rounded-xl bg-blue-600 hover:bg-blue-700 text-white font-medium shadow-sm hover:shadow-md transition-all text-sm",children:[f.jsx(sw,{className:"w-5 h-5 mr-2"})," Accedi con Facebook"]})]}),N.type&&f.jsxs("div",{className:`mt-4 p-3 rounded-xl flex items-start gap-2 shadow-sm border text-sm ${N.type==="error"?"bg-red-50 border-red-200 text-red-800":N.type==="success"?"bg-emerald-50 border-emerald-200 text-emerald-800":"bg-gray-50 border-gray-200 text-gray-800"}`,children:[N.type==="success"?f.jsx(nu,{className:"w-4 h-4 mt-0.5"}):f.jsx(hw,{className:"w-4 h-4 mt-0.5"}),f.jsx("span",{children:N.text})]}),f.jsx("div",{className:"text-center mt-6",children:f.jsx("button",{onClick:ne,className:"text-gray-900 hover:text-emerald-600 font-semibold text-sm hover:underline transition-all",children:j?"Hai gi un account? Accedi":"Non hai un account? Registrati"})}),f.jsxs("div",{className:"mt-6 text-center text-xs text-gray-400 space-y-1",children:[f.jsxs("p",{className:"mb-1 text-sm leading-relaxed",children:["Registrandoti accetti le nostre"," ",f.jsx("span",{className:"font-semibold text-emerald-600 hover:underline cursor-pointer transition-all",children:"Condizioni di uso"})," ","e la"," ",f.jsx("span",{className:"font-semibold text-emerald-600 hover:underline cursor-pointer transition-all",children:"politica sulla privacy"})]}),f.jsx("p",{className:"font-bold italic text-gray-900 text-sm tracking-wide drop-shadow-sm",children:"@ Jos Rizzi"})]})]})})},tx=({logout:i})=>{const{user:r,isAdmin:n}=Yt(),o=As(),l=async()=>{i&&await i(),o("/login")};return r?f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-emerald-50 p-4 md:p-6 max-w-3xl mx-auto space-y-6",children:[f.jsxs("div",{className:"text-center relative overflow-hidden group",children:[f.jsx("div",{className:"relative mx-auto mb-4 w-20 h-20 shadow-2xl group-hover:shadow-emerald-500/25 transition-all duration-300",children:f.jsxs("div",{className:"w-20 h-20 bg-gradient-to-br from-indigo-500 via-purple-600 to-emerald-500 rounded-2xl flex items-center justify-center shadow-xl border-4 border-white relative overflow-hidden",children:[f.jsx("svg",{className:"w-12 h-12 text-white drop-shadow-lg",viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})}),f.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-white/30 to-transparent rounded-2xl blur animate-pulse opacity-60"})]})}),f.jsx("h1",{className:"text-2xl font-black bg-gradient-to-r from-gray-900 via-indigo-900 to-emerald-700 bg-clip-text text-transparent mb-1",children:r?.email?.split("@")[0]?.replace(/\./g," ")||"Player"}),f.jsxs("p",{className:"text-sm text-gray-600 flex items-center justify-center gap-2",children:[f.jsx("svg",{className:"w-4 h-4 text-emerald-500 drop-shadow-sm",viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),n?" Admin":" Player"]})]}),f.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[f.jsxs("div",{className:"bg-gradient-to-br from-indigo-500/10 via-white/90 to-indigo-100/50 backdrop-blur-sm p-4 rounded-2xl shadow-lg border border-indigo-200/50 text-center group hover:shadow-2xl hover:-translate-y-1.5 hover:border-indigo-300 transition-all duration-300",children:[f.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-xl mx-auto mb-3 flex items-center justify-center shadow-lg group-hover:scale-110 transition-all",children:f.jsx("svg",{className:"w-6 h-6 text-white drop-shadow-md",viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})}),f.jsx("p",{className:"text-xl font-bold text-indigo-800",children:12}),f.jsx("p",{className:"text-xs text-indigo-600 font-semibold tracking-wide",children:"Tornei"})]}),f.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/10 via-white/90 to-emerald-100/50 backdrop-blur-sm p-4 rounded-2xl shadow-lg border border-emerald-200/50 text-center group hover:shadow-2xl hover:-translate-y-1.5 hover:border-emerald-300 transition-all duration-300",children:[f.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-emerald-400 to-teal-500 rounded-xl mx-auto mb-3 flex items-center justify-center shadow-lg group-hover:scale-110 transition-all",children:f.jsx("svg",{className:"w-6 h-6 text-white drop-shadow-md",viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M13 3h-2v10h2V3zm4.83 2.17l-1.42 1.42C17.99 7.86 19 9.81 19 12c0 3.87-3.13 7-7 7s-7-3.13-7-7c0-2.19 1.01-4.14 2.58-5.42L6.17 5.17C4.23 6.82 3 9.26 3 12c0 4.97 4.03 9 9 9s9-4.03 9-9c0-2.74-1.23-5.18-3.17-6.83z"})})}),f.jsx("p",{className:"text-xl font-bold text-emerald-800",children:"1.247"}),f.jsx("p",{className:"text-xs text-emerald-600 font-semibold tracking-wide",children:"Punti"})]}),f.jsxs("div",{className:"bg-gradient-to-br from-purple-500/10 via-white/90 to-purple-100/50 backdrop-blur-sm p-4 rounded-2xl shadow-lg border border-purple-200/50 text-center group hover:shadow-2xl hover:-translate-y-1.5 hover:border-purple-300 transition-all duration-300",children:[f.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl mx-auto mb-3 flex items-center justify-center shadow-lg group-hover:scale-110 transition-all",children:f.jsx("svg",{className:"w-6 h-6 text-white drop-shadow-md",viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})})}),f.jsx("p",{className:"text-xl font-bold text-purple-800",children:"#47"}),f.jsx("p",{className:"text-xs text-purple-600 font-semibold tracking-wide",children:"Rank"})]})]}),f.jsxs("div",{className:"bg-white/95 backdrop-blur-xl rounded-2xl shadow-2xl border border-indigo-100/50 p-6",children:[f.jsxs("h2",{className:"text-lg font-bold text-gray-900 mb-5 flex items-center gap-2",children:[f.jsx("svg",{className:"w-6 h-6 text-indigo-600 drop-shadow-sm",viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6z"})}),"Account Info"]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[f.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gradient-to-r from-indigo-50 to-indigo-100/50 rounded-xl group hover:shadow-md transition-all border border-indigo-200/30",children:[f.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-400 to-blue-500 rounded-lg flex items-center justify-center shadow-md",children:f.jsx("svg",{className:"w-5 h-5 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})}),f.jsxs("div",{className:"min-w-0",children:[f.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider font-medium",children:"ID Profilo"}),f.jsxs("p",{className:"font-mono font-bold text-indigo-800 truncate",children:[r?.id?.slice(0,12),"..."]})]})]}),f.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gradient-to-r from-emerald-50 to-emerald-100/50 rounded-xl group hover:shadow-md transition-all border border-emerald-200/30",children:[f.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-emerald-400 to-teal-500 rounded-lg flex items-center justify-center shadow-md",children:f.jsx("svg",{className:"w-5 h-5 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"})})}),f.jsxs("div",{className:"min-w-0",children:[f.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider font-medium",children:"Email"}),f.jsx("p",{className:"font-semibold text-emerald-800 truncate",children:r?.email})]})]}),f.jsxs("div",{className:"md:col-span-2 flex items-center gap-3 p-3 bg-gradient-to-r from-purple-50 to-purple-100/50 rounded-xl group hover:shadow-md transition-all border border-purple-200/30",children:[f.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-400 to-pink-500 rounded-lg flex items-center justify-center shadow-md",children:f.jsx("svg",{className:"w-5 h-5 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider font-medium",children:"Localit"}),f.jsx("p",{className:"text-2xl font-black text-purple-800",children:"Bari "})]})]})]})]}),n&&f.jsxs("div",{className:"bg-gradient-to-r from-indigo-500/90 to-purple-600/90 backdrop-blur-xl text-white p-6 rounded-2xl shadow-2xl border border-indigo-300/50",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx("svg",{className:"w-8 h-8 drop-shadow-lg",viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"})}),f.jsx("h3",{className:"font-black text-lg",children:"Super Admin"})]}),f.jsxs("div",{className:"grid grid-cols-3 gap-3 text-xs font-semibold",children:[f.jsx("div",{className:"bg-white/20 p-3 rounded-xl backdrop-blur-sm text-center shadow-md",children:" Utenti"}),f.jsx("div",{className:"bg-white/20 p-3 rounded-xl backdrop-blur-sm text-center shadow-md",children:" Tornei"}),f.jsx("div",{className:"bg-white/20 p-3 rounded-xl backdrop-blur-sm text-center shadow-md",children:" Stats"})]})]}),f.jsxs("button",{onClick:l,className:"w-full flex items-center justify-center gap-3 py-3.5 px-6 bg-gradient-to-r from-red-500 to-orange-500 text-white font-bold rounded-2xl shadow-xl hover:shadow-2xl hover:-translate-y-1 transition-all border-0 text-sm group relative overflow-hidden",children:[f.jsx("svg",{className:"w-5 h-5 group-hover:scale-110 transition-transform",viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.59L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"})}),"Esci"]})]}):f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-emerald-50 flex items-center justify-center p-6",children:f.jsxs("div",{className:"bg-white/90 p-8 rounded-2xl shadow-xl border max-w-sm backdrop-blur w-full text-center",children:[f.jsx("svg",{className:"w-16 h-16 text-red-400 mx-auto mb-4 drop-shadow-lg",viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M12 2L2 7v10c0 5.55 3.84 9.74 9 11a9.39 9.39 0 0 0 9-11V7l-10-5z"})}),f.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Login richiesto"}),f.jsx("p",{className:"text-gray-600",children:"Effettua il login per il profilo"})]})})};function rx(){const[i,r]=I.useState([]),[n,o]=I.useState({}),[l,u]=I.useState(!0),[d,p]=I.useState(null);I.useEffect(()=>{m()},[]);const m=async()=>{u(!0),p(null);try{const{data:y,error:w}=await ge.from("tournaments").select("*").order("created_at",{ascending:!1});if(w){console.error("Tournaments error:",w),p(w.message),u(!1);return}r(y||[]);try{const{data:{user:k}}=await ge.auth.getUser();if(k&&k.id){const{data:j}=await ge.from("tournament_registrations").select("tournament_id").eq("user_id",k.id),E={};j?.forEach(N=>E[N.tournament_id]=!0),o(E)}}catch(k){console.warn("Iscrizioni skip:",k)}}catch(y){console.error("Fetch generale:",y),p(y.message)}finally{u(!1)}},g=async y=>{u(!0);try{const{data:{user:w}}=await ge.auth.getUser();if(!w){alert(" Effettua il login!");return}const{error:k}=await ge.from("tournament_registrations").insert({tournament_id:Number(y),user_id:w.id});if(k)throw k;alert(" ISCRITTO CON SUCCESSO!"),m()}catch(w){console.error("Iscrizione error:",w),alert(` Errore: ${w.message}`)}finally{u(!1)}};return l?f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-gray-50 to-slate-100 flex items-center justify-center py-12 px-6",children:f.jsxs("div",{className:"text-center bg-white p-12 rounded-xl shadow-sm border border-gray-200",children:[f.jsx(Tn,{className:"w-12 h-12 animate-spin mx-auto mb-6 text-blue-600"}),f.jsx("p",{className:"text-xl text-gray-600 font-semibold",children:"Caricamento tornei..."})]})}):d?f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-gray-50 to-slate-100 py-12 px-6",children:f.jsxs("div",{className:"max-w-2xl mx-auto bg-yellow-50 border border-yellow-200 p-8 rounded-xl shadow-sm",children:[f.jsx("h3",{className:"text-xl font-bold text-yellow-800 mb-4 flex items-center gap-2",children:" Tornei temporaneamente non disponibili"}),f.jsx("p",{className:"text-yellow-700 mb-6",children:d}),f.jsx("button",{onClick:m,className:"px-6 py-3 bg-yellow-500 hover:bg-yellow-600 text-white font-bold rounded-xl shadow-sm transition-all",children:" Riprova"})]})}):f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-gray-50 to-slate-100 pt-4 pb-12",children:f.jsxs("div",{className:"p-6 max-w-6xl mx-auto space-y-8",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-xl mx-auto mb-4 flex items-center justify-center shadow-sm border border-gray-200",children:f.jsx(Cn,{className:"w-9 h-9 text-blue-600"})}),f.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Tornei Disponibili"}),f.jsxs("p",{className:"text-lg text-gray-600 max-w-md mx-auto leading-relaxed",children:["(",i.length,") Iscriviti ai tornei padel"]})]}),i.length===0?f.jsxs("div",{className:"text-center py-20 bg-white rounded-xl shadow-sm border border-gray-200",children:[f.jsx(Pn,{className:"w-20 h-20 text-gray-400 mx-auto mb-6"}),f.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Nessun torneo attivo"}),f.jsx("p",{className:"text-gray-600",children:"Torna presto per iscriverti!"})]}):f.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(y=>f.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-all hover:-translate-y-1 group",children:[f.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4 line-clamp-2 leading-tight",children:y.name}),f.jsxs("div",{className:"space-y-3 mb-6",children:[f.jsxs("div",{className:"flex items-center gap-3 p-3 bg-blue-50 rounded-xl",children:[f.jsx(Pn,{className:"w-4 h-4 text-blue-600"}),f.jsxs("span",{className:"text-sm font-semibold text-gray-700",children:[y.max_players||16," posti"]})]}),f.jsx("span",{className:`block w-full px-4 py-2 rounded-xl text-sm font-bold text-center text-white ${y.status==="completato"?"bg-green-600":y.status==="in_corso"?"bg-yellow-600":"bg-blue-600"}`,children:y.status?.replace("_"," ").toUpperCase()})]}),n[y.id]?f.jsxs("button",{disabled:!0,className:"w-full py-3 px-4 bg-emerald-100 text-emerald-800 font-bold rounded-xl shadow-sm border border-emerald-200 flex items-center justify-center gap-2 text-sm",children:[f.jsx(nu,{className:"w-4 h-4"}),"Iscritto "]}):f.jsxs("button",{onClick:()=>g(y.id),disabled:l,className:"w-full py-3 px-4 bg-gradient-to-r from-emerald-500 to-green-600 text-white font-bold rounded-xl shadow-sm hover:shadow-md hover:-translate-y-0.5 transition-all disabled:opacity-50 flex items-center justify-center gap-2 text-sm",children:[l?f.jsx(Tn,{className:"w-4 h-4 animate-spin"}):f.jsx(su,{className:"w-4 h-4"}),"Iscriviti"]})]},y.id))})]})})}function nx(){const{isAdmin:i}=Yt(),[r,n]=I.useState([]),[o,l]=I.useState(!1),[u,d]=I.useState(!1),[p,m]=I.useState(null),[g,y]=I.useState({name:"",status:"pianificato"}),w=async()=>{d(!0);try{const{data:E,error:N}=await ge.from("tournaments").select(`
          *,
          tournament_registrations (
            count
          )
        `).order("created_at",{ascending:!1});if(N)throw N;n(E||[])}catch(E){console.error("Fetch error:",E)}d(!1)};I.useEffect(()=>{w()},[]);const k=async E=>{E.preventDefault(),d(!0);try{const{error:N}=await ge.from("tournaments").insert([{name:g.name.trim(),status:g.status}]);if(N)throw N;alert(" Torneo creato!"),l(!1),y({name:"",status:"pianificato"}),w()}catch(N){alert(" Errore: "+N.message)}d(!1)},j=E=>E?.tournament_registrations?.[0]?.count||0;return i?f.jsxs("div",{className:"min-h-screen bg-white p-8 max-w-7xl mx-auto",children:[f.jsxs("header",{className:"flex justify-between items-center mb-8",children:[f.jsx("h1",{className:"text-4xl font-semibold text-gray-800",children:" Gestione Tornei Admin"}),f.jsxs("div",{className:"flex gap-4",children:[f.jsxs("button",{onClick:w,disabled:u,className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-100 transition-all",children:[f.jsx(Uw,{className:`w-5 h-5 ${u?"animate-spin":""}`})," Aggiorna"]}),f.jsxs("button",{onClick:()=>l(!o),className:"flex items-center gap-2 bg-gradient-to-r from-gray-800 to-gray-900 text-white px-6 py-3 rounded-xl shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all font-semibold",children:[f.jsx(su,{className:"w-5 h-5"})," ",o?"Annulla":"Nuovo Torneo"]})]})]}),o&&f.jsx("div",{className:"mb-12 p-8 bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-blue-200 rounded-2xl shadow-xl max-w-2xl mx-auto",children:f.jsxs("form",{onSubmit:k,className:"space-y-6",children:[f.jsx("input",{type:"text",value:g.name,onChange:E=>y({...g,name:E.target.value}),placeholder:"Nome Torneo",className:"w-full p-4 border rounded-xl",required:!0}),f.jsxs("select",{value:g.status,onChange:E=>y({...g,status:E.target.value}),className:"w-full p-4 border rounded-xl",children:[f.jsx("option",{value:"pianificato",children:" Pianificato"}),f.jsx("option",{value:"in_corso",children:" In Corso"}),f.jsx("option",{value:"completato",children:" Completato"})]}),f.jsx("button",{type:"submit",disabled:u,className:"w-full p-4 bg-green-600 text-white rounded-xl",children:"Crea Torneo"})]})}),f.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:r.map(E=>f.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-2xl p-6 shadow-sm hover:shadow-xl hover:border-blue-300 hover:-translate-y-1 transition-all",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:E.name}),f.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-semibold ${E.status==="pianificato"?"bg-blue-100 text-blue-800":E.status==="in_corso"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:E.status==="pianificato"?" Pianificato":E.status==="in_corso"?" In Corso":" Completato"}),f.jsxs("div",{className:"flex justify-between mt-4 text-sm text-gray-600",children:[f.jsxs("span",{children:["Iscritti: ",j(E)]}),f.jsx(En,{to:`/torneo/${E.id}`,className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-semibold hover:bg-blue-200 transition-all",children:"Vai al torneo"})]})]},E.id))})]}):f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white p-8",children:f.jsx("div",{className:"bg-white border border-red-300 p-10 rounded-lg shadow-lg text-center text-red-700",children:" Accesso Negato - Solo Admin"})})}function lp(){const{user:i}=Yt(),[r,n]=I.useState([]),[o,l]=I.useState(!0),[u,d]=I.useState(""),[p,m]=I.useState(!1),[g,y]=I.useState({nome:"",descrizione:"",prezzo:"",immagine_url:""});I.useEffect(()=>{w()},[]);const w=async()=>{try{const{data:_,error:A}=await ge.from("marketplace_items").select("*").eq("venduto",!1).order("created_at",{ascending:!1});if(A)throw A;n(_||[]),console.log(" Marketplace items caricati:",_?.length||0)}catch(_){console.error("Errore marketplace:",_)}finally{l(!1)}},k=async _=>{_.preventDefault();try{const{data:A,error:$}=await ge.from("marketplace_items").insert({nome:g.nome,descrizione:g.descrizione,prezzo:parseFloat(g.prezzo),immagine_url:g.immagine_url,user_id:i.id,venduto:!1}).select().single();if($)throw $;n([A,...r]),m(!1),y({nome:"",descrizione:"",prezzo:"",immagine_url:""}),console.log(" Articolo aggiunto!")}catch(A){console.error("Errore aggiunta:",A),alert("Errore: "+A.message)}},j=_=>{const A=`Ciao! Interessato "${_.nome}" (${_.prezzo})
${_.descrizione||""}
Hai disponibilit?`;window.open(`https://wa.me/393331234567?text=${encodeURIComponent(A)}`,"_blank")},E=async _=>{if(confirm("Segnare come venduto?"))try{const{error:A}=await ge.from("marketplace_items").update({venduto:!0}).eq("id",_).eq("user_id",i.id);if(A)throw A;w(),console.log(" Articolo segnato venduto!")}catch(A){console.error("Errore:",A),alert("Errore: "+A.message)}},N=r.filter(_=>_.nome?.toLowerCase().includes(u.toLowerCase())||_.descrizione?.toLowerCase().includes(u.toLowerCase()));return f.jsxs("div",{className:"p-4 md:p-6 max-w-full sm:max-w-4xl md:max-w-6xl lg:max-w-7xl mx-auto space-y-6 md:space-y-8 bg-white min-h-[90vh]",children:[f.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[f.jsxs("div",{className:"text-center lg:text-left flex-1",children:[f.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 bg-gray-100 rounded-xl mx-auto lg:mx-0 mb-4 flex items-center justify-center shadow-sm border border-gray-200",children:f.jsx(zt,{className:"w-8 h-8 md:w-9 md:h-9 text-gray-600"})}),f.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:"Marketplace"}),f.jsxs("p",{className:"text-base md:text-lg text-gray-600 max-w-md mx-auto lg:mx-0",children:["Scopri attrezzature padel usate e nuove in vendita (",N.length,")"]})]}),f.jsxs("button",{onClick:()=>m(!0),className:"px-4 sm:px-6 md:px-8 py-3 bg-gray-800 hover:bg-gray-900 text-white font-semibold rounded-xl shadow-sm transition-all flex items-center gap-2 mx-auto lg:ml-0 text-sm md:text-base whitespace-nowrap",children:[f.jsx(su,{className:"w-4 h-4"}),"Aggiungi articolo"]})]}),f.jsx("div",{className:"bg-white p-4 md:p-6 rounded-xl shadow-sm border border-gray-200",children:f.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 max-w-2xl mx-auto",children:[f.jsxs("div",{className:"flex-1 relative",children:[f.jsx(zw,{className:"w-5 h-5 text-gray-400 absolute left-4 top-1/2 -translate-y-1/2"}),f.jsx("input",{type:"text",placeholder:"Cerca racchette, borse, palline...",value:u,onChange:_=>d(_.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-gray-300 focus:border-transparent transition-all"})]}),f.jsx("button",{className:"p-3 bg-gray-100 hover:bg-gray-200 rounded-xl border border-gray-200 transition-all w-full sm:w-auto",children:f.jsx(jw,{className:"w-5 h-5 text-gray-600"})})]})}),o?f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6",children:[...Array(6)].map((_,A)=>f.jsx("div",{className:"bg-white p-4 md:p-6 rounded-xl shadow-sm border border-gray-200 animate-pulse h-80"},A))}):N.length===0?f.jsxs("div",{className:"text-center py-16 md:py-20 bg-white rounded-2xl shadow-sm border border-gray-200",children:[f.jsx(zt,{className:"w-16 h-16 md:w-20 md:h-20 text-gray-400 mx-auto mb-2 sm:mb-4 md:mb-6"}),f.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 mb-2",children:"Nessun articolo trovato"}),f.jsx("p",{className:"text-gray-600 mb-3 sm:mb-4 md:mb-2 sm:mb-4 md:mb-6 lg:mb-8",children:u?"Prova con un termine diverso":"Sii il primo a mettere in vendita!"}),f.jsx("button",{onClick:()=>m(!0),className:"px-8 py-3 bg-gray-800 hover:bg-gray-900 text-white font-semibold rounded-xl shadow-sm transition-all",children:"+ Aggiungi il tuo primo articolo"})]}):f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6",children:N.map(_=>f.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-all hover:-translate-y-1 group",children:[f.jsx("div",{className:"w-full h-24 md:h-32 rounded-xl mb-3 md:mb-4 overflow-hidden group-hover:scale-105 transition-transform",children:_.immagine_url?f.jsx("img",{src:_.immagine_url,alt:_.nome,className:"w-full h-full object-cover"}):f.jsx("div",{className:"w-full h-24 md:h-32 bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center",children:f.jsx(zt,{className:"w-8 h-8 md:w-12 md:h-12 text-gray-400"})})}),f.jsx("h3",{className:"text-base md:text-lg font-bold text-gray-900 mb-2 md:mb-3 line-clamp-2 leading-tight",children:_.nome}),f.jsxs("div",{className:"flex items-center justify-between mb-3 md:mb-4",children:[f.jsxs("span",{className:"text-lg md:text-xl font-black text-gray-900",children:["",parseFloat(_.prezzo)?.toFixed(2)]}),f.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-800 rounded-full text-xs font-bold border border-gray-200",children:"Disponibile"})]}),_.descrizione&&f.jsx("p",{className:"text-sm text-gray-600 mb-3 md:mb-4 line-clamp-2",children:_.descrizione}),f.jsxs("div",{className:"flex items-center text-xs md:text-sm text-gray-500 mb-4",children:[f.jsx(vw,{className:"w-3 h-3 md:w-4 md:h-4 mr-1 flex-shrink-0"}),f.jsx("span",{children:new Date(_.created_at).toLocaleDateString("it-IT")})]}),f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsxs("button",{onClick:()=>j(_),className:"w-full py-2 md:py-3 px-3 md:px-4 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-xl shadow-sm transition-all text-xs md:text-sm flex items-center justify-center gap-2",children:[f.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.197-.347.223-.644.075-.297-.149-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.654-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.52.149-.173.198-.297.297-.495.099-.198.05-.371-.025-.52-.075-.148-.67-1.611-.918-2.206-.242-.579-.487-.5-.67-.51l-.57-.01c-.197 0-.52.074-.793.371s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.693.626.712.227 1.36.195 1.872.118.571-.085 1.758-.718 2.006-1.412.248-.694.248-1.29.173-1.412-.074-.123-.272-.198-.57-.347z"})}),"Contatta venditore"]}),_.user_id===i?.id&&f.jsx("button",{onClick:()=>E(_.id),className:"w-full py-2 md:py-3 px-3 md:px-4 bg-red-600 hover:bg-red-700 text-white font-semibold rounded-xl shadow-sm transition-all text-xs md:text-sm",children:"Segna venduto"})]})]},_.id))}),p&&f.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:f.jsxs("div",{className:"bg-white rounded-2xl p-6 md:p-3 sm:p-4 md:p-6 lg:p-8 max-w-md w-full max-h-[90vh] overflow-y-auto shadow-2xl border border-gray-200",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-4 md:mb-6",children:[f.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Aggiungi Articolo"}),f.jsx("button",{onClick:()=>m(!1),className:"p-2 hover:bg-gray-100 rounded-xl transition-all",children:f.jsx(iu,{className:"w-5 h-5 text-gray-500"})})]}),f.jsxs("form",{onSubmit:k,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Nome*"}),f.jsx("input",{required:!0,value:g.nome,onChange:_=>y({...g,nome:_.target.value}),className:"w-full p-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-gray-300 focus:border-transparent transition-all",placeholder:"Es: Racchetta Bullpadel Hack"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Prezzo ()*"}),f.jsx("input",{type:"number",step:"0.01",min:"0",required:!0,value:g.prezzo,onChange:_=>y({...g,prezzo:_.target.value}),className:"w-full p-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-gray-300 focus:border-transparent transition-all",placeholder:"150.00"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Descrizione"}),f.jsx("textarea",{rows:"3",value:g.descrizione,onChange:_=>y({...g,descrizione:_.target.value}),className:"w-full p-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-gray-300 focus:border-transparent resize-vertical transition-all",placeholder:"Condizioni, marca, modello, misure..."})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"URL Immagine (opzionale)"}),f.jsx("input",{type:"url",value:g.immagine_url,onChange:_=>y({...g,immagine_url:_.target.value}),className:"w-full p-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-gray-300 focus:border-transparent transition-all",placeholder:"https://example.com/immagine.jpg"})]}),f.jsxs("div",{className:"flex gap-3 pt-4",children:[f.jsx("button",{type:"button",onClick:()=>m(!1),className:"flex-1 py-3 px-4 border border-gray-200 text-gray-700 font-semibold rounded-xl hover:bg-gray-50 transition-all",children:"Annulla"}),f.jsx("button",{type:"submit",className:"flex-1 py-3 px-4 bg-gray-800 hover:bg-gray-900 text-white font-semibold rounded-xl shadow-sm transition-all",children:"Pubblica"})]})]})]})})]})}function up(){const{user:i}=Yt(),[r,n]=I.useState([]),[o,l]=I.useState(!1),[u,d]=I.useState(""),[p,m]=I.useState(""),[g,y]=I.useState({nome:"",descrizione:"",prezzo:"",immagine_url:""}),[w,k]=I.useState(null);I.useEffect(()=>{j()},[i]);const j=async()=>{if(i){l(!0);try{const{data:R,error:B}=await ge.from("marketplace_items").select("*").eq("user_id",i.id).order("created_at",{ascending:!1});if(B)throw B;n(R)}catch{d("Errore nel recupero degli articoli"),n([])}finally{l(!1)}}},E=async R=>{if(R.preventDefault(),l(!0),d(""),m(""),!g.nome||!g.prezzo){d("Nome e prezzo sono obbligatori!"),l(!1);return}try{const B={...g,user_id:i.id,prezzo:parseFloat(g.prezzo),venduto:!1},{error:Z}=await ge.from("marketplace_items").insert([B]);Z?d(Z.message):(m("Articolo pubblicato con successo!"),y({nome:"",descrizione:"",prezzo:"",immagine_url:""}),k(null),j())}catch{d("Errore di rete")}finally{l(!1)}},N=async(R,B)=>{try{const{error:Z}=await ge.from("marketplace_items").update({venduto:B}).eq("id",R).eq("user_id",i.id);Z?d("Errore aggiornamento stato"):(m(B?"Articolo marcato come venduto":"Articolo rimesso in vendita"),j())}catch{d("Errore di rete")}},_=R=>{k(R),y({nome:R.nome,descrizione:R.descrizione,prezzo:R.prezzo,immagine_url:R.immagine_url})},A=()=>{k(null),y({nome:"",descrizione:"",prezzo:"",immagine_url:""})},$=R=>{const{name:B,value:Z}=R.target;y(ne=>({...ne,[B]:Z}))};return f.jsx("div",{className:"min-h-[90vh] bg-gradient-to-br from-slate-50 via-gray-50 to-slate-100 pt-4 pb-12",children:f.jsxs("div",{className:"p-6 max-w-full sm:max-w-4xl md:max-w-6xl lg:max-w-7xl mx-auto space-y-8",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 md:w-28 md:h-28 bg-emerald-100 rounded-xl mx-auto mb-4 flex items-center justify-center shadow-sm border border-gray-200",children:f.jsx(zt,{className:"w-9 h-9 text-emerald-600"})}),f.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Gestione Marketplace"}),f.jsx("p",{className:"text-lg text-gray-600 max-w-md mx-auto leading-relaxed",children:"Pubblica e gestisci i tuoi annunci"})]}),p&&f.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 text-emerald-800 p-4 rounded-xl max-w-md mx-auto",children:[f.jsx(nu,{className:"w-5 h-5 inline mr-2"}),p]}),u&&f.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-800 p-4 rounded-xl max-w-md mx-auto",children:[f.jsx(mw,{className:"w-5 h-5 inline mr-2"}),u]}),f.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:f.jsxs("form",{onSubmit:E,className:"space-y-6",children:[f.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Nome *"}),f.jsx("input",{name:"nome",value:g.nome,onChange:$,required:!0,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Es: Racchetta Bullpadel"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Prezzo () *"}),f.jsx("input",{name:"prezzo",type:"number",step:"0.01",value:g.prezzo,onChange:$,required:!0,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all",placeholder:"Es: 150.00"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Descrizione"}),f.jsx("textarea",{name:"descrizione",rows:3,value:g.descrizione,onChange:$,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all resize-vertical",placeholder:"Condizioni, marca, modello..."})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"URL Immagine (opzionale)"}),f.jsx("input",{name:"immagine_url",type:"url",value:g.immagine_url,onChange:$,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"https://example.com/immagine.jpg"})]}),f.jsxs("div",{className:"flex flex-wrap gap-3 pt-2",children:[f.jsx("button",{type:"submit",disabled:o,className:"flex-1 min-w-[140px] py-3 px-4 sm:px-6 md:px-8 bg-emerald-600 hover:bg-emerald-700 text-white font-bold rounded-xl shadow-sm transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:o?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Salvando..."]}):w?"Aggiorna":"Pubblica Annuncio"}),w&&f.jsx("button",{type:"button",onClick:A,className:"py-3 px-4 sm:px-6 md:px-8 bg-gray-100 hover:bg-gray-200 text-gray-900 font-semibold rounded-xl shadow-sm border border-gray-200 transition-all",children:"Annulla"})]})]})}),f.jsxs("div",{children:[f.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-2 sm:mb-4 md:mb-6 flex items-center gap-3",children:[f.jsx(zt,{className:"w-7 h-7 text-emerald-600"}),"I tuoi annunci (",r.length,")"]}),o?f.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((R,B)=>f.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 animate-pulse h-48"},B))}):r.length===0?f.jsxs("div",{className:"text-center py-20 bg-white rounded-xl shadow-sm border border-gray-200",children:[f.jsx(zt,{className:"w-20 h-20 sm:w-24 sm:h-24 md:w-28 md:h-28 text-gray-400 mx-auto mb-2 sm:mb-4 md:mb-6"}),f.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Nessun annuncio"}),f.jsx("p",{className:"text-gray-600",children:"Pubblica il tuo primo annuncio!"})]}):f.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(R=>f.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-all hover:-translate-y-1 group",children:[f.jsx("div",{className:`w-full h-32 bg-gradient-to-br ${R.venduto?"from-gray-100 to-gray-200":"from-emerald-50 to-blue-50"} rounded-xl mb-4 flex items-center justify-center group-hover:scale-105 transition-transform`,children:f.jsx(zt,{className:`w-12 h-12 ${R.venduto?"text-gray-400":"text-emerald-400"}`})}),f.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 line-clamp-2",children:R.nome}),f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsxs("span",{className:"text-2xl font-black text-emerald-600",children:["",parseFloat(R.prezzo).toFixed(2)]}),f.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${R.venduto?"bg-gray-100 text-gray-700 border border-gray-200":"bg-emerald-100 text-emerald-800 border border-emerald-200"}`,children:R.venduto?"VENDUTO":"DISPONIBILE"})]}),R.descrizione&&f.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:R.descrizione}),f.jsxs("div",{className:"flex gap-2 pt-4 border-t border-gray-100",children:[f.jsx("button",{onClick:()=>N(R.id,!R.venduto),className:`flex-1 py-2.5 px-3 rounded-xl font-semibold text-sm transition-all ${R.venduto?"bg-emerald-600 hover:bg-emerald-700 text-white shadow-sm":"bg-red-600 hover:bg-red-700 text-white shadow-sm"}`,children:R.venduto?"Rimetti in vendita":"Marca venduto"}),f.jsx("button",{onClick:()=>_(R),className:"p-2.5 bg-gray-100 hover:bg-gray-200 rounded-xl border border-gray-200 transition-all group-hover:shadow-sm",title:"Modifica",children:f.jsx(Iw,{className:"w-4 h-4 text-gray-700"})})]})]},R.id))})]})]})})}const sx=()=>{const[i,r]=I.useState(!1);return f.jsxs("div",{children:[f.jsx("h1",{children:"SUPERADMIN PANEL"}),f.jsx("button",{onClick:()=>r(!0),children:"Mostra Istruzioni"}),i&&f.jsxs("div",{children:[f.jsx("h2",{children:"Istruzioni Aggiungi Admin:"}),f.jsx("p",{children:"1. Supabase Authentication Add user"}),f.jsx("p",{children:"2. Email: admin1@cieffepadel.it"}),f.jsx("p",{children:"3. Password: TempPass123!"}),f.jsx("p",{children:"4. Metadata: role = admin"}),f.jsx("p",{children:"5. Confirmed = TRUE"}),f.jsx("p",{children:"6. CREATE USER"}),f.jsx("p",{children:"Login: admin1@cieffepadel.it / TempPass123!"}),f.jsx("button",{onClick:()=>r(!1),children:"Chiudi"})]})]})};function ix(){const{user:i,signOut:r,isAdmin:n,isSuperAdmin:o}=Yt(),l=As(),[u,d]=I.useState(!1),[p,m]=I.useState("home"),[g,y]=I.useState({tournaments:12,points:1247,rank:47,nextEvent:"Bari Winter Cup - 15 Dic"}),w=n||o;I.useEffect(()=>{if(i){const $={tournaments:12+Math.floor(Math.random()*5),points:1247+Math.floor(Math.random()*100),rank:Math.max(1,47-Math.floor(Math.random()*3)),nextEvent:"Bari Winter Cup - 15 Dic"};y($)}},[i]);const k=o?[{id:"home",label:" Dashboard",icon:ro,section:"home"},{id:"superadmin",label:" Gestione Utenti",icon:Pn,section:"superadmin"},{id:"admin",label:" Gestione Tornei",icon:js,section:"admin-tornei"},{id:"eventi",label:" Eventi e Tornei",icon:Cn,section:"tornei"},{id:"marketplace",label:" Marketplace",icon:zt,section:"marketplace-gestione"},{id:"profilo",label:" Profilo",icon:so,section:"profilo"},{id:"logout",label:" Logout",icon:no,section:"logout"}]:n?[{id:"home",label:" Dashboard",icon:ro,section:"home"},{id:"admin",label:" Gestione Tornei",icon:js,section:"admin-tornei"},{id:"eventi",label:" Eventi e Tornei",icon:Cn,section:"tornei"},{id:"marketplace",label:" Marketplace",icon:zt,section:"marketplace-gestione"},{id:"profilo",label:" Profilo",icon:so,section:"profilo"},{id:"logout",label:" Logout",icon:no,section:"logout"}]:[{id:"home",label:" Dashboard",icon:ro,section:"home"},{id:"eventi",label:" Eventi e Tornei",icon:Cn,section:"tornei"},{id:"marketplace",label:" Marketplace",icon:zt,section:"marketplace"},{id:"profilo",label:" Profilo",icon:so,section:"profilo"},{id:"logout",label:" Logout",icon:no,section:"logout"}],j=async()=>{try{await r(),l("/login")}catch($){console.error("Logout error:",$),l("/login")}},E=()=>f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 transition-all duration-300",onClick:()=>d(!1)}),f.jsxs("div",{className:`fixed right-0 top-0 h-full w-80 bg-white shadow-2xl z-50 transform transition-transform duration-300 ease-in-out border-l border-gray-200 ${u?"translate-x-0":"translate-x-full"}`,children:[f.jsxs("div",{className:"p-6 pt-20 border-b border-gray-100 sticky top-0 bg-white z-10",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-4 md:mb-6",children:[f.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[f.jsx(Pt,{className:"w-5 h-5 text-emerald-600"}),"CieffePadel",o&&f.jsx(ww,{className:"w-5 h-5 text-yellow-500 animate-pulse",title:"SuperAdmin"})]}),f.jsx("button",{onClick:()=>d(!1),className:"p-2 rounded-xl hover:bg-gray-100 transition-all group",children:f.jsx(iu,{className:"w-6 h-6 text-gray-600 group-hover:text-gray-900"})})]}),f.jsx("div",{className:"bg-gradient-to-r from-emerald-50 to-green-50 p-4 rounded-2xl mb-2 sm:mb-4 md:mb-6 border border-emerald-100",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-emerald-500 to-green-600 rounded-2xl flex items-center justify-center shadow-lg",children:f.jsx(Pt,{className:"w-6 h-6 text-white"})}),f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold text-gray-900 text-sm leading-tight",children:i?.email?.split("@")[0]?.replace(/\./g," ")||"Giocatore"}),f.jsx("p",{className:"text-xs text-gray-500 font-medium capitalize",children:o?" SuperAdmin":n?" Amministratore":" Giocatore"})]})]})})]}),f.jsx("div",{className:"p-4 space-y-1 overflow-y-auto h-[calc(100vh-240px)]",children:k.map($=>f.jsxs("button",{onClick:()=>{m($.section),d(!1),$.id==="logout"&&j()},className:`w-full flex items-center gap-4 p-4 rounded-xl font-medium transition-all group text-left hover:shadow-md ${p===$.section?"bg-emerald-500 text-white shadow-lg border-2 border-emerald-400":"text-gray-700 hover:bg-emerald-50 hover:border-emerald-200 hover:border"} ${$.id==="logout"?"text-red-600 hover:bg-red-50 hover:text-red-700 hover:border-red-200":""}`,children:[f.jsx($.icon,{className:`w-6 h-6 flex-shrink-0 transition-all ${p===$.section?"text-white":$.id==="logout"?"text-red-500 group-hover:text-red-600":"text-emerald-500 group-hover:text-emerald-600"}`}),f.jsx("span",{className:"text-base font-medium",children:$.label})]},$.id))})]})]}),N=()=>f.jsxs("div",{className:"p-6 md:p-3 sm:p-4 md:p-6 lg:p-8 max-w-5xl mx-auto space-y-6",children:[f.jsxs("div",{className:"text-center space-y-3",children:[f.jsxs("div",{className:"w-20 h-20 sm:w-24 sm:h-24 md:w-28 md:h-28 bg-gradient-to-br from-emerald-500 to-green-600 rounded-2xl mx-auto flex items-center justify-center shadow-xl border-2 border-white relative",children:[f.jsx(Pt,{className:"w-10 h-10 text-white"}),o&&f.jsx("div",{className:"absolute -top-1 -right-1 bg-yellow-500 text-white text-xs px-2 py-0.5 rounded-full font-bold shadow animate-pulse",children:""}),n&&!o&&f.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs px-2 py-0.5 rounded-full font-bold shadow",children:"ADMIN"})]}),f.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Ciao ",f.jsx("span",{className:"text-emerald-600",children:i?.email?.split("@")[0]?.replace(/\./g," ")||"Giocatore"})]}),f.jsx("p",{className:"text-sm md:text-base text-gray-600 max-w-md mx-auto",children:o?" SuperAdmin - Gestione completa":n?" Amministratore - Controllo totale":"Le tue statistiche padel"})]}),f.jsxs("div",{className:"grid grid-cols-3 gap-4 md:gap-6",children:[f.jsxs("div",{className:"bg-white/90 p-5 rounded-2xl shadow-md border border-emerald-100 hover:shadow-lg hover:-translate-y-1 transition-all group backdrop-blur-sm",children:[f.jsx("div",{className:"w-12 h-12 bg-emerald-500 rounded-xl mx-auto mb-3 flex items-center justify-center shadow-lg group-hover:scale-105",children:f.jsx(Pt,{className:"w-6 h-6 text-white"})}),f.jsx("p",{className:"text-2xl font-bold text-emerald-700 text-center",children:g.tournaments}),f.jsx("p",{className:"text-xs font-semibold text-gray-700 text-center uppercase tracking-wide",children:"Tornei"})]}),f.jsxs("div",{className:"bg-white/90 p-5 rounded-2xl shadow-md border border-blue-100 hover:shadow-lg hover:-translate-y-1 transition-all group backdrop-blur-sm",children:[f.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-xl mx-auto mb-3 flex items-center justify-center shadow-lg group-hover:scale-105",children:f.jsx(Zw,{className:"w-6 h-6 text-white"})}),f.jsx("p",{className:"text-2xl font-bold text-blue-700 text-center",children:g.points.toLocaleString()}),f.jsx("p",{className:"text-xs font-semibold text-gray-700 text-center uppercase tracking-wide",children:"Punti"})]}),f.jsxs("div",{className:"bg-white/90 p-5 rounded-2xl shadow-md border border-purple-100 hover:shadow-lg hover:-translate-y-1 transition-all group backdrop-blur-sm",children:[f.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-xl mx-auto mb-3 flex items-center justify-center shadow-lg group-hover:scale-105",children:f.jsx(qw,{className:"w-6 h-6 text-white"})}),f.jsxs("p",{className:"text-2xl font-bold text-purple-700 text-center",children:["#",g.rank]}),f.jsx("p",{className:"text-xs font-semibold text-gray-700 text-center uppercase tracking-wide",children:"Rank Puglia"})]})]}),f.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-green-600 text-white p-6 md:p-3 sm:p-4 md:p-6 lg:p-8 rounded-2xl text-center shadow-xl",children:[f.jsxs("h3",{className:"text-lg md:text-xl font-bold mb-2",children:[" ",g.nextEvent]}),f.jsx("p",{className:"text-sm opacity-90 mb-4",children:"Campo Centrale  Iscrizioni aperte"}),f.jsx("button",{onClick:()=>m("tornei"),className:"px-4 sm:px-6 md:px-8 py-2.5 bg-white text-emerald-700 font-semibold text-sm rounded-xl shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all",children:"Dettagli "})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4",children:[f.jsx("button",{onClick:()=>m("tornei"),className:"p-4 md:p-6 bg-gradient-to-r from-emerald-500 to-green-600 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all text-sm md:text-base",children:" Tornei"}),f.jsx("button",{onClick:()=>m("marketplace"),className:"p-4 md:p-6 bg-gradient-to-r from-blue-500 to-emerald-500 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all text-sm md:text-base",children:" Marketplace"}),f.jsx("button",{onClick:()=>m("profilo"),className:"p-4 md:p-6 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all text-sm md:text-base",children:" Profilo"})]})]}),_=()=>f.jsx("div",{className:"p-12 max-w-full sm:max-w-4xl md:max-w-6xl lg:max-w-7xl mx-auto text-center",children:f.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-orange-50 rounded-2xl p-3 sm:p-4 md:p-6 lg:p-8 md:p-12 shadow-md mx-auto max-w-sm border border-red-200",children:[f.jsx(js,{className:"w-20 h-20 sm:w-24 sm:h-24 md:w-28 md:h-28 md:w-24 md:h-24 text-red-400 mx-auto mb-2 sm:mb-4 md:mb-6"}),f.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-red-600 mb-4",children:"Accesso Negato"}),f.jsx("p",{className:"text-base md:text-lg text-red-500 mb-3 sm:mb-4 md:mb-2 sm:mb-4 md:mb-6 lg:mb-8",children:"Questa sezione  riservata agli amministratori."}),f.jsx("button",{onClick:()=>m("home"),className:"px-4 sm:px-6 md:px-8 py-2.5 md:px-8 md:py-3 bg-gradient-to-r from-green-400 to-green-500 hover:from-green-500 hover:to-green-600 text-white font-bold rounded-xl shadow transition-all text-sm md:text-base",children:" Torna alla Dashboard"})]})}),A=()=>{switch(p){case"home":return f.jsx(N,{});case"tornei":return f.jsx(rx,{});case"superadmin":return o?f.jsx(sx,{}):f.jsx(_,{});case"admin-tornei":return w?f.jsx(nx,{}):f.jsx(_,{});case"marketplace":return f.jsx(lp,{});case"marketplace-gestione":return w?f.jsx(up,{}):f.jsx(_,{});case"profilo":return f.jsx(tx,{logout:j});case"logout":return j(),f.jsx("div",{className:"p-12 text-center text-green-700 bg-white/80 rounded-2xl shadow-md border border-green-200",children:"Logout in corso..."});default:return f.jsx("div",{className:"p-12 text-center text-green-700 bg-white/80 rounded-2xl shadow-md border border-green-200",children:"Sezione non trovata"})}};return f.jsxs("div",{className:"min-h-[90vh] bg-gradient-to-br from-green-50 via-white to-blue-50",children:[f.jsx("header",{className:"bg-white/90 backdrop-blur-sm border-b border-green-200/50 shadow-sm sticky top-0 z-40",children:f.jsx("div",{className:"max-w-full sm:max-w-4xl md:max-w-6xl lg:max-w-7xl mx-auto px-4 md:px-4 sm:px-6 md:px-8 py-3 md:py-4",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("div",{className:"flex-1 flex justify-end",children:f.jsx("button",{onClick:()=>d(!u),className:"p-2 rounded-lg md:rounded-xl hover:bg-emerald-50 hover:border hover:border-emerald-200 transition-all group","aria-label":"Menu",children:f.jsx(ap,{className:"w-6 h-6 text-emerald-700 group-hover:text-emerald-900 transition-colors"})})}),f.jsxs("h1",{className:"text-xl md:text-2xl font-bold text-emerald-700 absolute left-1/2 -translate-x-1/2 flex items-center",children:["CieffePadel",o?f.jsx("span",{className:"ml-2 px-3 py-1.5 bg-gradient-to-r from-yellow-500 to-orange-500 text-white text-sm font-black rounded-full shadow-lg animate-pulse",children:" SUPERADMIN"}):n?f.jsx("span",{className:"ml-2 px-2 py-1 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white text-xs md:text-sm font-bold rounded-full shadow-lg",children:"ADMIN"}):null]}),f.jsx("div",{className:"w-12 md:w-0"})]})})}),u&&f.jsx(E,{}),f.jsx("main",{className:"pt-2 pb-8 md:pb-12",children:A()})]})}function ox(){const{isAdmin:i}=Yt(),[r,n]=I.useState([]),[o,l]=I.useState(!0);return I.useEffect(()=>{(async()=>{try{const{data:d,error:p}=await ge.from("tournaments").select("id, nome, max_players, status").order("created_at",{ascending:!1});if(p)throw p;n(d||[])}catch(d){console.error("Errore caricamento tornei:",d)}finally{l(!1)}})()},[]),o?f.jsx("div",{className:"min-h-[90vh] bg-gradient-to-br from-slate-50 via-gray-50 to-slate-100 flex items-center justify-center py-4 sm:py-8 md:py-12 px-4 sm:px-6 md:px-8",children:f.jsxs("div",{className:"text-center bg-white p-12 rounded-xl shadow-sm border border-gray-200",children:[f.jsx(Tn,{className:"w-12 h-12 animate-spin mx-auto mb-2 sm:mb-4 md:mb-6 text-blue-600"}),f.jsx("p",{className:"text-xl text-gray-600 font-semibold",children:"Caricamento tornei..."})]})}):f.jsx("div",{className:"min-h-[90vh] bg-gradient-to-br from-slate-50 via-gray-50 to-slate-100 pt-4 pb-12",children:f.jsxs("div",{className:"p-6 max-w-full sm:max-w-4xl md:max-w-6xl lg:max-w-7xl mx-auto space-y-8",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 md:w-28 md:h-28 bg-yellow-100 rounded-xl mx-auto mb-4 flex items-center justify-center shadow-sm border border-gray-200",children:f.jsx(Pt,{className:"w-9 h-9 text-yellow-600"})}),f.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Tornei"}),f.jsxs("p",{className:"text-lg text-gray-600 max-w-md mx-auto leading-relaxed",children:["(",r.length,") Scopri i tornei disponibili"]})]}),r.length===0?f.jsxs("div",{className:"text-center py-20 bg-white rounded-xl shadow-sm border border-gray-200",children:[f.jsx(Pt,{className:"w-20 h-20 sm:w-24 sm:h-24 md:w-28 md:h-28 text-gray-400 mx-auto mb-2 sm:mb-4 md:mb-6"}),f.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Nessun torneo trovato"}),f.jsx("p",{className:"text-gray-600",children:"Torna presto per nuovi tornei!"})]}):f.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(u=>f.jsxs(En,{to:`/torneo/${u.id}`,className:"group bg-white rounded-xl shadow-sm hover:shadow-md transition-all hover:-translate-y-1 border border-gray-200 block h-full",children:[f.jsxs("div",{className:"p-6 border-b border-gray-100",children:[f.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-3 line-clamp-2 leading-tight",children:u.nome||""}),f.jsxs("div",{className:"flex items-center justify-between text-sm mb-4",children:[f.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[f.jsx(Pn,{className:"w-4 h-4"}),f.jsxs("span",{children:[u.max_players||""," max"]})]}),f.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${u.status==="completato"?"bg-green-100 text-green-800":u.status==="in_corso"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:u.status||""})]})]}),f.jsx("div",{className:"p-6 pt-0",children:f.jsx("div",{className:"w-full flex items-center justify-center gap-2 bg-gradient-to-r from-emerald-500 to-green-600 text-white font-bold py-3 px-4 sm:px-6 md:px-8 rounded-xl shadow-sm group-hover:shadow-md group-hover:scale-[1.02] transition-all text-sm",children:i?f.jsxs(f.Fragment,{children:[f.jsx(Pt,{className:"w-4 h-4"}),"ADMIN: Tabellone"]}):f.jsxs(f.Fragment,{children:[f.jsx(Cn,{className:"w-4 h-4"}),"Iscriviti"]})})})]},u.id))})]})})}function ax({isOpen:i,isAdmin:r,onClose:n}){return i?f.jsx("div",{className:"fixed inset-0 bg-black/30 z-50",onClick:n,children:f.jsxs("div",{className:"bg-white w-72 h-full shadow-xl",onClick:o=>o.stopPropagation(),children:[f.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(js,{className:"w-8 h-8 text-gray-700"}),f.jsx("h2",{className:"font-bold text-xl",children:"MENU"})]}),f.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-lg",children:f.jsx(iu,{className:"w-5 h-5"})})]}),f.jsxs("div",{className:"p-4 space-y-2",children:[f.jsxs(En,{to:"/",onClick:n,className:"flex items-center gap-3 p-3 rounded-xl hover:bg-gray-50 font-semibold border-l-4 border-transparent hover:border-blue-500 transition-all",children:[f.jsx(ro,{className:"w-5 h-5 text-gray-700"}),"Dashboard"]}),f.jsxs(En,{to:"/tornei",onClick:n,className:"flex items-center gap-3 p-3 rounded-xl hover:bg-gray-50 font-semibold border-l-4 border-transparent hover:border-blue-500 transition-all",children:[f.jsx(Pt,{className:"w-5 h-5 text-gray-700"}),"Tornei"]}),r&&f.jsxs(En,{to:"/marketplace/gestione",onClick:n,className:"flex items-center gap-3 p-3 rounded-xl hover:bg-gray-50 font-semibold border-l-4 border-transparent hover:border-blue-500 transition-all",children:[f.jsx(so,{className:"w-5 h-5 text-gray-700"}),"Gestione"]}),f.jsx("hr",{className:"border-gray-200 my-3"}),f.jsxs("button",{onClick:()=>ge.auth.signOut(),className:"w-full flex items-center gap-3 p-3 text-left rounded-xl hover:bg-red-50 font-semibold border-l-4 border-red-200 text-red-600 transition-all",children:[f.jsx(no,{className:"w-5 h-5"}),"Logout"]})]})]})}):null}function lx({tournamentName:i,matchesCount:r,isAdmin:n,onMenuToggle:o}){return f.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-4 md:mb-6",children:[f.jsx("button",{onClick:o,className:"p-3 hover:bg-gray-50 rounded-xl transition-all",children:f.jsx(ap,{className:"w-6 h-6 text-gray-700"})}),f.jsxs("div",{className:"text-center flex-1 px-4",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:i}),f.jsx("p",{className:"text-sm text-gray-600",children:"Status: In corso"})]}),n&&f.jsx("div",{className:"p-3 bg-emerald-100 rounded-xl",children:f.jsx(js,{className:"w-6 h-6 text-emerald-700"})})]}),f.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[f.jsxs("div",{className:"p-3",children:[f.jsx(Pn,{className:"w-7 h-7 text-gray-500 mx-auto mb-2"}),f.jsx("div",{className:"text-lg font-bold text-gray-900",children:"5"}),f.jsx("div",{className:"text-xs text-gray-500",children:"Iscritti"})]}),f.jsxs("div",{className:"p-3",children:[f.jsx(Pt,{className:"w-7 h-7 text-gray-500 mx-auto mb-2"}),f.jsx("div",{className:"text-lg font-bold text-gray-900",children:r}),f.jsx("div",{className:"text-xs text-gray-500",children:"Matches"})]}),f.jsxs("div",{className:"p-3",children:[f.jsx(Cn,{className:"w-7 h-7 text-gray-500 mx-auto mb-2"}),f.jsx("div",{className:"text-sm font-bold text-gray-900",children:"05/12"}),f.jsx("div",{className:"text-xs text-gray-500",children:"Inizio"})]})]})]})}function ux({tournamentId:i}){const[r,n]=I.useState([]),[o,l]=I.useState(!0);return I.useEffect(()=>{i&&ge.from("tournament_registrations").select("id, user_id, users(id, email, name)").eq("tournament_id",i).then(({data:u})=>{n(u||[]),l(!1)})},[i]),o?f.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6 flex items-center justify-center",children:[f.jsx(Tn,{className:"w-8 h-8 animate-spin mr-3 text-gray-500"}),f.jsx("span",{className:"font-medium text-gray-700",children:"Caricamento..."})]}):f.jsxs("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:[f.jsx("div",{className:"bg-gray-50 px-4 sm:px-6 md:px-8 py-3 border-b",children:f.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[f.jsx(Pn,{className:"w-5 h-5 text-blue-600"}),"Iscritti (",r.length,")"]})}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-4 sm:px-6 md:px-8 py-3 text-left text-sm font-semibold text-gray-700 border-b border-gray-100",children:"Giocatore"}),f.jsx("th",{className:"px-4 sm:px-6 md:px-8 py-3 text-left text-sm font-semibold text-gray-700 border-b border-gray-100",children:"Email"})]})}),f.jsxs("tbody",{children:[r.map(u=>{const d=u.users||{};return f.jsxs("tr",{className:"border-b border-gray-50 hover:bg-gray-50 transition-colors",children:[f.jsx("td",{className:"px-4 sm:px-6 md:px-8 py-4 font-medium text-gray-900",children:d.name||d.email||"N/D"}),f.jsx("td",{className:"px-4 sm:px-6 md:px-8 py-4 text-sm text-gray-600",children:d.email||"-"})]},u.id)}),r.length===0&&f.jsx("tr",{children:f.jsx("td",{colSpan:"2",className:"px-4 sm:px-6 md:px-8 py-4 sm:py-8 md:py-12 text-center text-gray-500",children:"Nessun iscritto"})})]})]})})]})}function cx({matches:i=[]}){if(!i.length)return f.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-3 sm:p-4 md:p-6 lg:p-8 text-center",children:[f.jsx(Pt,{className:"w-14 h-14 text-gray-300 mx-auto mb-4"}),f.jsx("h3",{className:"text-lg font-bold text-gray-500 mb-1",children:"Tabellone vuoto"}),f.jsx("p",{className:"text-sm text-gray-400",children:"Nessuna partita programmata"})]});const r=[...i].sort((n,o)=>{const l={Ottavi:1,Quarti:2,Semifinale:3,Finale:4,"3 Posto":5};return(l[n.round]||99)-(l[o.round]||99)});return f.jsxs("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:[f.jsx("div",{className:"bg-gray-50 px-4 sm:px-6 md:px-8 py-3 border-b",children:f.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2 justify-center",children:[f.jsx(Pt,{className:"w-5 h-5 text-yellow-600"}),"Tabellone (",i.length," partite)"]})}),f.jsx("div",{className:"divide-y divide-gray-100 max-h-80 overflow-y-auto",children:r.map(n=>f.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:[f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2 items-center text-center",children:[f.jsx("div",{className:"font-bold text-sm text-gray-900 p-2 bg-gray-50 rounded-lg min-h-[40px] flex items-center justify-center",children:n.player1||"Squadra A"}),f.jsxs("div",{className:"md:col-span-2 p-2",children:[f.jsx("div",{className:"text-xl font-bold text-gray-900 mb-1",children:n.score||"0-0"}),f.jsxs("div",{className:"flex items-center gap-2 justify-center text-xs",children:[f.jsx("span",{className:`px-2 py-1 rounded font-medium ${n.round==="Finale"?"bg-emerald-100 text-emerald-800":n.round==="Semifinale"?"bg-blue-100 text-blue-800":n.round==="Quarti"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-700"}`,children:n.round||"Quarti"}),f.jsx("span",{className:"bg-gray-50 text-gray-600 px-2 py-1 rounded text-xs",children:n.court||"Campo 1"})]})]}),f.jsx("div",{className:"font-bold text-sm text-gray-900 p-2 bg-gray-50 rounded-lg min-h-[40px] flex items-center justify-center",children:n.player2||"Squadra B"})]}),n.winner&&f.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 text-center",children:f.jsxs("span",{className:`px-3 py-1 rounded-xl font-semibold text-xs ${n.round==="Finale"?"bg-emerald-100 text-emerald-900 border border-emerald-200":"bg-green-100 text-green-800 border border-green-200"}`,children:[" Vincitore: ",n.winner]})})]},n.id))})]})}function dx(){const{id:i}=Kg(),{isAdmin:r}=Yt(),[n,o]=I.useState([]),[l,u]=I.useState(!0),[d,p]=I.useState("Padel Bari Masters 2025"),[m,g]=I.useState(!1);return I.useEffect(()=>{ge.from("tournaments").select("name").eq("id",3).single().then(({data:y})=>p(y?.name||"Padel Bari Masters 2025")),ge.from("matches").select("*").eq("tournament_id","00000003-0000-0000-0000-000000000003").order("round").then(({data:y})=>{o(y||[]),u(!1)})},[]),f.jsxs("div",{className:"min-h-[90vh] bg-gradient-to-br from-slate-50 via-gray-50 to-slate-100 pt-4 pb-12",children:[f.jsx(ax,{isOpen:m,isAdmin:r,onClose:()=>g(!1)}),f.jsxs("div",{className:"p-6 max-w-full sm:max-w-4xl md:max-w-6xl lg:max-w-7xl mx-auto space-y-6",children:[f.jsx(lx,{tournamentName:d,matchesCount:n.length,isAdmin:r,onMenuToggle:()=>g(!0)}),f.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[f.jsx(ux,{tournamentId:i||"3"}),l?f.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6 flex items-center justify-center",children:[f.jsx(Tn,{className:"w-8 h-8 animate-spin mr-3 text-gray-500"}),f.jsx("span",{className:"font-medium text-gray-700",children:"Caricamento tabellone..."})]}):f.jsx(cx,{matches:n})]})]})]})}const hx=()=>f.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-8 text-center",children:[f.jsx("h1",{className:"text-8xl font-black text-gray-900 mb-4",children:"404"}),f.jsx("div",{className:"w-24 h-24 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),f.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Pagina non trovata"}),f.jsx("p",{className:"text-lg text-gray-600 mb-8 max-w-md",children:"La pagina che stai cercando non esiste."}),f.jsx(En,{to:"/",className:"bg-indigo-600 hover:bg-indigo-700 text-white px-10 py-4 rounded-xl font-semibold text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300",children:" Torna alla Home"})]});function kn({children:i,adminOnly:r=!1}){const{user:n,loading:o,isAdmin:l}=Yt();return o?f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:f.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-gray-400"})}):n?r&&!l?f.jsx(mh,{to:"/",replace:!0}):i:f.jsx(mh,{to:"/login",replace:!0})}function fx(){return f.jsx("div",{className:"min-h-screen bg-white",children:f.jsxs(u0,{children:[f.jsx(yr,{path:"/login",element:f.jsx(ex,{})}),f.jsx(yr,{path:"/",element:f.jsx(kn,{children:f.jsx(ix,{})})}),f.jsx(yr,{path:"/marketplace",element:f.jsx(kn,{children:f.jsx(lp,{})})}),f.jsx(yr,{path:"/marketplace/gestione",element:f.jsx(kn,{adminOnly:!0,children:f.jsx(up,{})})}),f.jsx(yr,{path:"/tornei",element:f.jsx(kn,{children:f.jsx(ox,{})})}),f.jsx(yr,{path:"/torneo/:id",element:f.jsx(kn,{adminOnly:!0,children:f.jsx(dx,{})})}),f.jsx(yr,{path:"*",element:f.jsx(kn,{children:f.jsx(hx,{})})})]})})}function px(){return f.jsx(Jy,{children:f.jsx(g0,{children:f.jsx(fx,{})})})}gg.createRoot(document.getElementById("root")).render(f.jsx(Jt.StrictMode,{children:f.jsx(px,{})}));
